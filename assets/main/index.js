window.__require=function t(e,o,n){function i(c,a){if(!o[c]){if(!e[c]){var s=c.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+c+"'")}c=s}var u=o[c]={exports:{}};e[c][0].call(u.exports,function(t){return i(e[c][1][t]||t)},u,u.exports,t,e,o,n)}return o[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<n.length;c++)i(n[c]);return i}({AStarGrid:[function(t,e,o){"use strict";cc._RF.push(e,"96d5f3fXM9NZ4IvpalAKbyE","AStarGrid"),Object.defineProperty(o,"__esModule",{value:!0}),o.AStarGrid=void 0;var n=t("./AStarNode"),i=function(){function t(t,e){this._numCols=t,this._numRows=e,this._nodes=[];for(var o=0;o<t;o++){this._nodes[o]=[];for(var i=0;i<e;i++)this._nodes[o][i]=new n.AStarNode(o,i)}}return t.prototype.getNode=function(t,e){return this._nodes[t][e]},t.prototype.setEndNode=function(t,e){this._endNode=this._nodes[t][e]},t.prototype.setStartNode=function(t,e){this._startNode=this._nodes[t][e]},t.prototype.setWalkable=function(t,e,o){this._nodes[t][e].walkable=o},Object.defineProperty(t.prototype,"endNode",{get:function(){return this._endNode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numCols",{get:function(){return this._numCols},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numRows",{get:function(){return this._numRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startNode",{get:function(){return this._startNode},enumerable:!1,configurable:!0}),t}();o.AStarGrid=i,cc._RF.pop()},{"./AStarNode":"AStarNode"}],AStarNode:[function(t,e,o){"use strict";cc._RF.push(e,"cde33BfcaJFgLv6n7Ros8Zd","AStarNode"),Object.defineProperty(o,"__esModule",{value:!0}),o.AStarNode=void 0;o.AStarNode=function(t,e){this.walkable=!0,this.costMultiplier=1,this.walkableUp=!0,this.walkableDown=!0,this.walkableLeft=!0,this.walkableRight=!0,this.x=t,this.y=e},cc._RF.pop()},{}],AStarTemp:[function(t,e){"use strict";cc._RF.push(e,"49a5e77Mx5B6oU6bqb5SzBa","AStarTemp"),function(){function t(t,e,o){this.openList=[],this.closedList=[],this.startNode={x:t[0],y:t[1],g:0,h:0,f:0},this.endNode={x:e[0],y:e[1],g:0,h:0,f:0},this.grid=o.map(function(t,e){return t.map(function(t,o){return{x:e,y:o,g:0,h:0,f:0}})}),this.openList.push(this.startNode)}t.prototype.manhattanDistance=function(t){return Math.abs(t.x-this.endNode.x)+Math.abs(t.y-this.endNode.y)},t.prototype.isValidNode=function(t,e,o){return e>=0&&e<this.grid.length&&o>=0&&o<this.grid[0].length&&this.grid[e][o].f!==1/0},t.prototype.getAdjacentNodes=function(t){var e=[],o=t.x,n=t.y;return this.isValidNode(t,o-1,n)&&e.push(this.grid[o-1][n]),this.isValidNode(t,o,n+1)&&e.push(this.grid[o][n+1]),this.isValidNode(t,o+1,n)&&e.push(this.grid[o+1][n]),this.isValidNode(t,o,n-1)&&e.push(this.grid[o][n-1]),e},t.prototype.findPath=function(){for(var t=this,e=function(){var e=o.openList.sort(function(t,e){return t.f-e.f})[0];if(e.x===o.endNode.x&&e.y===o.endNode.y){for(var n=[],i=e;i.parent;)n.unshift(i),i=i.parent;return n.unshift(o.startNode),{value:n}}o.closedList.push(e),o.openList=o.openList.filter(function(t){return t!==e}),o.getAdjacentNodes(e).forEach(function(o){if(!t.closedList.some(function(t){return t.x===o.x&&t.y===o.y})){var n=e.g+1;if(t.openList.some(function(t){return t.x===o.x&&t.y===o.y})){if(n>=o.g)return}else t.openList.push(o);o.g=n,o.h=t.manhattanDistance(o),o.f=o.g+o.h,o.parent=e}})},o=this;this.openList.length>0;){var n=e();if("object"==typeof n)return n.value}return[]}}(),cc._RF.pop()},{}],AStar:[function(t,e,o){"use strict";cc._RF.push(e,"a9356LOkk1LZpcu7+EbU8l6","AStar"),Object.defineProperty(o,"__esModule",{value:!0}),o.AStar=void 0;var n=function(){function t(){this._straightCost=1,this._diagCost=Math.SQRT2,this._path=[],this._heuristic=this.diagonal}return t.prototype.findPath=function(t){return this._grid=t,this._open=[],this._closed=[],this._startNode=this._grid.startNode,this._endNode=this._grid.endNode,this._startNode.g=0,this._startNode.h=this._heuristic(this._startNode),this._startNode.f=this._startNode.g+this._startNode.h,this._startNode.parent=null,this._endNode.parent=null,this._search()},t.prototype._search=function(){for(var t=this._startNode;t!=this._endNode;){for(var e=Math.max(0,t.x-1),o=Math.min(this._grid.numCols-1,t.x+1),n=Math.max(0,t.y-1),i=Math.min(this._grid.numRows-1,t.y+1),r=e;r<=o;r++)for(var c=n;c<=i;c++)if(r==t.x||c==t.y){var a=this._grid.getNode(r,c);if(a!=t&&a.walkable&&this._grid.getNode(t.x,a.y).walkable&&this._grid.getNode(a.x,t.y).walkable&&(t.x!=a.x||a.y!=t.y-1||t.wallUp&&a.wallDown)&&(t.x!=a.x||a.y!=t.y+1||t.wallDown&&a.wallUp)&&(t.x!=a.x-1||a.y!=t.y||t.wallRight&&a.wallLeft)&&(t.x!=a.x+1||a.y!=t.y||t.wallLeft&&a.wallRight)&&(t.x!=a.x||a.y!=t.y-1||t.walkableUp&&a.walkableDown)&&(t.x!=a.x||a.y!=t.y+1||t.walkableDown&&a.walkableUp)&&(t.x!=a.x-1||a.y!=t.y||t.walkableRight&&a.walkableLeft)&&(t.x!=a.x+1||a.y!=t.y||t.walkableLeft&&a.walkableRight)){var s=this._straightCost;t.x!=a.x&&t.y!=a.y&&(s=this._diagCost);var l=t.g+s*a.costMultiplier,u=this._heuristic(a),p=l+u;this.isOpen(a)||this.isClosed(a)?a.f>p&&(a.f=p,a.g=l,a.h=u,a.parent=t):(a.f=p,a.g=l,a.h=u,a.parent=t,this._open.push(a))}}for(var h=0;h<this._open.length;h++);if(this._closed.push(t),0==this._open.length)return console.log("AStar >> no path found"),!1;for(var f=this._open.length,d=0;d<f;d++)for(var _=d+1;_<f;_++)if(this._open[d].f>this._open[_].f){var y=this._open[d];this._open[d]=this._open[_],this._open[_]=y}t=this._open.shift()}return this.buildPath(),!0},t.prototype.buildPath=function(){this._path=[];var t=this._endNode;for(this._path.push(t);t!=this._startNode;)(t=t.parent).parent&&this._path.unshift(t)},Object.defineProperty(t.prototype,"path",{get:function(){return this._path},enumerable:!1,configurable:!0}),t.prototype.isOpen=function(t){for(var e=0;e<this._open.length;e++)if(this._open[e]==t)return!0;return!1},t.prototype.isClosed=function(t){for(var e=0;e<this._closed.length;e++)if(this._closed[e]==t)return!0;return!1},t.prototype.manhattan=function(t){return Math.abs(t.x-this._endNode.x)*this._straightCost+Math.abs(t.y+this._endNode.y)*this._straightCost},t.prototype.euclidian=function(t){var e=t.x-this._endNode.x,o=t.y-this._endNode.y;return Math.sqrt(e*e+o*o)*this._straightCost},t.prototype.diagonal=function(t){var e=Math.abs(t.x-this._endNode.x),o=Math.abs(t.y-this._endNode.y),n=Math.min(e,o),i=e+o;return this._diagCost*n+this._straightCost*(i-2*n)},Object.defineProperty(t.prototype,"visited",{get:function(){return this._closed.concat(this._open)},enumerable:!1,configurable:!0}),t}();o.AStar=n,cc._RF.pop()},{}],AdapterMgr:[function(t,e,o){"use strict";cc._RF.push(e,"a90c1IRoElK9JURb0NY87hK","AdapterMgr");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.EAdapterType=void 0;var i=t("../Global/Macro"),r=0,c=1<<r++,a=1<<r++,s=1<<r++,l=1<<r++,u=1<<r++,p=a|s,h=l|u,f=1<<r++,d=1<<r++,_=1<<r++;(function(t){t[t.Top=l]="Top",t[t.Bottom=u]="Bottom",t[t.Left=a]="Left",t[t.Right=s]="Right",t[t.StretchWidth=p]="StretchWidth",t[t.StretchHeight=h]="StretchHeight",t[t.FullWidth=f]="FullWidth",t[t.FullHeight=d]="FullHeight"})(o.EAdapterType||(o.EAdapterType={}));var y=cc._decorator,v=y.ccclass,g=(y.property,function(){function t(){}var e;return e=t,Object.defineProperty(t,"inst",{get:function(){return null==this._instance&&(this._instance=new e,this._instance.visibleSize=cc.view.getVisibleSize(),i.Macro.log.logView(""+this._instance.visibleSize,"visiable size:")),this._instance},enumerable:!1,configurable:!0}),t.prototype.adapteByType=function(t,e,o){void 0===o&&(o=0);for(var n=_;n>0;)n&t&&this._doAdapte(n,e,o),n>>=1;var i=e.getComponent(cc.Widget);i.target=cc.find("Canvas"),i.updateAlignment()},t.prototype._doAdapte=function(t,e,o){void 0===o&&(o=0);var n=e.getComponent(cc.Widget);switch(n||(n=e.addComponent(cc.Widget)),n.alignMode=cc.Widget.AlignMode.ON_WINDOW_RESIZE,t){case c:break;case a:n.isAlignLeft=!0,n.isAbsoluteLeft=!0,n.left=o||0;break;case s:n.isAlignRight=!0,n.isAbsoluteRight=!0,n.right=o||0;break;case l:if(cc.sys.platform===cc.sys.WECHAT_GAME){var i=window.wx.getMenuButtonBoundingClientRect(),r=window.wx.getSystemInfoSync();o+=cc.find("Canvas").height*(i.top/r.screenHeight)}n.isAlignTop=!0,n.isAbsoluteTop=!0,n.top=o||0;break;case u:n.isAlignBottom=!0,n.isAbsoluteBottom=!0,n.bottom=o||0;break;case f:e.height/=e.width/this.visibleSize.width,e.width=this.visibleSize.width;break;case d:e.width/=e.height/this.visibleSize.height,e.height=this.visibleSize.height}},t.prototype.removeAdaptater=function(t){t.getComponent(cc.Widget)&&t.removeComponent(cc.Widget)},t._instance=null,e=n([v],t)}());o.default=g,cc._RF.pop()},{"../Global/Macro":"Macro"}],ArcProgressBar:[function(t,e,o){"use strict";cc._RF.push(e,"79e3fRO+utGn6z9W8jTSnaP","ArcProgressBar");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,l=c.requireComponent,u=c.executeInEditMode,p=c.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.graphics=null,e._radius=100,e._clockwise=!0,e._startAngle=90,e._range=180,e._lineWidth=20,e._progress=.4,e._lineCap=cc.Graphics.LineCap.ROUND,e._backgroundColor=new cc.Color(255,255,255,255),e._progressColor=new cc.Color(50,101,246,255),e.curStartAngle=0,e.curStartRadians=0,e.curEndRadians=0,e.curTween=null,e.curTweenRes=null,e}return i(e,t),Object.defineProperty(e.prototype,"radius",{get:function(){return this._radius},set:function(t){this._radius=t,this.updateProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clockwise",{get:function(){return this._clockwise},set:function(t){this._clockwise=t,this.updateProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"startAngle",{get:function(){return this._startAngle},set:function(t){this._startAngle=t,this.updateProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this._range},set:function(t){this._range=t,this.updateProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineWidth",{get:function(){return this._lineWidth},set:function(t){this._lineWidth=t,this.updateProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"progress",{get:function(){return this._progress},set:function(t){this.updateProgress(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineCap",{get:function(){return this._lineCap},set:function(t){this._lineCap=t,this.updateProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this.updateProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"progressColor",{get:function(){return this._progressColor},set:function(t){this._progressColor=t,this.updateProperties()},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.init()},e.prototype.resetInEditor=function(){this.init()},e.prototype.init=function(){this.graphics||(this.graphics=this.getComponent(cc.Graphics)),this.updateProperties()},e.prototype.show=function(){var t=this;return new Promise(function(e){var o=t.graphics.node;o.opacity=0,o.active=!0,cc.tween(o).to(.1,{opacity:255}).call(e).start()})},e.prototype.hide=function(){var t=this;return new Promise(function(e){var o=t.graphics.node;cc.tween(o).to(.1,{opacity:0}).set({active:!1}).call(e).start()})},e.prototype.updateProperties=function(){var t=this.graphics;t.lineWidth=this._lineWidth,t.lineCap=this._lineCap,this.curStartAngle=this._startAngle+90,this.curStartRadians=this.angleToRadians(this.curStartAngle);var e=this.curStartAngle+(this._clockwise?-this._range:this._range);this.curEndRadians=this.angleToRadians(e),this.updateProgress(this._progress)},e.prototype.updateProgress=function(t){t<0?t=0:t>1&&(t=1),this._progress=t;var e=this.graphics;e.clear(),e.strokeColor=this._backgroundColor,e.arc(0,0,this._radius,this.curStartRadians,this.curEndRadians,!this._clockwise),e.stroke();var o=this._clockwise?-this._range:this._range,n=this.curStartAngle+o*t,i=this.angleToRadians(n);e.strokeColor=this._progressColor,e.arc(0,0,this._radius,this.curStartRadians,i,!this._clockwise),e.stroke()},e.prototype.to=function(t,e){var o=this;return new Promise(function(n){o.stop(),o.curTweenRes=n,o.curTween=cc.tween(o).to(t,{progress:e}).call(function(){o.curTween=null,o.curTweenRes=null}).call(n).start()})},e.prototype.stop=function(){this.curTween&&(this.curTween.stop(),this.curTween=null),this.curTweenRes&&(this.curTweenRes(),this.curTweenRes=null)},e.prototype.angleToRadians=function(t){return Math.PI/180*t},r([s(cc.Graphics)],e.prototype,"graphics",void 0),r([s()],e.prototype,"_radius",void 0),r([s({tooltip:!1})],e.prototype,"radius",null),r([s()],e.prototype,"_clockwise",void 0),r([s({tooltip:!1})],e.prototype,"clockwise",null),r([s()],e.prototype,"_startAngle",void 0),r([s({tooltip:!1})],e.prototype,"startAngle",null),r([s()],e.prototype,"_range",void 0),r([s({tooltip:!1})],e.prototype,"range",null),r([s()],e.prototype,"_lineWidth",void 0),r([s({tooltip:!1})],e.prototype,"lineWidth",null),r([s()],e.prototype,"_progress",void 0),r([s({range:[0,1],step:.01,tooltip:!1})],e.prototype,"progress",null),r([s()],e.prototype,"_lineCap",void 0),r([s({type:cc.Graphics.LineCap,tooltip:!1})],e.prototype,"lineCap",null),r([s()],e.prototype,"_backgroundColor",void 0),r([s({type:cc.Color,tooltip:!1})],e.prototype,"backgroundColor",null),r([s()],e.prototype,"_progressColor",void 0),r([s({type:cc.Color,tooltip:!1})],e.prototype,"progressColor",null),r([a,l(cc.Graphics),u,p("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/ArcProgressBar")],e)}(cc.Component);o.default=h,cc._RF.pop()},{}],AsyncUtils:[function(t,e,o){"use strict";cc._RF.push(e,"6a016D7Eq5FMp6InQTQ+a/E","AsyncUtils");var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.delay=void 0,o.delay=function(t){return n(this,void 0,Promise,function(){return i(this,function(){return[2,new Promise(function(e){return setTimeout(e,t)})]})})},cc._RF.pop()},{}],AudioEffect:[function(t,e,o){"use strict";cc._RF.push(e,"e85b49ZHGFA9bqzwNAim3iu","AudioEffect");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.AudioEffect=void 0;var r=t("../../Global/Macro"),c=t("../Config/GameConfig"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.effects=new Map,e}return i(e,t),e.prototype.load=function(t,e){var o=this;r.Macro.res.loadRes(c.GameConfig.DYNAMIC_BUNDLE,t,function(n,i){n&&r.Macro.log.logError(n);var c=i;o.effects.set(t,c),o.clip=c,o.play(),e&&e()})},e.prototype.release=function(){for(var t in this.effects)r.Macro.res.destoryRes(t);this.effects.clear()},e}(cc.AudioSource);o.AudioEffect=a,cc._RF.pop()},{"../../Global/Macro":"Macro","../Config/GameConfig":"GameConfig"}],AudioMgr:[function(t,e,o){"use strict";cc._RF.push(e,"628a2luJv9ApLcGN4LAKFgf","AudioMgr");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.AudioMgr=void 0;var r=t("../../Utils/Storage/StorageMgr"),c=t("./AudioEffect"),a=t("./AudioMusic"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.localData={},e._volumeMusic=1,e._volumeEffect=1,e._switchMusic=!0,e._switchEffect=!0,e}return i(e,t),e.prototype.onLoad=function(){this.music=this.getComponent(a.AudioMusic)||this.addComponent(a.AudioMusic),this.effect=this.getComponent(c.AudioEffect)||this.addComponent(c.AudioEffect);var t=r.default.get("game_audio");if(t){try{this.localData=t,this._volumeMusic=this.localData.volume_music,this._volumeEffect=this.localData.volume_effect,this._switchMusic=this.localData.switch_music,this._switchEffect=this.localData.switch_effect}catch(e){this.localData={},this._volumeMusic=1,this._volumeEffect=1,this._switchMusic=!0,this._switchEffect=!0}this.music&&(this.music.volume=this._volumeMusic),this.effect&&(this.effect.volume=this._volumeEffect)}},e.prototype.setMusicComplete=function(t){void 0===t&&(t=null),this.music.onComplete=t},e.prototype.playMusic=function(t,e,o){void 0===e&&(e=!0),this._switchMusic&&this.music.load(t,e,o)},Object.defineProperty(e.prototype,"progressMusic",{get:function(){return this.music.progress},set:function(t){this.music.progress=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volumeMusic",{get:function(){return this._volumeMusic},set:function(t){this._volumeMusic=t,this.music.volume=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"switchMusic",{get:function(){return this._switchMusic},set:function(t){this._switchMusic=t,0==t&&this.music.stop()},enumerable:!1,configurable:!0}),e.prototype.playEffect=function(t){this._switchEffect&&this.effect.load(t)},Object.defineProperty(e.prototype,"volumeEffect",{get:function(){return this._volumeEffect},set:function(t){this._volumeEffect=t,this.effect.volume=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"switchEffect",{get:function(){return this._switchEffect},set:function(t){this._switchEffect=t,0==t&&this.effect.stop()},enumerable:!1,configurable:!0}),e.prototype.pauseMusic=function(){var t;null===(t=this.music)||void 0===t||t.pause()},e.prototype.pauseEffect=function(){var t;null===(t=this.effect)||void 0===t||t.pause()},e.prototype.resumeMusic=function(){var t;null===(t=this.music)||void 0===t||t.play()},e.prototype.resumeEffect=function(){var t;null===(t=this.effect)||void 0===t||t.play()},e.prototype.stopMusic=function(){var t;null===(t=this.music)||void 0===t||t.stop()},e.prototype.stopEffect=function(){var t;null===(t=this.effect)||void 0===t||t.stop()},e.prototype.pauseAll=function(){this.music&&(this.music.pause(),this.effect.pause())},e.prototype.resumeAll=function(){this.music&&(this.music.play(),this.effect.play())},e.prototype.stopAll=function(){this.music&&(this.music.stop(),this.effect.stop())},e.prototype.save=function(){this.localData.volume_music=this._volumeMusic,this.localData.volume_effect=this._volumeEffect,this.localData.switch_music=this._switchMusic,this.localData.switch_effect=this._switchEffect,r.default.set("game_audio",this.localData)},e}(cc.Component);o.AudioMgr=s,cc._RF.pop()},{"../../Utils/Storage/StorageMgr":"StorageMgr","./AudioEffect":"AudioEffect","./AudioMusic":"AudioMusic"}],AudioMusic:[function(t,e,o){"use strict";cc._RF.push(e,"2c50eoMtiBIbahVEW9f5ZFL","AudioMusic");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.AudioMusic=void 0;var r=t("../../Global/Macro"),c=t("../Config/GameConfig"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onComplete=null,e._progress=0,e._url=null,e._isPlay=!1,e}return i(e,t),Object.defineProperty(e.prototype,"progress",{get:function(){return this.getDuration(),this.getDuration()>0&&(this._progress=this.getCurrentTime()/this.getDuration()),this._progress},set:function(t){this._progress=t,this.setCurrentTime(t*this.getDuration())},enumerable:!1,configurable:!0}),e.prototype.load=function(t,e,o){var n=this;r.Macro.res.loadRes(c.GameConfig.DYNAMIC_BUNDLE,t,function(i,c){i&&r.Macro.log.logError(i),n.isPlaying&&(n._isPlay=!1,n.stop(),r.Macro.res.destoryRes(n._url)),n.enabled=!0,n.clip=c,n.loop=e,o&&o(),n.play(),n._url=t})},e.prototype.update=function(){this.getCurrentTime()>0&&(this._isPlay=!0),this._isPlay&&0==this.isPlaying&&(this._isPlay=!1,this.enabled=!1,this.onComplete&&this.onComplete())},e.prototype.release=function(){this._url&&(r.Macro.res.destoryRes(this._url),this._url=null)},e}(cc.AudioSource);o.AudioMusic=a,cc._RF.pop()},{"../../Global/Macro":"Macro","../Config/GameConfig":"GameConfig"}],AwardItem:[function(t,e,o){"use strict";cc._RF.push(e,"68422s3/P1Bfq11BKATJdTu","AwardItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,l=c.menu,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e}return i(e,t),e.prototype.changeSkin=function(t){var e=this.icon.getComponent(cc.Sprite);e.spriteFrame?e.spriteFrame.setTexture(t):e.spriteFrame=new cc.SpriteFrame(t)},r([s(cc.Node)],e.prototype,"icon",void 0),r([a,l("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/AwardItem")],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],AwardScroll:[function(t,e,o){"use strict";cc._RF.push(e,"069c9nIsgJFTrYs7fKW73UM","AwardScroll");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../Frame/Config/GameConfig"),l=t("../Global/Macro"),u=t("../Utils/AsyncUtils"),p=t("./AwardItem"),h=cc._decorator,f=h.ccclass,d=h.property,_=h.menu,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.moveSpeed=50,e.spacing=140,e._isInited=!1,e}return i(e,t),e.prototype.start=function(){return c(this,void 0,void 0,function(){var t=this;return a(this,function(e){switch(e.label){case 0:return l.Macro.sdk.meta?[3,2]:[4,u.delay(100)];case 1:return e.sent(),[3,0];case 2:return this._isInited=!1,l.Macro.res.loadRes(s.GameConfig.DYNAMIC_BUNDLE,"Prefab/AwardItem",cc.Prefab,function(e,o){t._init(o),t._isInited=!0}),[2]}})})},e.prototype._init=function(t){this._items=[];for(var e=l.Macro.sdk.meta.rewards,o=function(o){var i=cc.instantiate(t),r=e[o],c=i.getComponent(p.default);l.Macro.res.loadRemoteRes(r).then(function(t){c.changeSkin(t)}),n._items.push(c),n.node.addChild(i),i.x=o*n.spacing},n=this,i=0,r=e.length;i<r;i++)o(i);if(this._tempIdx=e.length-1,this._items.length>0){var c=this._items[0].node.width/2;this._leftX=-this.node.width/2-c}},e.prototype.update=function(t){if(this._isInited)for(var e=t*this.moveSpeed,o=this._items.length;--o>=0;){var n=this._items[o];n.node.x-=e,n.node.x<=this._leftX&&(n.node.x=this._items[this._tempIdx].node.x+this.spacing,this._tempIdx=this._tempIdx>=this._items.length-1?0:this._tempIdx+1)}},r([d({type:cc.Float,displayName:"moveSpeed",tooltip:"\u6eda\u52a8\u901f\u5ea6(\u5355\u4f4d\uff1a\u50cf\u7d20/\u79d2)"})],e.prototype,"moveSpeed",void 0),r([d({type:cc.Float,displayName:"spacing",tooltip:"\u95f4\u8ddd(\u50cf\u7d20)"})],e.prototype,"spacing",void 0),r([f,_("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/AwardScroll")],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../Frame/Config/GameConfig":"GameConfig","../Global/Macro":"Macro","../Utils/AsyncUtils":"AsyncUtils","./AwardItem":"AwardItem"}],Barrage:[function(t,e,o){"use strict";cc._RF.push(e,"e2b63s+bZBGy7ToqG9kt4d5","Barrage");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s,l,u=t("../AutoScripts/Ref"),p=t("../Global/Macro"),h=t("../Utils/AsyncUtils");(function(t){t[t.LEFT_RIGHT=1]="LEFT_RIGHT",t[t.RIGHT_LEFT=2]="RIGHT_LEFT",t[t.UP_DOWN=3]="UP_DOWN",t[t.DOWN_UP=4]="DOWN_UP"})(s||(s={})),function(t){t[t.NORMAL=1]="NORMAL",t[t.PAGE=3]="PAGE"}(l||(l={}));var f=cc._decorator,d=f.ccclass,_=f.property,y=f.menu,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._scrollDirection=s.UP_DOWN,e._scrollMode=l.NORMAL,e.stopTime=1,e.scrollSpeed=50,e.mask=null,e.richText=null,e.isExt=!1,e}return i(e,t),Object.defineProperty(e.prototype,"scrollDirection",{get:function(){return this._scrollDirection},set:function(t){this._scrollDirection=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scrollMode",{get:function(){return this._scrollMode},set:function(t){this._scrollMode=t},enumerable:!1,configurable:!0}),e.prototype.start=function(){var t;return c(this,void 0,void 0,function(){var e,o,n,i,r,c,l,f,d,_,y,v,g;return a(this,function(a){switch(a.label){case 0:return p.Macro.sdk.meta?[3,2]:[4,h.delay(100)];case 1:return a.sent(),[3,0];case 2:if(this._totalCount=0,this._curIdx=0,this._moveY=0,this._stopTimeSy=0,this._width=this.mask.width,this._height=this.mask.height,e=[],o=null===(t=p.Macro.sdk.meta.ext)||void 0===t?void 0:t.list,n=o?o.length:0,this.isExt)if(n>0)e=o,this._totalCount=n;else for(r in i=u.ExtRef.dataList)c=i[r],_=c.info,e.push(_),this._totalCount++;else for(r in i=u.BarrageRef.dataList)c=i[r],_=c.info,e.push(_),this._totalCount++;switch(this._scrollDirection){case s.LEFT_RIGHT:case s.RIGHT_LEFT:for(_="",y=0,l=e.length;y<l;y++)_=_+e[y]+";";this.richText.string=_,f=this.richText.node.width,this._left=-(f+this._width)/2,this._right=-this._left,this.richText.node.x=s.RIGHT_LEFT==this._scrollDirection?this._right-this._width/2:this._left+this._width/2;break;case s.UP_DOWN:case s.DOWN_UP:for(this.richText.lineHeight=this._height,this.richText.string="",d=(this.richText.node.height-this.richText.lineHeight)/2,_="",y=0,v=e.length;y<v;y++)y!=v-1?_=_+e[y]+"\n":_+=e[y];this.richText.string=_,g=this.richText.node.height,this._up=(g+this._height)/2-d,this._down=-this._up,this.richText.node.y=s.UP_DOWN==this._scrollDirection?this._up:this._down}return[2]}})})},e.prototype.update=function(t){switch(this._scrollMode){case l.NORMAL:switch(this._scrollDirection){case s.LEFT_RIGHT:var e=t*this.scrollSpeed;(o=this.richText.node.x+e)>=this._right?this.richText.node.x=this._left:this.richText.node.x=o;break;case s.RIGHT_LEFT:var o;e=t*this.scrollSpeed,(o=this.richText.node.x-e)<=this._left?this.richText.node.x=this._right:this.richText.node.x=o;break;case s.UP_DOWN:var n=t*this.scrollSpeed;(i=this.richText.node.y-n)<=this._down?this.richText.node.y=this._up:this.richText.node.y=i;break;case s.DOWN_UP:n=t*this.scrollSpeed,(i=this.richText.node.y+n)>=this._up?this.richText.node.y=this._down:this.richText.node.y=i}break;case l.PAGE:switch(this._scrollDirection){case s.LEFT_RIGHT:case s.RIGHT_LEFT:break;case s.UP_DOWN:if(this._stopTimeSy-=t,this._stopTimeSy<=0){n=t*this.scrollSpeed;var i=this.richText.node.y-n;this._moveY+=n;var r=this._curIdx*this._height+this._height;this._moveY>=r?(this.richText.node.y=this._up-r,this._curIdx==this._totalCount?(this._curIdx=0,this._moveY=0,this.richText.node.y=this._up):(this._stopTimeSy=this.stopTime,this._curIdx++)):this.richText.node.y=i}break;case s.DOWN_UP:this._stopTimeSy-=t,this._stopTimeSy<=0&&(n=t*this.scrollSpeed,i=this.richText.node.y+n,this._moveY+=n,r=this._curIdx*this._height+this._height,this._moveY>=r?(this.richText.node.y=this._down+r,this._curIdx==this._totalCount?(this._curIdx=0,this._moveY=0,this.richText.node.y=this._down):(this._stopTimeSy=this.stopTime,this._curIdx++)):this.richText.node.y=i)}}},r([_()],e.prototype,"_scrollDirection",void 0),r([_({type:cc.Enum(s),tooltip:!1})],e.prototype,"scrollDirection",null),r([_()],e.prototype,"_scrollMode",void 0),r([_({type:cc.Enum(l),tooltip:!1})],e.prototype,"scrollMode",null),r([_({type:cc.Float,tooltip:!1,visible:function(){return this.scrollMode==l.PAGE}})],e.prototype,"stopTime",void 0),r([_({type:cc.Float,displayName:"ScrollSpeed",tooltip:"\u6eda\u52a8\u901f\u5ea6(\u5355\u4f4d\uff1a\u50cf\u7d20/\u79d2)"})],e.prototype,"scrollSpeed",void 0),r([_(cc.Node)],e.prototype,"mask",void 0),r([_(cc.RichText)],e.prototype,"richText",void 0),r([_(cc.Boolean)],e.prototype,"isExt",void 0),r([d,y("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/Barrage")],e)}(cc.Component);o.default=v,cc._RF.pop()},{"../AutoScripts/Ref":"Ref","../Global/Macro":"Macro","../Utils/AsyncUtils":"AsyncUtils"}],Base64:[function(t,e,o){"use strict";cc._RF.push(e,"c6ae73MygRNbbovL5fbyOXD","Base64"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.encode=function(e){if(/([^\u0000-\u00ff])/.test(e))throw new Error("INVALID_CHARACTER_ERR");for(var o,n,i,r=0,c=[];r<e.length;){switch(n=e.charCodeAt(r),i=r%3){case 0:c.push(t.base64hash.charAt(n>>2));break;case 1:c.push(t.base64hash.charAt((3&o)<<4|n>>4));break;case 2:c.push(t.base64hash.charAt((15&o)<<2|n>>6)),c.push(t.base64hash.charAt(63&n))}o=n,r++}return 0==i?(c.push(t.base64hash.charAt((3&o)<<4)),c.push("==")):1==i&&(c.push(t.base64hash.charAt((15&o)<<2)),c.push("=")),c.join("")},t.decode=function(e){e=e.replace(/\s|=/g,"");for(var o,n,i=0,r=[];i<e.length;){switch(o=t.base64hash.indexOf(e.charAt(i)),i%4){case 0:break;case 1:r.push(String.fromCharCode(n<<2|o>>4));break;case 2:r.push(String.fromCharCode((15&n)<<4|o>>2));break;case 3:r.push(String.fromCharCode((3&n)<<6|o))}n=o,i++}return r.join("")},t.base64hash="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t}();o.default=n,cc._RF.pop()},{}],BaseState:[function(t,e,o){"use strict";cc._RF.push(e,"1b97a4LBY5HmqpP9rhs+5uf","BaseState"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(t,e){this.owner=t,this.id=e}return t.prototype.GetNextState=function(){return this.isFinished?this.nextState:0},t.prototype.OnEnter=function(t,e){this.isFinished=!1,this.nextState=0,this.passTime=0,this.deltaTime=0,this._DoEnter(t,e)},t.prototype.OnRunning=function(t,e){this.isFinished||(this.deltaTime=e,this.passTime+=e,this._DoRunning(e,t))},t.prototype.OnExit=function(t,e){this._DoExit(t,e)},t.prototype._DoEnter=function(){},t.prototype._DoRunning=function(){},t.prototype._DoExit=function(){},t}();o.default=n,cc._RF.pop()},{}],BigNumUtils:[function(t,e,o){"use strict";var n;cc._RF.push(e,"e4b22o3miJOKZsi+0JdCxgT","BigNumUtils"),Object.defineProperty(o,"__esModule",{value:!0}),o.RountType=void 0,function(t){t[t.Round=0]="Round",t[t.Floor=1]="Floor",t[t.Ceil=2]="Ceil"}(n=o.RountType||(o.RountType={}));var i=function(){function t(){}return t.BNPlus=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var o=[0,0],n=0;n<t.length;n++){var i=t[n],r=void 0,c=void 0,a=+i;0===a||a&&a!==1/0?(c=i<10?0:Math.floor(Math.log10(+i)+1e-6),r=i<10?i:i/Math.pow(10,c)):i?(r=+(i=i.split("e"))[0]||0,c=+i[1]||0):(r=0,c=0),c>o[1]?(o[0]/=Math.pow(10,c-o[1]),o[0]+=r,o[1]=c):o[0]+=r/Math.pow(10,o[1]-c)}for(var s=o[0]>=0?1:-1,l=Math.abs(o[0]);l<1&&o[1]>0;)l*=10,o[1]-=1;for(;l>10;)l/=10,o[1]+=1;return(l*=s)+"e"+o[1]},t.BNMinus=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var o=[0,0],n=0;n<t.length;n++){var i=t[n],r=n,c=void 0,a=void 0,s=+i;0===s||s&&s!==1/0?(a=i<10?0:Math.floor(Math.log10(+i)+1e-6),c=i<10?i:i/Math.pow(10,a)):(c=+(i=i.split("e"))[0],a=+i[1]),r?o[1]<a?(o[0]=o[0]/Math.pow(10,a-o[1])-c,o[1]=a):o[0]-=c/Math.pow(10,o[1]-a):(o[0]=c,o[1]=a)}for(var l=o[0]>=0?1:-1,u=Math.abs(o[0]);u<1&&o[1]>0;)u*=10,o[1]-=1;for(;u>10;)u/=10,o[1]+=1;return(u*=l)+"e"+o[1]},t.BNTimes=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o=[0,0];t.forEach(function(t,e){var n,i,r=+t;0===r||r&&r!==1/0?(i=t<10?0:Math.floor(Math.log10(+t)+1e-6),n=t<10?t:t/Math.pow(10,i)):t?(n=+(t=t.split("e"))[0]||0,i=+t[1]||0):(n=1,i=0),e?(o[0]*=n,o[1]+=i,o[0]>1e300&&(o[0]/=1e300,o[1]+=300)):(o[0]=n,o[1]=i)});for(var n=o[0]>=0?1:-1,i=Math.abs(o[0]);i<1&&o[1]>0;)i*=10,o[1]-=1;for(;i>10;)i/=10,o[1]+=1;return i*n+"e"+o[1]},t.BNDevide=function(t,e){if(0==+e)return 0;var o=[0,0],n=1;[t,e].forEach(function(t,e){var i,r,c=+t,a=Math.abs(c);0===a||a&&a!==1/0?(r=a<10?0:Math.floor(Math.log10(a)+1e-6),i=a<10?a:a/Math.pow(10,r)):(c=+(t=t.split("e"))[0],i=Math.abs(c),r=+t[1]),n*=c>=0?1:-1,0===e?(o[0]=i,o[1]=r):(o[0]/=i,o[1]-=r)});for(var i=Math.abs(o[0]);i<1&&o[1]>0;)i*=10,o[1]-=1;for(;i>10;)i/=10,o[1]+=1;return i*=n,o[1]<100?i*Math.pow(10,o[1]):this.BNTimes(i,this.BNPow(10,o[1]))},t.BNCompare=function(t,e){var o=[0,0],n=[0,0];return[t,e].forEach(function(t,e){var i=+t;0===i||i&&i!==1/0?(n[e]=t<10?0:Math.floor(Math.log10(+t)+1e-6),o[e]=t<10?t:t/Math.pow(10,n[e])):(t=t.split("e"),o[e]=+t[0],n[e]=+t[1])}),o[0]*o[1]<0?o[0]>0?1:-1:n[1]>n[0]?-1:n[1]<n[0]?1:o[1]>o[0]?-1:o[1]<o[0]?1:0},t.BNPow=function(t,e){if(!t)return"0";if(!e)return"1";var o=Math.floor(Math.log(1e300)/Math.log(t)),n=1;if((o=Math.max(o,1))>=e)n=Math.pow(t,e);else{for(var i=Math.floor(e/o),r=[],c=Math.pow(t,o),a=0;a<i;a++)r.push(c);r.push(Math.pow(t,e-o*i)),n=this.BNTimes.apply(this,r)}return n},t.BNMax=function(t,e){return this.BNCompare(t,e)>0?t:e},t.BNMin=function(t,e){return this.BNCompare(t,e)>0?e:t},t.BNLog=function(t){var e=+t;if(0===e||e&&e!==1/0){var o=e>=0?1:-1;return e=Math.abs(e),o*Math.log10(e)}return+t.split("e")[1]},t.BNSqrt=function(t){var e=+t;if(0===e||e&&e!==1/0)return Math.sqrt(e);var o=t.split("e"),n=+o[0],i=+o[1];return Math.sqrt(n)+"e"+i/2},t.BNSqrtEx=function(t,e){var o=+t;if(0===o||o&&o!==1/0)return Math.pow(o,1/e);var n=t.split("e"),i=+n[0],r=+n[1];return Math.pow(i,1/e)+"e"+r/e},t.BNFloor=function(t){var e=+t;return 0===e||e&&e!==1/0?Math.floor(e):t},t.BNCeil=function(t){var e=+t;return 0===e||e&&e!==1/0?Math.ceil(e):t},t.BNRound=function(t){var e=+t;return 0===e||e&&e!==1/0?Math.round(e):t},t.BN2Number=function(t){var e=+t;if(0===e||e&&e!==1/0)return e;var o=t.split("e");return+o[0]*Math.pow(10,o[1])},t.getOwnString=function(t){return this.getNumberString(t,void 0,void 0,n.Floor)},t.getCostString=function(t){return this.getNumberString(t,void 0,void 0,n.Ceil)},t.getNumberString=function(t,e,o,i){var r,c;void 0===e&&(e=0),void 0===i&&(i=n.Round);var a,s=+t;if(0===s||s&&s!==1/0){if(t<1e3)return this.roundNum(t,i,e);var l=""+Math.round(t),u=0;if(~l.indexOf("e")){var p=+l.split("e")[0],h=+l.split("e")[1];u=h+=Math.floor(Math.log10(p))}else u=Math.floor(Math.log10(t));r=~l.indexOf("e")?+l.split("e")[0]*Math.pow(10,u%3):+l.slice(0,u%3+4)/1e3,c=u/3>>0}else{if(+(t=t.split("e"))[1]<3){var f=t[0]*Math.pow(10,t[1]);return this.roundNum(f,i,e)}for(r=t[0]*Math.pow(10,t[1]%3);r>1e3;)r/=1e3,t[1]=+t[1]+3;c=t[1]/3>>0}if(c<4)a=["","K","M","B"][c];else{var d=(c-4)/26>>0,_=d/26>>0,y=(c-4)%26,v="abcdefghijklmnopqrstuvwxyz",g=v.toUpperCase();a=(_<2?v:g)[d%26]+(_%2?g:v)[y]}return void 0===o&&(o=r<10?2:r<100?1:0),this.roundNum(r,i,o)+a},t.roundNum=function(t,e,o){var i,r;if(i=e===n.Round?Math.round:e===n.Ceil?Math.ceil:Math.floor,0===o)r=i(t);else{var c=Math.pow(10,o);r=i(c*t)/c}return r.toFixed(o)},t.getFixNumber=function(t,e){void 0===e&&(e=1);var o=Math.pow(10,e);return Math.floor(t*o)/o},t.getPercentString=function(t,e){return void 0===e&&(e=1),"string"==typeof t?this.getNumberString(this.BNTimes(t,100),e)+"%":this.getNumberString(100*t,e)+"%"},t}();o.default=i,cc._RF.pop()},{}],Body:[function(t,e,o){"use strict";cc._RF.push(e,"706ebdN68RPfpQaxtUsJ+zz","Body");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.Body=void 0;var c=t("../P2Enum"),a=cc._decorator,s=a.ccclass,l=a.property,u=a.menu,p=a.executeInEditMode,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.syncState=c.ESyncType.SyncFromBody,e.type=c.EBodyType.STATIC,e.mass=0,e.gravityScale=1,e.offset=cc.v2(0,0),e.velocity=cc.v2(0,0),e.angle=0,e.collisionResponse=!0,e.allowSleep=!0,e.fixedX=!1,e.fixedY=!1,e.fixedRotation=!1,e.isShowOther=!1,e.angularVelocity=0,e.force=cc.v2(0,0),e.angularForce=0,e.ccdIterations=-1,e.ccdSpeedThreshold=10,e.sleepSpeedLimit=.2,e.sleepTimeLimit=1,e.damping=.1,e.angularDamping=.1,e.body=null,e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.options.position=[this.node.x+this.offset.x,this.node.y+this.offset.y],this.options.velocity=[this.velocity.x,this.velocity.y],this.body=new p2.Body(this.options)},e.prototype._syncStateFromBody=function(){if(this.body){var t=this.body.position;this.node.x=t[0]+this.offset.x,this.node.y=t[1]+this.offset.y,this.node.angle=this.body.angle}},e.prototype._syncStateFromNode=function(){if(this.body){var t=this.node;p2.vec2.set(this.body.position,t.x,t.y),this.body.angle=this.node.angle}},e.prototype.lateUpdate=function(){this.syncState==c.ESyncType.SyncFromBody?this._syncStateFromBody():this._syncStateFromNode()},r([l({tooltip:"\u540c\u6b65\u72b6\u6001 \nSyncFromBody:body\u7684\u4f4d\u7f6e\u540c\u6b65\u5230node.\nSyncFromNode:node\u7684\u4f4d\u7f6e\u540c\u6b65\u5230body.",type:cc.Enum(c.ESyncType)})],e.prototype,"syncState",void 0),r([l({tooltip:"STATIC \u9759\u6b62\u7269\u4f53\u4e0d\u4f1a\u79fb\u52a8\uff0c\u4e5f\u4e0d\u4f1a\u5bf9\u529b\u6216\u78b0\u649e\u505a\u51fa\u53cd\u5e94\u3002\n DYNAMIC \u52a8\u6001\u8eab\u4f53\u8eab\u4f53\u53ef\u4ee5\u79fb\u52a8\u5e76\u5bf9\u78b0\u649e\u548c\u529b\u505a\u51fa\u53cd\u5e94\u3002\nKINEMATIC \u8fd0\u52a8\u5b66\u7269\u4f53\u53ea\u6839\u636e\u5176\u901f\u5ea6\u79fb\u52a8\uff0c\u5bf9\u78b0\u649e\u6216\u529b\u6ca1\u6709\u53cd\u5e94\u3002",type:cc.Enum(c.EBodyType)})],e.prototype,"type",void 0),r([l({tooltip:"\u8d28\u91cf",type:cc.Integer})],e.prototype,"mass",void 0),r([l({tooltip:"\u91cd\u529b\u7f29\u653e\u500d\u6570 \u53cd\u8f6c\u91cd\u529b\u7684\u8bdd\u8bbe\u7f6e\u4e3a-1",type:cc.Float})],e.prototype,"gravityScale",void 0),r([l({tooltip:"\u4f4d\u7f6e\u504f\u79fb\u91cf"})],e.prototype,"offset",void 0),r([l({tooltip:"\u521d\u59cb\u901f\u5ea6"})],e.prototype,"velocity",void 0),r([l({tooltip:"\u65cb\u8f6c\u89d2\u5ea6",type:cc.Float})],e.prototype,"angle",void 0),r([l({tooltip:"\u4e0e\u5176\u4ed6\u7269\u4f53\u63a5\u89e6\u65f6\u662f\u5426\u4ea7\u751f\u63a5\u89e6\u529b\u3002 \u8bf7\u6ce8\u610f\uff0c\u5c06\u751f\u6210\u8054\u7cfb\u4eba\uff0c\u4f46\u5b83\u4eec\u5c06\u88ab\u7981\u7528\u3002 \u8fd9\u610f\u5473\u7740\u8fd9\u4e2a\u7269\u4f53\u4f1a\u7a7f\u8fc7\u5176\u4ed6\u7269\u4f53\uff0c\u4f46\u5b83\u4ecd\u7136\u4f1a\u89e6\u53d1\u63a5\u89e6\u4e8b\u4ef6\u7b49\u3002"})],e.prototype,"collisionResponse",void 0),r([l({tooltip:"\u662f\u5426\u5141\u8bb8\u7761\u7720 \u5982\u679c\u662f\u771f\u7684\uff0cbody\u4f1a\u81ea\u52a8\u8fdb\u5165\u7761\u7720\u72b6\u6001\u3002\u8bf7\u6ce8\u610f\uff0c\u5728\u53d1\u751f\u4efb\u4f55\u4e8b\u60c5\u4e4b\u524d\uff0c\u60a8\u9700\u8981\u542f\u7528 World \u4e2d\u7684\u7761\u7720\u3002"})],e.prototype,"allowSleep",void 0),r([l({tooltip:"x\u8f74\u662f\u5426\u56fa\u5b9a"})],e.prototype,"fixedX",void 0),r([l({tooltip:"y\u8f74\u56fa\u5b9a"})],e.prototype,"fixedY",void 0),r([l({tooltip:"\u662f\u5426\u56fa\u5b9a\u89d2\u5ea6\u4e0d\u65cb\u8f6c"})],e.prototype,"fixedRotation",void 0),r([l({tooltip:"\u662f\u5426\u663e\u793a\u5176\u4ed6\u5c5e\u6027",displayName:"\u663e\u793a\u4e0d\u5e38\u7528\u5c5e\u6027"})],e.prototype,"isShowOther",void 0),r([l({tooltip:"\u7269\u4f53\u7684\u89d2\u901f\u5ea6\uff0c\u5355\u4f4d\u4e3a\u5f27\u5ea6\u6bcf\u79d2",type:cc.Float,visible:function(){return this.isShowOther}})],e.prototype,"angularVelocity",void 0),r([l({tooltip:"\u4f5c\u7528\u5728body\u4e0a\u7684\u529b[x,y]",visible:function(){return this.isShowOther}})],e.prototype,"force",void 0),r([l({tooltip:"\u4f5c\u7528\u5728body\u4e0a\u4e0a\u7684\u65cb\u8f6c\u529b",type:cc.Float,visible:function(){return this.isShowOther}})],e.prototype,"angularForce",void 0),r([l({tooltip:"\u5982\u679cbody\u901f\u5ea6\u8d85\u8fc7\u6b64\u9608\u503c\uff0cCCD\uff08\u8fde\u7eed\u78b0\u649e\u68c0\u6d4b\uff09\u5c06\u542f\u7528\u3002 \u5c06\u5176\u8bbe\u7f6e\u4e3a\u8d1f\u6570\u53ef\u5b8c\u5168\u7981\u7528\u8be5body\u7684 CCD\u3002",type:cc.Float,visible:function(){return this.isShowOther}})],e.prototype,"ccdIterations",void 0),r([l({tooltip:"\u5728 CCD \u671f\u95f4\u641c\u7d22\u649e\u51fb\u65f6\u95f4\u65f6\u5e94\u4f7f\u7528\u7684\u8fed\u4ee3\u6b21\u6570\u3002 \u8f83\u5927\u7684\u6570\u5b57\u5c06\u786e\u4fdd CCD \u78b0\u649e\u65f6\u7684\u7a7f\u900f\u8f83\u5c0f\uff0c\u4f46\u8f83\u5c0f\u7684\u6570\u5b57\u5c06\u63d0\u4f9b\u66f4\u9ad8\u7684\u6027\u80fd\u3002",type:cc.Float,visible:function(){return this.isShowOther}})],e.prototype,"ccdSpeedThreshold",void 0),r([l({tooltip:"\u5982\u679c\u901f\u5ea6\uff08\u901f\u5ea6\u8303\u6570\uff09\u5c0f\u4e8e\u8be5\u503c\uff0c\u5219\u8ba4\u4e3a\u8eab\u4f53\u5904\u4e8e\u56f0\u5026\u72b6\u6001\u3002sleepState\u5c06\u53d8\u4e3abody.SLEEPY",type:cc.Float,visible:function(){return this.isShowOther}})],e.prototype,"sleepSpeedLimit",void 0),r([l({tooltip:"\u5982\u679cbody\u5df2\u7ecfsleep\u4e86 sleepTimeLimit \u79d2\uff0c\u5c31\u88ab\u8ba4\u4e3a\u662f\u7761\u7720\u4e86\u3002",type:cc.Float,visible:function(){return this.isShowOther}})],e.prototype,"sleepTimeLimit",void 0),r([l({tooltip:"\u7ebf\u6027\u963b\u5c3c\u7cfb\u6570\u3002\u5e94\u4e3a0\u548c1\u4e4b\u95f4\u7684\u503c\u3002\u963b\u5c3c\u7cfb\u6570\u53ef\u4ee5\u7528\u4e8e\u63cf\u8ff0\u7269\u4f53\u5728\u8fd0\u52a8\u8fc7\u7a0b\u4e2d\u7684\u80fd\u91cf\u635f\u5931",type:cc.Float,visible:function(){return this.isShowOther}})],e.prototype,"damping",void 0),r([l({tooltip:"\u65cb\u8f6c\u963b\u5c3c\u7cfb\u6570",type:cc.Float,visible:function(){return this.isShowOther}})],e.prototype,"angularDamping",void 0),r([s,u("P2\u7269\u7406/Body"),p],e)}(cc.Component);o.Body=h,cc._RF.pop()},{"../P2Enum":"P2Enum"}],Box:[function(t,e,o){"use strict";cc._RF.push(e,"889307kjC1FGLd2mmYc6F2p","Box");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.Box=void 0;var c=t("../P2Enum"),a=t("./Shape"),s=cc._decorator,l=s.ccclass,u=s.property,p=s.menu,h=s.executeInEditMode,f=(s.requireComponent,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=c.EP2Shape.Box,e.size=new cc.Size(100,200),e.shape=null,e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.options.width=this.size.width,this.options.height=this.size.height,this.shape=new p2.Box(this.options)},r([u({tooltip:"\u5305\u56f4\u76d2\u5927\u5c0f"})],e.prototype,"size",void 0),r([l,p("P2\u7269\u7406/Shape/Box"),h],e)}(a.Shape));o.Box=f,cc._RF.pop()},{"../P2Enum":"P2Enum","./Shape":"Shape"}],ButtonPlus:[function(t,e,o){"use strict";cc._RF.push(e,"e6454JcLpRMybM/6vigvPqX","ButtonPlus");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Frame/Config/GameConfig"),a=t("../Global/Macro"),s=cc._decorator,l=s.ccclass,u=s.property,p=s.executeInEditMode,h=s.menu,f=s.help,d=s.inspector,_=s.disallowMultiple,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.audioUrl="",e.openContinuous=!0,e.continuousTime=1,e.continuous=!1,e._continuousTimer=null,e.openLongPress=!1,e.longPressTime=1,e.longPressFlag=!1,e.longPressTimer=null,e}return i(e,t),e.prototype.onEnable=function(){this.continuous=!1,t.prototype.onEnable.call(this)},e.prototype.onDisable=function(){this._continuousTimer&&(clearTimeout(this._continuousTimer),this._continuousTimer=null),this.longPressTimer&&(clearTimeout(this.longPressTimer),this.longPressTimer=null),t.prototype.onDisable.call(this)},e.prototype._onTouchBegan=function(t){this.interactable&&this.enabledInHierarchy&&(this.openLongPress&&!this.longPressFlag&&(this.longPressTimer&&clearTimeout(this.longPressTimer),this.longPressTimer=setTimeout(function(){this._pressed&&(this.node.emit("longclickStart",this),this.longPressFlag=!0)}.bind(this),1e3*this.longPressTime)),this._pressed=!0,this._updateState(),t.stopPropagation())},e.prototype._onTouchEnded=function(t){this.interactable&&this.enabledInHierarchy&&(this._pressed&&this.longPressFlag?(this.node.emit("longclickEnd",this),this.longPressFlag=!1):this._pressed&&!this.continuous&&(this.continuous=!!this.openContinuous,cc.Component.EventHandler.emitEvents(this.clickEvents,t),this.node.emit("click",t),c.GameConfig.IS_OPEN_AUDIO&&a.Macro.audio.playEffect(c.GameConfig.DEFAULT_CLICK_EFFECT),this.openContinuous&&(this._continuousTimer=setTimeout(function(){this.continuous=!1}.bind(this),1e3*this.continuousTime))),this._pressed=!1,this._updateState(),t.stopPropagation())},e.prototype._onTouchCancel=function(){this.interactable&&this.enabledInHierarchy&&(this._pressed&&this.longPressFlag&&(this.node.emit("longclickEnd",this),this.longPressFlag=!1),this._pressed=!1,this._updateState())},e.prototype.addClick=function(t,e){this.node.off("click"),this.node.on("click",t,e)},e.prototype.addLongClick=function(t,e,o){this.node.off("longclickStart"),this.node.off("longclickEnd"),this.node.on("longclickStart",t,o),this.node.on("longclickEnd",e,o)},r([u({tooltip:"\u97f3\u6548\u8def\u5f84",type:"",multiline:!0,formerlySerializedAs:"_N$string"})],e.prototype,"audioUrl",void 0),r([u({tooltip:"\u5c4f\u853d\u8fde\u7eed\u70b9\u51fb"})],e.prototype,"openContinuous",void 0),r([u({tooltip:"\u5c4f\u853d\u65f6\u95f4, \u5355\u4f4d:\u79d2"})],e.prototype,"continuousTime",void 0),r([u({tooltip:"\u662f\u5426\u5f00\u542f\u957f\u6309\u4e8b\u4ef6"})],e.prototype,"openLongPress",void 0),r([u({tooltip:"\u957f\u6309\u65f6\u95f4....."})],e.prototype,"longPressTime",void 0),r([l,h("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/ButtonPlus"),p,_,f("i18n:COMPONENT.help_url.button"),d("packages://buttonplus/inspector.js")],e)}(cc.Button);o.default=y,cc._RF.pop()},{"../Frame/Config/GameConfig":"GameConfig","../Global/Macro":"Macro"}],Capsule:[function(t,e,o){"use strict";cc._RF.push(e,"255f5Qd9RlG469gzajHbFrO","Capsule");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.Capsule=void 0;var c=t("../P2Enum"),a=t("./Shape"),s=cc._decorator,l=s.ccclass,u=s.property,p=s.menu,h=s.executeInEditMode,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=c.EP2Shape.Capsule,e.length=1,e.radius=1,e.shape=null,e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.options.length=this.length,this.options.radius=this.radius,this.shape=new p2.Capsule(this.options)},r([u({tooltip:"\u80f6\u56ca\u957f\u5ea6",type:cc.Float})],e.prototype,"length",void 0),r([u({tooltip:"\u80f6\u56ca\u534a\u5f84",type:cc.Float})],e.prototype,"radius",void 0),r([l,p("P2\u7269\u7406/Shape/Capsule"),h],e)}(a.Shape);o.Capsule=f,cc._RF.pop()},{"../P2Enum":"P2Enum","./Shape":"Shape"}],Circle:[function(t,e,o){"use strict";cc._RF.push(e,"a722bx016FBcIdU8o5fBXHY","Circle");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.Circle=void 0;var c=t("../P2Enum"),a=t("./Shape"),s=cc._decorator,l=s.ccclass,u=s.property,p=s.menu,h=s.executeInEditMode,f=(s.requireComponent,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=c.EP2Shape.Circle,e.radius=1,e.shape=null,e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.options.radius=this.radius,this.shape=new p2.Circle(this.options)},r([u({tooltip:"\u5706\u534a\u5f84",type:cc.Float})],e.prototype,"radius",void 0),r([l,p("P2\u7269\u7406/Shape/Circle"),h],e)}(a.Shape));o.Circle=f,cc._RF.pop()},{"../P2Enum":"P2Enum","./Shape":"Shape"}],CoinIdle:[function(t,e,o){"use strict";cc._RF.push(e,"c9948SwLIREO7n48e3Oduw+","CoinIdle");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.CoinIdle=void 0;var r=t("./CoinState"),c=function(t){function e(e){return t.call(this,e,r.ECoinState.Idle)||this}return i(e,t),e.prototype._DoEnter=function(){},e.prototype._DoExit=function(){},e.prototype._DoRunning=function(){},e}(r.CoinState);o.CoinIdle=c,cc._RF.pop()},{"./CoinState":"CoinState"}],CoinMove:[function(t,e,o){"use strict";cc._RF.push(e,"8fbc7cuQZ5H8b2MGOZhnwfp","CoinMove");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.CoinMove=void 0;var r=t("./CoinState"),c=function(t){function e(e){return t.call(this,e,r.ECoinState.Move)||this}return i(e,t),e.prototype._DoEnter=function(){},e.prototype._DoExit=function(){},e.prototype._DoRunning=function(){},e}(r.CoinState);o.CoinMove=c,cc._RF.pop()},{"./CoinState":"CoinState"}],CoinNone:[function(t,e,o){"use strict";cc._RF.push(e,"beaf7KcY35MLIbIgx5tptIf","CoinNone");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.CoinNone=void 0;var r=t("./CoinState"),c=function(t){function e(e){return t.call(this,e,r.ECoinState.None)||this}return i(e,t),e.prototype._DoEnter=function(){},e.prototype._DoExit=function(){},e.prototype._DoRunning=function(){},e}(r.CoinState);o.CoinNone=c,cc._RF.pop()},{"./CoinState":"CoinState"}],CoinRecover:[function(t,e,o){"use strict";cc._RF.push(e,"7856ebJnrREY4DsbQQUI38N","CoinRecover");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.CoinRecover=void 0;var r=t("../Coin"),c=t("./CoinState"),a=function(t){function e(e){return t.call(this,e,c.ECoinState.Recover)||this}return i(e,t),e.prototype._DoEnter=function(){r.default.Recover(this.owner)},e.prototype._DoExit=function(){},e.prototype._DoRunning=function(){},e}(c.CoinState);o.CoinRecover=a,cc._RF.pop()},{"../Coin":"Coin","./CoinState":"CoinState"}],CoinState:[function(t,e,o){"use strict";cc._RF.push(e,"65d5bkLJA5Obp5/oeKJDueU","CoinState");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.CoinState=o.ECoinState=void 0;var r=t("../../../Utils/Fsm/BaseState");(function(t){t[t.None=0]="None",t[t.Idle=1]="Idle",t[t.Move=2]="Move",t[t.Recover=3]="Recover"})(o.ECoinState||(o.ECoinState={}));var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(r.default);o.CoinState=c,cc._RF.pop()},{"../../../Utils/Fsm/BaseState":"BaseState"}],Coin:[function(t,e,o){"use strict";cc._RF.push(e,"26d32NQGTBANq3zgvzLY2oG","Coin");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../AutoScripts/Ref"),a=t("../../Frame/Config/GameConfig"),s=t("../../Global/Macro"),l=t("../../Utils/Fsm/StateMachine"),u=t("../../Utils/LayaPool"),p=t("./CoinState/CoinIdle"),h=t("./CoinState/CoinMove"),f=t("./CoinState/CoinNone"),d=t("./CoinState/CoinRecover"),_=t("./CoinState/CoinState"),y=cc._decorator,v=y.ccclass,g=(y.property,y.executeInEditMode),m=y.requireComponent,b=y.menu,w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._fsm=null,e._coinId=0,e}var o;return i(e,t),o=e,Object.defineProperty(e.prototype,"fsm",{get:function(){return this._fsm},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coinId",{get:function(){return this._coinId},set:function(t){var e=this;if(t!=this._coinId){this._coinId=t;var o=c.CoinRef.data[t].icon,n=s.Macro.res.getDynamicRes(o,cc.Texture2D);n?this.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(n):s.Macro.res.loadRes(a.GameConfig.DYNAMIC_BUNDLE,o,cc.Texture2D,function(t,o){e.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(o)})}},enumerable:!1,configurable:!0}),e.Create=function(t){var e=u.default.getItemByCreateFun("__coin__",function(){return cc.instantiate(s.Macro.res.getDynamicRes("Prefab/Coin",cc.Prefab)).getComponent(o)},this);return e.coinId=t,e},e.Recover=function(t){t.node.removeFromParent(!1),u.default.recover("__coin__",t)},e.prototype.onLoad=function(){this._initFsm()},e.prototype._initFsm=function(){this._fsm=new l.default,this._fsm.Add(new f.CoinNone(this)),this._fsm.Add(new p.CoinIdle(this)),this._fsm.Add(new h.CoinMove(this)),this._fsm.Add(new d.CoinRecover(this)),this._fsm.ChangeState(_.ECoinState.None)},e.prototype.Clear=function(){this._fsm.ChangeState(_.ECoinState.Recover)},o=r([v,m(cc.Sprite),g,b("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/Coin")],e)}(cc.Component);o.default=w,cc._RF.pop()},{"../../AutoScripts/Ref":"Ref","../../Frame/Config/GameConfig":"GameConfig","../../Global/Macro":"Macro","../../Utils/Fsm/StateMachine":"StateMachine","../../Utils/LayaPool":"LayaPool","./CoinState/CoinIdle":"CoinIdle","./CoinState/CoinMove":"CoinMove","./CoinState/CoinNone":"CoinNone","./CoinState/CoinRecover":"CoinRecover","./CoinState/CoinState":"CoinState"}],ColorAssembler2D:[function(t,e,o){"use strict";cc._RF.push(e,"5293e7EKi1I5a0s/fecPCzm","ColorAssembler2D");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,l=c.executeInEditMode,u=c.requireComponent,p=c.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._colors=[],e}return i(e,t),Object.defineProperty(e.prototype,"colors",{get:function(){return this._colors},set:function(t){this._colors=t,this._updateColors()},enumerable:!1,configurable:!0}),e.prototype.onEnable=function(){cc.director.once(cc.Director.EVENT_AFTER_DRAW,this._updateColors,this)},e.prototype.onDisable=function(){cc.director.off(cc.Director.EVENT_AFTER_DRAW,this._updateColors,this),this.node._renderFlag|=cc.RenderFlow.FLAG_COLOR},e.prototype._updateColors=function(){var t=this.getComponent(cc.RenderComponent);if(t){var e=t._assembler;if(e instanceof cc.Assembler2D){var o=e._renderData.uintVDatas[0];if(o)for(var n=this.node.color,i=e.floatsPerVert,r=0,c=e.colorOffset,a=o.length;c<a;c+=i)o[c]=(this.colors[r++]||n)._val}}},r([s],e.prototype,"_colors",void 0),r([s({type:[cc.Color]})],e.prototype,"colors",null),r([a,p("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/ColorAssembler2D"),l,u(cc.RenderComponent)],e)}(cc.Component);o.default=h,cc._RF.pop()},{}],ComTools:[function(t,e,o){"use strict";cc._RF.push(e,"32a5dBAzcFCPp24RfFN2OxA","ComTools");var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.ComTools=void 0;var r=t("../Global/EnumDefine").EnumDefine.ToUnit,c=t("../Global/Macro"),a=function(){function t(){}return t.getRandom=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t},t.guuid=function(){var t=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return t()+t()},t.getStringToTimeInfo=function(t,e,o){void 0===e&&(e=r.SECOND),void 0===o&&(o=!1);var n=o?"\u5929":":",i=o?"\u65f6":":",c=o?"\u5206":":",a=o?"\u79d2":"";if(t>=86400){var s=e>r.DAY?"":Math.floor(t/86400)+n,l=e>r.HOUR?"":Math.floor(t%86400/3600)+i,u=Math.floor(t%3600/60),p=e>r.MINUTE?"":(u<10?"0"+u:u)+c,h=Math.floor(t%60);return s+l+p+(e>r.SECOND?"":(h<10?"0"+h:h)+a)}if(t>=3600)return l=e>r.HOUR?"":Math.floor(t/3600)+i,u=Math.floor(t%3600/60),p=e>r.MINUTE?"":(u<10?"0"+u:u)+c,h=Math.floor(t%60),l+p+(e>r.SECOND?"":(h<10?"0"+h:h)+a);if(t>=60){var f=Math.floor(t/60),d=Math.floor(t%60);return(e>r.MINUTE?"":f+c)+(e>r.SECOND?"":(d<10?"0"+d:d)+a)}return"0:"+(t<10?"0":"")+t.toFixed(0)+a},t.getZeroTime=function(){var t=new Date;return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.getTime()/1e3},t.cutStr=function(t,e){var o,n=0,i="";o=t.length;for(var r=0;r<o;r++){var c=t.charAt(r);if(n++,encodeURI(c).length>4&&n++,i=i.concat(c),n>=e)return r<o-1&&(i=i.concat("...")),i}if(n<e)return t},t.prototype._flyGoldEff=function(t,e,o){void 0===o&&(o=20)},t.CreateBezierPoints=function(t,e){for(var o=[],n=0;n<e;n++){var i=this.MultiPointBezier(t,n/e);o.push(i)}return o},t.MultiPointBezier=function(t,e){for(var o=t.length,n=0,i=0,r=0;r<o;r++){var c=t[r];n+=c.x*Math.pow(1-e,o-1-r)*Math.pow(e,r)*this.erxiangshi(o-1,r),i+=c.y*Math.pow(1-e,o-1-r)*Math.pow(e,r)*this.erxiangshi(o-1,r)}return{x:n,y:i}},t.erxiangshi=function(t,e){for(var o=1,n=1;e>0;)o*=t,n*=e,t--,e--;return o/n},t.getThetaY=function(t,e){var o=e.x,n=e.y;o-=t.x,n-=t.y;var i=0;if(0==o&&0==n)return 0;if(o>0&&n>0)i=0;else{if(o>0&&0==n)return 90;if(o>0&&n<0)i=180;else{if(0==o&&n<0)return 180;if(o<0&&n<0)i=-180;else{if(o<0&&0==n)return-90;o<0&&n>0&&(i=0)}}}return 360*Math.atan(o/n)/(2*Math.PI)+i},t.getThetaX=function(t,e){var o=e.y,n=e.x;o-=t.y,n-=t.x;var i=0;if(0==o&&0==n)return 0;if(o>0&&n>0)i=0;else{if(o>0&&0==n)return 90;if(o>0&&n<0)i=180;else{if(0==o&&n<0)return 180;if(o<0&&n<0)i=-180;else{if(o<0&&0==n)return-90;o<0&&n>0&&(i=0)}}}return 360*Math.atan(o/n)/(2*Math.PI)+i},t.getAngle=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)},t.isIntersect=function(t,e,o,n,i,r,c,a){var s=!1,l=(o-t)*(a-r)-(n-e)*(c-i);if(0!=l){var u=((e-r)*(c-i)-(t-i)*(a-r))/l,p=((e-r)*(o-t)-(t-i)*(n-e))/l;u>=0&&u<=1&&p>=0&&p<=1&&(s=!0)}return s},t.getPosByNode=function(t,e){var o=cc.Vec2.ZERO;t.getPosition(o);var n=cc.Vec2.ONE;return t.parent.convertToWorldSpaceAR(o,n),e.convertToNodeSpaceAR(n,o),o},t.getRelativePosition=function(t,e){var o=(t.getParent()||t).convertToWorldSpaceAR(t.getPosition());return e.convertToNodeSpaceAR(o)},t.runTween=function(t,e,o,r,c){return void 0===o&&(o=null),void 0===r&&(r=null),void 0===c&&(c=0),n(this,void 0,void 0,function(){return i(this,function(n){switch(n.label){case 0:return[4,new Promise(function(n){var i={cur:0,last:0},c=cc.tween(i).to(e,{cur:1},{progress:function(e,n,r,c){return t.runWith(i),i.last=i.cur,o?o(e,n,r,c):e+(n-e)*c}}).call(function(){null==r||r.run(),c.stop(),n(!0)}).start()})];case 1:return n.sent(),[2]}})})},t.getRandomInt=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),Math.floor(Math.random()*(e-t)+t)},t.getPseudoRandomInt=function(t,e){return Math.ceil((9301*t+49297)%233280/233280*e)},t.getDistance=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},t.angleToRadian=function(t){return t*Math.PI/180},t.addSafely=function(t,e){var o=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=Math.pow(10,Math.max(o,n));return(t*i+e*i)/i},t.deepCopy=function(e){if(null==e||"object"!=typeof e)return e;if(e instanceof Array){for(var o=[],n=0,i=e.length;n<i;n++)o[n]=t.deepCopy(e[n]);return o}if(e instanceof Object){for(var r in o={},e)e.hasOwnProperty(r)&&(o[r]=t.deepCopy(e[r]));return o}return e instanceof Date?(new Date).setTime(e.getTime()):(console.warn("\u4e0d\u652f\u6301\u7684\u7c7b\u578b\uff1a"+e),null)},t.copy=function(t){return JSON.parse(JSON.stringify(t))},t.getCurrentDayCount=function(t){return Math.floor(t/1e3/60/60/24)},t.getChineseByNumber=function(t){var e=t.toString();e=(""+e).trim().replace(/^0*/,"");var o=["","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u96f6"];return("0000"+e).substr(e.length%4||4).replace(/(\d){4}/g,function(t,n,i){var r=function e(o){return o>2?+t?3==o?"\u4e07":e(o-1)+"\u4e07":"":1==o?+t?"\u4e07":"":2==o?"\u4ebf":""}(((e.length-1)/4>>0)-(i/4>>0));return/0+$/g.test(t)&&(r+=o[10]),+t?t.replace(/(\d)(\d)(\d)(\d)/g,function(t,e,n,i,r){return!o[e]&&(o[n]?e=10:o[i]?n=10:o[r]&&(i=10)),o[e]&&o[i]&&!o[n]&&(n=10),o[n]&&o[r]&&!o[i]&&(i=10),o[e]&&o[r]&&!o[i]&&!o[n]&&(i=10),(o[e]&&(e<10?o[e]+"\u5343":o[e]))+(o[n]&&(n<10?o[n]+"\u767e":o[n]))+(o[i]&&(i<10?1==i?"\u5341":o[i]+"\u5341":o[i]))+(o[r]&&o[r])})+r:r}).replace(/^\u96f6*/g,"").replace(/\u96f6*$/g,"").replace(/(\u96f6)*/g,"$1").replace(/\u96f6\u4ebf/g,"\u4ebf")||o[10]},t.utcToDateTimeStr=function(t){var e=new Date(1e3*t);return e.getFullYear()+"-"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+(e.getDate()<10?"0"+e.getDate():e.getDate())+" "+(e.getHours()<10?"0"+e.getHours():e.getHours())+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":"+(e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds())},t.calcDaySpan=function(t,e){if(t>e)return-1;var o=Math.floor(t/1e4),n=Math.floor(t%1e4/100),i=Math.floor(t%100),r=Math.floor(e/1e4),c=Math.floor(e%1e4/100),a=Math.floor(e%100);if(o<r){for(var s=0,l=o;l<r;l++)0==Math.floor(l%4)&&0!=Math.floor(l%100)||0==Math.floor(l%400)?s+=366:s+=365;var u=0;(0==Math.floor(o%4)&&0!=Math.floor(o%100)||0==Math.floor(o%400))&&(u=1);for(var p=0;p<n-1;p++)s-=this.s_monLengths[u][p];for(s-=i,u=0,p=0;p<c-1;p++)s+=this.s_monLengths[u][p];return s+e}for(u=0,(0==Math.floor(o%4)&&0!=Math.floor(o%100)||0==Math.floor(o%400))&&(u=1),s=0,p=n;p<c;p++)s+=this.s_monLengths[u][p-1];return s+(a-i)},t.bigNumberToString=function(t){return Number.isNaN(t)?"":t<1e4?t.toString():t<1e8?Math.floor(t/1e4*10)/10+"\u4e07":Math.floor(t/1e4/1e4*10)/10+"\u4ebf"},t.setRemoteTexture=function(t,e){e.indexOf(".gif")>=0?(t.enabled=!0,t.url=e):(t.enabled=!1,c.Macro.res.loadRemoteRes(e).then(function(e){t.node.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(e)}))},t.s_monLengths=[[31,28,31,30,31,30,31,31,30,31,30,31],[31,29,31,30,31,30,31,31,30,31,30,31]],t}();o.ComTools=a,cc._RF.pop()},{"../Global/EnumDefine":"EnumDefine","../Global/Macro":"Macro"}],CommonUtils:[function(t,e,o){"use strict";cc._RF.push(e,"d062aI/16dO3Zn/b0NA7BRO","CommonUtils"),Object.defineProperty(o,"__esModule",{value:!0}),o.CommonUtils=void 0;var n=t("./MatchUtils"),i={nextInt:function(t,e){return Math.floor(Math.random()*(e-t))+t},next01:function(){return Math.random()}},r=function(){function t(){}return t.isArray=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},t.foramtDate=function(t,e){var o={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),"S+":t.getMilliseconds()};for(var n in/(y+)/i.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),o)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,("00"+o[n]).substr((""+o[n]).length)));return e},t.getElemClamped=function(t,e){return t[Math.max(0,Math.min(t.length-1,e))]},t.randomIntClosedRange=function(t,e){return Math.floor(Math.random()*(e-t+.9999)+t)},t.indexOf=function(t,e){for(var o=0;o<e.length;o++)if(e[o]==t)return o;return-1},t.indexOfArr=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];for(var n=e.length,i=!1,r=0;r<=t.length-n;r+=n){i=!0;for(var c=0;c<n;c++)if(t[r+c]!==e[c]){i=!1;break}if(i)return r}return-1},t.floatEqual=function(t,e,o){return void 0===o&&(o=1e-6),Math.abs(t-e)<o},t.formatTimeInterval=function(t,e,o){void 0===e&&(e=!1),void 0===o&&(o=!1),e=o||e;var n="",i=Math.floor(t/3600);t%=3600;var r=Math.floor(t/60);return(o||i>0)&&(i<10&&(n+="0"),n+=i+":"),(e||r>0||i>0)&&(r<10&&(n+="0"),n+=r+":"),(t=Math.floor(t%60))<10&&(n+="0"),n+t},t.alignNumber=function(t,e){return t-Math.floor(t/e)*e},t.formatNumber=function(t){var e=""+Math.floor(t),o="",n=0;if(-1==e.indexOf(".")){for(var i=e.length-1;i>=0;i--)o=n%3==0&&0!=n?e.charAt(i)+","+o:e.charAt(i)+o,n++;return o}for(i=e.indexOf(".")-1;i>=0;i--)o=n%3==0&&0!=n?e.charAt(i)+","+o:e.charAt(i)+o,n++;return o+(e+"00").substr((e+"00").indexOf("."),3)},t.updateLabelSize=function(t){t._updateRenderData(!0)},t.lerp=function(t,e,o){return t+(e-t)*o},t.shuffle=function(t,e,o,n){void 0===e&&(e=i),void 0===o&&(o=0),void 0===n&&(n=-1),e=e||i,n<0&&(n=t.length-o);for(var r=0;r<n;r++){var c=e.nextInt(o,o+n-r),a=t[c];t[c]=t[n-r-1+o],t[n-r-1+o]=a}},t.addSimpleClick=function(t,e){var o=t,n=null;o.on(cc.Node.EventType.TOUCH_START,function(t){n=t.getLocation()},this),o.on(cc.Node.EventType.TOUCH_END,function(t){n&&n.subSelf(t.getLocation()).mag()<3&&e()},this)},t.isGoodNumber=function(t){return"number"==typeof t&&!Number.isNaN(t)},t.getVisibleRect=function(){var t=cc.view.getViewportRect();return cc.rect(t.origin.x/-cc.view.getScaleX(),t.origin.y/-cc.view.getScaleY(),(t.size.width+2*t.origin.x)/cc.view.getScaleX(),(t.size.height+2*t.origin.y)/cc.view.getScaleY())},t.httpGet=function(t,e){var o=cc.loader.getXMLHttpRequest();o.onreadystatechange=function(){if(4===o.readyState&&200==o.status){var t=o.responseText,n=JSON.parse(t);e(n)}else 4===o.readyState&&401==o.status&&e({ret:1})},o.withCredentials=!0,o.open("GET",t,!0),o.withCredentials=!1,o.setRequestHeader("Access-Control-Allow-Origin","*"),o.setRequestHeader("Access-Control-Allow-Methods","GET, POST"),o.setRequestHeader("Access-Control-Allow-Headers","x-requested-with,content-type,authorization"),o.setRequestHeader("Content-Type","application/json"),o.timeout=8e3,o.send()},t.randomGaussian=function(t,e,o){void 0===o&&(o=i);var n=(o=o||i).next01(),r=o.next01();return Math.sqrt(-2*Math.log(n))*Math.cos(2*Math.PI*r)*e+t},t.deepCopy=function(t,e){for(var o in e)this._deepCopyFields(t,e,o)},t.constructObjectMap=function(t){var e=new Map;for(var o in t){var n=t[o];"object"==typeof n?e.set(o,this.constructObjectMap(n)):e.set(o,n)}return e},t._deepCopyFields=function(t,e,o){var n=e[o];if("number"==typeof n||"string"==typeof n)t[o]=n;else if(this.isArray[n])for(var i=t[o]=[],r=0;r<n.length;r++)this._deepCopyFields(i,n,r);else if(null==n)t[o]=null;else if("object"==typeof n){var c=new n.constructor;for(var a in e)this._deepCopyFields(c,n,a)}},t.formatNumberToEng=function(e){if(e<1&&e>0)return"1";e=Math.floor(e);var o=Math.floor(t.getExponent(e));if(o<13){if(o<4)return e+"";var n=Math.floor(o/t.constNum),i=o%t.constNum;return String(e/Math.pow(10,n*t.constNum)).substr(0,t.constNum+i)+t.getUnit(o)}return(e/Math.pow(10,o)).toFixed(3)+"e"+o},t.getExponent=function(t){for(var e=0;t>=10;)e++,t/=10;return e},t.getUnit=function(e){var o=Math.floor(e/t.constNum);return e<13?t.unitArr[o]:"e"+(o=Math.floor(e/t.constNum))*t.constNum},t.formatEngNumber=function(t,e){var o,n;return void 0===e&&(e=2),(t=t)>=1e6?(n=t/1e6,o=(.001*Math.floor(n/.001)).toFixed(e),this.formatEndingZero(o)+"M"):t>=1e3?(n=t/1e3,o=(.001*Math.floor(n/.001)).toFixed(e),this.formatEndingZero(o)+"K"):t+""},t.formatEndingZero=function(t){if(-1!=t.indexOf(".")){if(this.endWith(t,"00"))return t.substring(0,t.length-3);if(this.endWith(t,"0"))return t.substring(0,t.length-1)}return t},t.endWith=function(t,e){return e==t.substring(t.length-e.length)},t.makeMaxWidthLabel=function(t,e){var o={};return o.__proto__=t,Object.defineProperty(o,"string",{configurable:!0,enumerable:!0,get:function(){return t.string},set:function(o){t.overflow=cc.Label.Overflow.NONE,t.string=o,t._updateRenderData(!0),t.node.width>e&&(t.overflow=cc.Label.Overflow.RESIZE_HEIGHT,t.node.setContentSize(e,1),t.string=o)}}),o},t.climeUserName=function(t,e){void 0===e&&(e=14);for(var o=t.length;this.strlen(t)>e;)t=t.substring(0,t.length-1);return t.length!=o&&(t+="..."),t},t.strlen=function(t){for(var e=0,o=0;o<t.length;o++){var n=t.charCodeAt(o);n>=1&&n<=126||65376<=n&&n<=65439?e++:e+=2}return e},t.shuffleArr=function(t){for(var e,o,n,i=t.length,r=0;r<i;r++){o=i-r-1,void 0,n=t[e=Math.floor(Math.random()*(i-r))],t[e]=t[o],t[o]=n}return t},t.binarySearch=function(t,e,o){void 0===o&&(o=!1);for(var n=0,i=t.length-1;i-n>1;){var r=Math.floor((n+i)/2);if(e<t[r])i=r;else{if(!(e>t[r]))return r;n=r}}return o?n==t.length-1?t.length:i:0==i?-1:n},t.isInTriangle=function(t,e,o,n){var i=o.sub(e),r=n.sub(e),c=n.sub(o),a=t.sub(e),s=t.sub(o);return i.cross(r)>=0^i.cross(a)<0&&i.cross(r)>=0^r.cross(a)>=0&&c.cross(i)>0^c.cross(s)>=0},t.isInPolygon=function(t,e){var o,n,i,r,c=0,a=e.length;for(i=e[0],o=1;o<=a;o++)r=e[o%a],t.x>Math.min(i.x,r.x)&&t.x<=Math.max(i.x,r.x)&&t.y<=Math.max(i.y,r.y)&&i.x!=r.x&&(n=(t.x-i.x)*(r.y-i.y)/(r.x-i.x)+i.y,(i.y==r.y||t.y<=n)&&c++),i=r;return 0!=(1&c)},t.splitePolygon=function(t){if(t.length<=3)return[0,1,2];for(var e={},o=0;o<t.length;o++){var n=t[o];e[n.x+"-"+n.y]=o}var i=function(t){return e[t.x+"-"+t.y]};t=t.concat([]);for(var r=[],c=0;t.length>3;){var a=t[c%t.length],s=t[(c+1)%t.length],l=t[(c+2)%t.length],u=(c+1)%t.length,p=s.sub(a),h=l.sub(s);if(p.cross(h)<0)c=(c+1)%t.length;else{for(var f=!1,d=0,_=t;d<_.length;d++)if((n=_[d])!=a&&n!=s&&n!=l&&this.isInTriangle(n,a,s,l)){f=!0;break}f?c=(c+1)%t.length:(r.push(i(a),i(s),i(l)),t.splice(u,1))}}for(var y=0,v=t;y<v.length;y++)n=v[y],r.push(i(n));return r},t.computeUv=function(t,e,o){for(var i=[],r=0,c=t;r<c.length;r++){var a=c[r],s=n.MathUtils.clamp(0,1,(a.x+e/2)/e),l=n.MathUtils.clamp(0,1,1-(a.y+o/2)/o);i.push(cc.v2(s,l))}return i},t.tweenFloat=function(t,e,o,n,i,r){void 0===r&&(r=!0);var c={_value:t};Object.defineProperty(c,"value",{get:function(){return c._value},set:function(t){c._value=t,n&&n(c._value)}});var a=cc.tween(c).to(o,{value:e}).call(i);return r&&a.start(),a},t.tweenVec2=function(t,e,o,n,i,r){void 0===r&&(r=!0);var c={_value:t};Object.defineProperty(c,"value",{get:function(){return c._value},set:function(t){c._value=t,n&&n(c._value)}});var a=cc.tween(c).to(o,{value:e}).call(i);return r&&a.start(),a},t.unitArr=["","K","M","B"],t.constNum=3,t}();o.CommonUtils=r,cc._RF.pop()},{"./MatchUtils":"MatchUtils"}],ConfigMgr:[function(t,e,o){"use strict";cc._RF.push(e,"cb356JSUFNEpqvzLjVpFkpd","ConfigMgr");var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.ConfigMgr=void 0;var r=t("../AutoScripts/Ref"),c=t("../Global/Macro"),a=t("./Config/GameConfig"),s=function(){function t(){}return t.StartLoad=function(){return n(this,void 0,void 0,function(){var t,e,o,n,s,l,u,p,h,f,d;return i(this,function(i){switch(i.label){case 0:if(0==(t=r.REF_NAMES).length)return[2];for(e=[],o=0,n=t;o<n.length;o++)l=n[o],e.push(l.path);return[4,c.Macro.res.loadResAsync(a.GameConfig.DYNAMIC_BUNDLE,e,cc.JsonAsset,this._onProgress)];case 1:for(s=i.sent(),h=0,f=t.length;h<f;h++)if((l=t[h]).data=s[h].json,l.dataList=[],l.isConst)Object.setPrototypeOf(l.data,l.config.prototype);else{for(u in l.data)null!=(p=l.data[u])&&(Object.setPrototypeOf(p,l.config.prototype),l.dataList.push(p));l.dataList.length>0&&(l.lastData=l.dataList[l.dataList.length-1])}for(h=0,f=t.length;h<f;h++)d=t[h].path,c.Macro.res.destoryRes(d,a.GameConfig.DYNAMIC_BUNDLE);return[2]}})})},t._onProgress=function(){},t}();o.ConfigMgr=s,cc._RF.pop()},{"../AutoScripts/Ref":"Ref","../Global/Macro":"Macro","./Config/GameConfig":"GameConfig"}],Const:[function(t,e,o){"use strict";cc._RF.push(e,"e7b1auCsqJGw56rMaQx/5wm","Const"),Object.defineProperty(o,"__esModule",{value:!0}),o.Const=void 0,function(t){t.Font={SimHei:"SimHei"},t.DEFAULT_FONT=t.Font.SimHei,t.FontSize={S18:18,S20:20,S22:22,S24:24,S26:26,S28:28},t.Color={Purple:"#ce9aff",Green:"#69d35e",Red:"#de2525",Pink:"#f2509c",Golden:"#f6ca67",Blue:"#93a9ff",Yellow:"#edda8d",Orange:"#ffa563",White:"#ffffff",Gray:"#f9ffeb",Nude:"#ffe4c7",LightBlue:"#37b9fe",SkyBlue:"#7fe6ff",DarkGray:"#606060"},t.SYS_PATH_CANVAS="Canvas",t.SYS_PATH_UIFORMS_CONFIG_INFO="UIFormsConfigInfo",t.SYS_PATH_CONFIG_INFO="SysConfigInfo",t.SYS_UIROOT_NAME="Canvas/Scene/UIROOT",t.SYS_UIMODAL_NAME="Canvas/Scene/UIROOT/UIModalManager",t.SYS_UIAdapter_NAME="Canvas/Scene/UIROOT/UIAdapterManager",t.SYS_SCENE_NODE="Scene",t.SYS_UIROOT_NODE="UIROOT",t.SYS_SCREEN_NODE="Screen",t.SYS_FIXED_NODE="FixedUI",t.SYS_POPUP_NODE="PopUp",t.SYS_TOPTIPS_NODE="TopTips",t.SYS_MODAL_NODE="UIModalNode",t.SYS_STANDARD_Prefix="_",t.SYS_STANDARD_Separator="$",t.SYS_STANDARD_End="#",t.SeparatorMap={_Node:"cc.Node",_Label:"cc.Label",_Button:"cc.Button",_Sprite:"cc.Sprite",_RichText:"cc.RichText",_Mask:"cc.Mask",_MotionStreak:"cc.MotionStreak",_TiledMap:"cc.TiledMap",_TiledTile:"cc.TiledTile",_Spine:"sp.Skeleton",_Graphics:"cc.Graphics",_Animation:"cc.Animation",_WebView:"cc.WebView",_EditBox:"cc.EditBox",_ScrollView:"cc.ScrollView",_VideoPlayer:"cc.VideoPlayer",_ProgressBar:"cc.ProgressBar",_PageView:"cc.PageView",_Slider:"cc.Slider",_Toggle:"cc.Toggle",_ButtonPlus:"ButtonPlus",_List:"List",_DrawBorad:"DrawBorad",_SceneMap:"SceneMap"}}(o.Const||(o.Const={})),cc._RF.pop()},{}],ContactMaterialOptions:[function(t,e,o){"use strict";cc._RF.push(e,"fc9269l+W5O0ZRsOy6RmXLF","ContactMaterialOptions");var n,i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.EEquation=void 0,function(t){t[t.DEFAULT_STIFFNESS=p2.Equation.DEFAULT_STIFFNESS]="DEFAULT_STIFFNESS",t[t.DEFAULT_RELAXATION=p2.Equation.DEFAULT_RELAXATION]="DEFAULT_RELAXATION"}(n=o.EEquation||(o.EEquation={}));var r=cc._decorator,c=r.ccclass,a=r.property,s=function(){function t(){this.friction=.3,this.restitution=0,this.stiffness=n.DEFAULT_STIFFNESS,this.relaxation=n.DEFAULT_RELAXATION,this.frictionStiffness=n.DEFAULT_STIFFNESS,this.frictionRelaxation=n.DEFAULT_RELAXATION,this.surfaceVelocity=0}return i([a({tooltip:"\u8fd9\u4e24\u79cd\u6750\u6599\u63a5\u89e6\u65f6\u4f7f\u7528\u7684\u6469\u64e6\u7cfb\u6570\u3002 \u6469\u64e6\u529b = 0 \u5c06\u4f7f\u6240\u6d89\u53ca\u7684\u7269\u4f53\u53d8\u5f97\u8d85\u7ea7\u6ed1\uff0c\u6469\u64e6\u529b = 1 \u5c06\u4f7f\u7269\u4f53\u53d8\u5f97\u4e0d\u90a3\u4e48\u6ed1\u3002 \u6469\u64e6\u7cfb\u6570\u5927\u4e8e1\u5c06\u5141\u8bb8\u5f88\u5927\u7684\u6469\u64e6\u529b\uff0c\u8fd9\u53ef\u4ee5\u65b9\u4fbf\u5730\u9632\u6b62\u6c7d\u8f66\u8f6e\u80ce\u5728\u5730\u9762\u4e0a\u6253\u6ed1\u3002",type:cc.Integer})],t.prototype,"friction",void 0),i([a({tooltip:"\u5728\u8fd9\u4e24\u79cd\u6750\u6599\u63a5\u89e6\u65f6\u4f7f\u7528\u6062\u590d\u539f\u72b6\u6216\u201c\u5f39\u6027\u201d\u3002 restitution \u4e3a 0 \u5c06\u4e0d\u4ea7\u751f\u53cd\u5f39\uff0c\u800c restitution=1 \u5c06\u4ee5\u4e0e\u7269\u4f53\u76f8\u540c\u7684\u901f\u5ea6\u5927\u81f4\u53cd\u5f39\u3002",type:cc.Integer})],t.prototype,"restitution",void 0),i([a({tooltip:"\u63a5\u89e6\u9762\u786c\u5ea6\u3002 \u8f83\u5c0f\u7684\u521a\u5ea6\u5c06\u4f7f\u7269\u4f53\u7a7f\u900f\u5f97\u66f4\u591a\uff0c\u5e76\u4f7f\u63a5\u89e6\u7684\u4f5c\u7528\u66f4\u50cf\u5f39\u7c27\u800c\u4e0d\u662f\u63a5\u89e6\u529b\u3002",type:cc.Enum(n)})],t.prototype,"stiffness",void 0),i([a({tooltip:"\u6b64 ContactMaterial \u751f\u6210\u7684\u7ed3\u679c ContactEquation \u7684\u677e\u5f1b\u3002",type:cc.Enum(n)})],t.prototype,"relaxation",void 0),i([a({tooltip:"\u4ea7\u751f\u7684\u6469\u64e6\u529b\u7684\u521a\u5ea6\u3002 \u5bf9\u4e8e\u5927\u591a\u6570\u60c5\u51b5\uff0c\u8be5\u5c5e\u6027\u7684\u503c\u5e94\u8be5\u662f\u4e00\u4e2a\u5f88\u5927\u7684\u6570\u5b57\u3002 \u6211\u60f3\u4e0d\u51fa\u4efb\u4f55\u60c5\u51b5\u4e0b\u4f60\u4f1a\u60f3\u8981\u66f4\u5c11\u7684\u6469\u64e6\u521a\u5ea6\u3002",type:cc.Enum(n)})],t.prototype,"frictionStiffness",void 0),i([a({tooltip:"\u677e\u5f1b\u4ea7\u751f\u7684\u6469\u64e6\u529b\u3002 \u9ed8\u8ba4\u503c\u5e94\u8be5\u9002\u5408\u5927\u591a\u6570\u6a21\u62df\u3002",type:cc.Enum(n)})],t.prototype,"frictionRelaxation",void 0),i([a({tooltip:"\u5c06\u589e\u52a0\u8be5\u6750\u6599\u7684\u8868\u9762\u901f\u5ea6\u3002 \u5982\u679c bodyA \u4f4d\u4e8e bodyB \u7684\u9876\u90e8\uff0c\u5e76\u4e14\u8868\u9762\u901f\u5ea6\u4e3a\u6b63\uff0c\u5219 bodyA \u5c06\u5411\u53f3\u6ed1\u52a8\u3002",type:cc.Integer})],t.prototype,"surfaceVelocity",void 0),i([c("ContactMaterialOptions")],t)}();o.default=s,cc._RF.pop()},{}],Convex:[function(t,e,o){"use strict";cc._RF.push(e,"077c6l5QxdEFa0uHmbvk4F1","Convex");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.Convex=void 0;var c=t("../P2Enum"),a=t("./Shape"),s=cc._decorator,l=s.ccclass,u=s.property,p=s.menu,h=s.executeInEditMode,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=c.EP2Shape.Convex,e.vertices=[cc.v2(-1,-1),cc.v2(1,-1),cc.v2(1,1),cc.v2(-1,1)],e.axes=[],e.shape=null,e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.options.vertices=[],this.options.axes=[];for(var e=this.vertices.length;--e>=0;)this.options.vertices[e]=[this.vertices[e].x,this.vertices[e].y];for(e=this.axes.length;--e>=0;)this.options.axes[e]=[this.axes[e].x,this.axes[e].y];this.shape=new p2.Convex(this.options)},r([u({tooltip:"\u9876\u70b9\u5750\u6807 \u9876\u70b9\u4ee5\u9006\u65f6\u9488 (CCW) \u65b9\u5411\u7ed9\u51fa\u3002",type:[cc.Vec2]})],e.prototype,"vertices",void 0),r([u({tooltip:"\u5355\u4f4d\u957f\u5ea6\u5411\u91cf\u7684\u6570\u7ec4\uff0c\u8868\u793a\u51f8\u9762\u7684\u5bf9\u79f0\u8f74\u3002",type:[cc.Vec2]})],e.prototype,"axes",void 0),r([l,p("P2\u7269\u7406/Shape/Convex"),h],e)}(a.Shape);o.Convex=f,cc._RF.pop()},{"../P2Enum":"P2Enum","./Shape":"Shape"}],DataProxy:[function(t,e,o){"use strict";cc._RF.push(e,"cb34dai33hHQa34Cl9ECnS9","DataProxy"),Object.defineProperty(o,"__esModule",{value:!0}),o.DataProxy=void 0;var n=t("../../Global/Macro");o.DataProxy=function(t){var e=this,o=function(o){i[o]=t[o]?t[o]:i[o],Object.defineProperty(i,o,{get:function(){return e[o]},set:function(t){e[o]!==t&&(e[o]=t,n.Macro.local.saveGameData())}})},i=this;for(var r in this)o(r)},cc._RF.pop()},{"../../Global/Macro":"Macro"}],DebugUtil:[function(t,e,o){"use strict";cc._RF.push(e,"2a29fYO8zlJU6v7HEv9kiPV","DebugUtil"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.log=function(t,e){e?console.log("%c "+t+" %c "+e+" ","background: #35495E;padding: 1px;border-radius: 2px 0 0 2px;color: #fff;","background: #409EFF;padding: 1px;border-radius: 0 2px 2px 0;color: #fff;"):console.log("%c "+t+" ","background: #409EFF;padding: 1px;border-radius: 0 2px 2px 0;color: #fff;")},t.showDynamicAtlas=function(t){return void 0===t&&(t=!0),cc.dynamicAtlasManager.showDebug(t)},t.showStats=function(t){void 0===t&&(t=!0),cc.debug.setDisplayStats(t)},t.setStatsColor=function(t,e){void 0===t&&(t=cc.Color.WHITE),void 0===e&&(e=cc.color(0,0,0,150));var o=cc.find("PROFILER-NODE");if(!o)return cc.warn("\u672a\u627e\u5230\u7edf\u8ba1\u9762\u677f\u8282\u70b9\uff01");o.children.forEach(function(e){return e.color=t});var n=o.getChildByName("BACKGROUND");n||(n=new cc.Node("BACKGROUND"),o.addChild(n,cc.macro.MIN_ZINDEX),n.setContentSize(o.getBoundingBoxToWorld()),n.setPosition(0,0));var i=n.getComponent(cc.Graphics)||n.addComponent(cc.Graphics);i.clear(),i.rect(-5,12.5,n.width+10,n.height-10),i.fillColor=e,i.fill()},t.getDrawCalls=function(){return cc.renderer.drawCalls},t}();o.default=n,cc._RF.pop()},{}],DelayShow:[function(t,e,o){"use strict";cc._RF.push(e,"40bff+U1AlJCLxLlnW/z5XA","DelayShow");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,l=c.menu,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.delayShowTime=0,e._isDelayed=!1,e}return i(e,t),e.prototype.onEnable=function(){!this._isDelayed&&this.delayShowTime>1e-6&&(this.node.active=!1,this.scheduleOnce(this._delayShowBtn.bind(this),this.delayShowTime),this._isDelayed=!0)},e.prototype._delayShowBtn=function(){this.node.active=!0},e.prototype.onDisable=function(){this._isDelayed=!1,this.unschedule(this._delayShowBtn)},r([s({type:cc.Float,displayName:"delayShowTime",tooltip:"\u5ef6\u8fdf\u663e\u793a\u65f6\u95f4"})],e.prototype,"delayShowTime",void 0),r([a,l("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/DelayShow")],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],Demo:[function(t,e){"use strict";cc._RF.push(e,"56273txdJtPC7mH6okCRW4J","Demo"),cc._RF.pop()},{}],Dictionary:[function(t,e,o){"use strict";cc._RF.push(e,"14339SXVzJPS5K3oYZDexFq","Dictionary"),Object.defineProperty(o,"__esModule",{value:!0}),o.Dictionary=void 0;var n=t("./Util"),i=function(){function t(t){this.table={},this.nElements=0,this.toStr=t||n.defaultToString}return t.prototype.getValue=function(t){var e=this.table["$"+this.toStr(t)];if(!n.isUndefined(e))return e.value},t.prototype.setValue=function(t,e){if(!n.isUndefined(t)&&!n.isUndefined(e)){var o,i="$"+this.toStr(t),r=this.table[i];return n.isUndefined(r)?(this.nElements++,o=void 0):o=r.value,this.table[i]={key:t,value:e},o}},t.prototype.remove=function(t){var e="$"+this.toStr(t),o=this.table[e];if(!n.isUndefined(o))return delete this.table[e],this.nElements--,o.value},t.prototype.keys=function(){var t=[];for(var e in this.table)if(n.has(this.table,e)){var o=this.table[e];t.push(o.key)}return t},t.prototype.values=function(){var t=[];for(var e in this.table)if(n.has(this.table,e)){var o=this.table[e];t.push(o.value)}return t},t.prototype.forEach=function(t,e){for(var o in this.table)if(n.has(this.table,o)){var i=this.table[o];if(!1===t(i.key,i.value))break}e&&e()},t.prototype.containsKey=function(t){return!n.isUndefined(this.getValue(t))},t.prototype.clear=function(){this.table={},this.nElements=0},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return this.nElements<=0},t.prototype.toString=function(){var t="{";return this.forEach(function(e,o){t+="\n\t"+e+" : "+o}),t+"\n}"},t}();o.Dictionary=i,cc._RF.pop()},{"./Util":"Util"}],EnumDefine:[function(t,e,o){"use strict";cc._RF.push(e,"fd8b2IfSSdBB6hxx47eE8uM","EnumDefine"),Object.defineProperty(o,"__esModule",{value:!0}),o.EnumDefine=void 0,function(t){(function(t){t.Screen="UIScreen",t.Fixed="UIFixed",t.Window="UIWindow",t.Tips="UITips"})(t.EUIType||(t.EUIType={})),function(t){t[t.CloseAndHide=1]="CloseAndHide",t[t.CloseAndDestory=2]="CloseAndDestory",t[t.LRU=3]="LRU"}(t.ECloseType||(t.ECloseType={})),function(t){t[t.Low=0]="Low",t[t.Medium=100]="Medium",t[t.High=200]="High",t[t.Highest=300]="Highest"}(t.EZIndex||(t.EZIndex={})),function(t){t[t.None=0]="None",t[t.OpacityZero=1]="OpacityZero",t[t.OpacityLow=2]="OpacityLow",t[t.OpacityHalf=3]="OpacityHalf",t[t.OpacityHigh=4]="OpacityHigh",t[t.OpacityFull=5]="OpacityFull"}(t.EMaskOpacity||(t.EMaskOpacity={})),function(t){t[t.SECOND=0]="SECOND",t[t.MINUTE=1]="MINUTE",t[t.HOUR=2]="HOUR",t[t.DAY=3]="DAY"}(t.ToUnit||(t.ToUnit={})),function(t){t[t.LEFT=-1]="LEFT",t[t.RIGHT=1]="RIGHT"}(t.EMoveDir||(t.EMoveDir={})),function(t){t[t.Prize=0]="Prize",t[t.Rule=1]="Rule",t[t.Feedback=2]="Feedback"}(t.EOption||(t.EOption={})),function(t){t[t.ZH=1]="ZH",t[t.EN=2]="EN",t[t.PT=3]="PT",t[t.ID=4]="ID"}(t.ELanguageID||(t.ELanguageID={})),function(t){t[t.Update=0]="Update",t[t.LateUpdate=1]="LateUpdate",t[t.DelayUpdate=2]="DelayUpdate"}(t.EActionType||(t.EActionType={})),function(t){t[t.Asset=0]="Asset",t[t.URL=1]="URL"}(t.EGifLoadMode||(t.EGifLoadMode={}))}(o.EnumDefine||(o.EnumDefine={})),cc._RF.pop()},{}],EventMgr:[function(t,e,o){"use strict";cc._RF.push(e,"60ec8XjRoJNd7GYTRedagAu","EventMgr");var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<o;e++)for(var r=arguments[e],c=0,a=r.length;c<a;c++,i++)n[i]=r[c];return n};Object.defineProperty(o,"__esModule",{value:!0}),o.EventMgr=o.EventInfo=void 0;var i=t("../../Utils/Pool"),r=function(){function t(){}return t.prototype.free=function(){this.callback=null,this.target=null,this.once=!1},t.prototype.init=function(t,e,o){this.callback=t,this.target=e,this.once=o},t}();o.EventInfo=r;var c=function(t,e,o){this.eventName=t,this.callback=e,this.targetId=o},a=1,s=function(){function t(){}return t.on=function(t,e,o,n){void 0===n&&(n=!1);var i=(o=o||this).uuid||o.id;void 0===i&&(o.uuid=i=""+a++),this.onById(t,i,o,e,n)},t.once=function(t,e,o){void 0===o&&(o=void 0),this.on(t,e,o,!0)},t.onById=function(t,e,o,n,i){var r=this._listeners[t];r||(r=this._listeners[t]={});var c=r[e];c||(c=r[e]=[]);var a=this._eventPool.alloc();a.init(n,o,i),c.push(a)},t.off=function(t,e,o){void 0===o&&(o=void 0);var n=(o=o||this).uuid||o.id;n&&this.offById(t,e,n)},t.targetOff=function(t){var e=(t=t||this).uuid||t.id;if(e)for(var o in this._listeners){var n=this._listeners[o];void 0!==n[e]&&delete n[e]}},t.offById=function(t,e,o){if(this._dispatching>0){var n=new c(t,e,o);this._removeCommands.push(n)}else this.doOff(t,e,o)},t.doOff=function(t,e,o){var n=this._listeners[t];if(n){var i=n[o];if(i){for(var r=i.length-1;r>=0;r--)i[r].callback===e&&i.splice(r,1);0===i.length&&(n[o]=null,delete n[o])}}},t.doRemoveCommands=function(){if(0===this._dispatching){for(var t=0,e=this._removeCommands;t<e.length;t++){var o=e[t];this.doOff(o.eventName,o.callback,o.targetId)}this._removeCommands.length=0}},t.emit=function(t){for(var e,o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];var r=this._listeners[t];if(!r)return!1;for(var a in this._dispatching++,r)for(var s=0,l=r[a];s<l.length;s++){var u=l[s];if((e=u.callback).call.apply(e,n([u.target],o)),u.once){var p=new c(t,u.callback,a);this._removeCommands.push(p)}}this._dispatching--,this.doRemoveCommands()},t._listeners=cc.js.createMap(),t._dispatching=0,t._removeCommands=[],t._eventPool=new i.Pool(function(){return new r},10),t}();o.EventMgr=s,cc._RF.pop()},{"../../Utils/Pool":"Pool"}],EventType:[function(t,e,o){"use strict";cc._RF.push(e,"858abgtBk5JrKrHREB2dN/B","EventType"),Object.defineProperty(o,"__esModule",{value:!0}),o.EventType=void 0,function(t){t.GameShow="__GameShow__",t.GameHide="__GameHide__",t.RefreshDownList="__RefreshDownList__",t.DownLoadPro="__DownLoadPro__",t.DownLoadSuc="__DownLoadSuc__",t.ChangeCanvasSize="__ChangeCanvasSize__",t.GetMore="__GetMore__",t.RefreshCurrency="__RefreshCurrency__"}(o.EventType||(o.EventType={})),cc._RF.pop()},{}],ExitState:[function(t,e,o){"use strict";cc._RF.push(e,"8f961wZxqBEsJ1NapqRS4Ox","ExitState");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ExitState=void 0;var r=t("../../../AutoScripts/UIConfig"),c=t("../../../Global/Macro"),a=t("./LevelState"),s=function(t){function e(e){return t.call(this,e,a.ELevelState.Exit)||this}return i(e,t),e.prototype._DoEnter=function(){this.owner.clearStateStep(),c.Macro.ui.open(r.default.UIMain)},e.prototype._DoExit=function(){},e.prototype._DoRunning=function(){},e}(a.LevelState);o.ExitState=s,cc._RF.pop()},{"../../../AutoScripts/UIConfig":"UIConfig","../../../Global/Macro":"Macro","./LevelState":"LevelState"}],FightState:[function(t,e,o){"use strict";cc._RF.push(e,"1cc47sDmGZH6YZz+zJCMaQB","FightState");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.FightState=void 0;var r=t("../../../Global/Macro"),c=t("./LevelState"),a=function(t){function e(e){return t.call(this,e,c.ELevelState.Fight)||this}return i(e,t),e.prototype._DoEnter=function(){this.owner.saveStateStep(),r.Macro.log.logModel(2,"\u5207\u6362\u573a\u666f\u72b6\u6001\uff0c\u5f00\u59cb\u6218\u6597")},e.prototype._DoExit=function(){},e.prototype._DoRunning=function(){},e}(c.LevelState);o.FightState=a,cc._RF.pop()},{"../../../Global/Macro":"Macro","./LevelState":"LevelState"}],GameConfig:[function(t,e,o){"use strict";cc._RF.push(e,"c7b567BzI1EDpulp6xaQGcf","GameConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameConfig=void 0;var n=function(){function t(){}return t.DYNAMIC_BUNDLE="DynamicRes",t.UI_BUNDLE="UI",t.GAME_SAVE="__GameSave__",t.PLAYER_SAVE="__PlayerSave__",t.EQUIP_SAVE="__EquipSave__",t.PROP_SAVE="__PropSave__",t.LRU_CACHE_MAX_SIZE=3,t.DEFAULT_CLICK_EFFECT="Sound/sakobt",t.DEFAULT_MSG="Prefab/Msg",t.DEFAULT_SKIN=2,t.SWITCH_TIME=.3,t.IS_TEST=!0,t}();o.GameConfig=n,cc._RF.pop()},{}],GameTimer:[function(t,e,o){"use strict";cc._RF.push(e,"4ef6dar8WpAC7/1fsblbGv3","GameTimer"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameTimer=void 0;var n=function(){function t(t){this.currentDelay=0,this.targetDelay=t}return t.prototype.changeDelay=function(t){this.targetDelay=t},t.prototype.gameTick=function(t){this.currentDelay+=t},t.prototype.tryFinishPeriod=function(){return this.targetDelay<=this.currentDelay&&(this.currentDelay=0,!0)},t}();o.GameTimer=n,cc._RF.pop()},{}],Game:[function(t,e,o){"use strict";cc._RF.push(e,"54af038gcdCI5GsYR/dC76y","Game");var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../AutoScripts/Ref"),c=t("../Global/EnumDefine"),a=t("../Global/Macro"),s=t("./Data/PlayerData"),l=t("./Level/Level"),u=function(){function t(){this.playerData=null,this._level=null,a.Macro.timer.AddAction(c.EnumDefine.EActionType.Update,this,this._logicUpData),a.Macro.timer.AddAction(c.EnumDefine.EActionType.LateUpdate,this,this._lateLogicUpdate)}return Object.defineProperty(t.prototype,"level",{get:function(){return this._level},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.playerData=new s.default(a.Macro.local.player),this._level=new l.default},t.prototype.enterLevel=function(t){t=t||a.Macro.game.playerData.curLvId;for(var e=r.LevelRef.data[t],o=[],n=0,i=e.conditions.length;n<i;n+=2)o.push({id:e.conditions[n],count:e.conditions[n+1]});var c={levelId:t,conditions:o};this._level.enterLevel(c)},t.prototype.switchScene=function(){return n(this,void 0,void 0,function(){return i(this,function(){return[2]})})},t.prototype.reGame=function(){},t.prototype.exitLevel=function(){var t;null===(t=this._level)||void 0===t||t.exitLevel()},t.prototype._logicUpData=function(t){var e;null===(e=this._level)||void 0===e||e.LogicUpData(t)},t.prototype._lateLogicUpdate=function(){},t}();o.default=u,cc._RF.pop()},{"../AutoScripts/Ref":"Ref","../Global/EnumDefine":"EnumDefine","../Global/Macro":"Macro","./Data/PlayerData":"PlayerData","./Level/Level":"Level"}],GifMgr:[function(t,e,o){"use strict";cc._RF.push(e,"0e4aayBZhVDtYpRiTILJxye","GifMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../Utils/Dictionary"),i=function(){function t(){this._gifCacheDic=new n.Dictionary,this._gifBase64CacheDic=new n.Dictionary,this._mainCavas=null,this._tmpCavas=null,this._mainCtx=null,this._tmpCtx=null}return Object.defineProperty(t,"inst",{get:function(){return null==this._instance&&(this._instance=new t,this._instance._init()),this._instance},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gifCacheDic",{get:function(){return this._gifCacheDic},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gifBase64CacheDic",{get:function(){return this._gifBase64CacheDic},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mainCavas",{get:function(){return this._mainCavas},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tmpCavas",{get:function(){return this._tmpCavas},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mainCtx",{get:function(){return this._mainCtx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tmpCtx",{get:function(){return this._tmpCtx},enumerable:!1,configurable:!0}),t.prototype._init=function(){this._mainCavas=this._createCanvas(),this._tmpCavas=this._createCanvas(),this._mainCtx=this._mainCavas.getContext("2d"),this._tmpCtx=this._tmpCavas.getContext("2d")},t.prototype._createCanvas=function(){return globalThis.tt&&globalThis.tt.createCanvas?globalThis.tt.createCanvas():globalThis.wx&&globalThis.wx.createCanvas?globalThis.wx.createCanvas():document&&document.createElement?document.createElement("canvas"):null},t.prototype.getGifCacheSpriteFrame=function(t,e){var o=this._gifCacheDic.getValue(t);if(!o){var n=this._createSpriteFrames(e);o={url:t,delay:e[0].delay,spriteframes:n},this._gifCacheDic.setValue(t,o)}return o},t.prototype._createSpriteFrames=function(t){var e=[],o=!0;this._mainCavas.width=t[0].dims.width,this._mainCavas.height=t[0].dims.height;for(var n=null,i=0,r=t.length;i<r;i++){var c=t[i];o&&(this._mainCtx.clearRect(0,0,9999,9999),o=!1);var a=c.dims;n&&a.width===n.width&&a.height===n.height||(this._tmpCavas.width=a.width,this._tmpCavas.height=a.height,n=this._mainCtx.createImageData(a.width,a.height)),n.data.set(c.patch),this._tmpCtx.putImageData(n,0,0),this._mainCtx.drawImage(this._tmpCavas,a.left,a.top),2===c.disposalType&&(o=!0);var s=new Image;s.src=this._mainCavas.toDataURL();var l=new cc.Texture2D,u=new cc.SpriteFrame;l.initWithElement(s),u.setTexture(l),e[i]=u}return e},t.prototype.getGifCacheBase64=function(t){var e=[],o=!0;this._mainCavas.width=t[0].dims.width,this._mainCavas.height=t[0].dims.height;for(var n=null,i=0,r=t.length;i<r;i++){var c=t[i];o&&(this._mainCtx.clearRect(0,0,9999,9999),o=!1);var a=c.dims;n&&a.width===n.width&&a.height===n.height||(this._tmpCavas.width=a.width,this._tmpCavas.height=a.height,n=this._mainCtx.createImageData(a.width,a.height)),n.data.set(c.patch),this._tmpCtx.putImageData(n,0,0),this._mainCtx.drawImage(this._tmpCavas,a.left,a.top),2===c.disposalType&&(o=!0),e[i]=this._mainCavas.toDataURL()}return e},t.prototype.releaseURL=function(t){this._gifCacheDic.getValue(t)&&this._gifCacheDic.remove(t)},t}();o.default=i,cc._RF.pop()},{"../../Utils/Dictionary":"Dictionary"}],GifRender:[function(t,e,o){"use strict";cc._RF.push(e,"ecebcMCLgtO77ji+yaqlej3","GifRender");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.GifRender=void 0;var s=t("../../Global/Macro"),l=t("./Gif"),u=cc._decorator,p=u.ccclass,h=u.property,f=u.requireComponent;function d(){return globalThis.tt&&globalThis.tt.createCanvas?globalThis.tt.createCanvas():globalThis.wx&&globalThis.wx.createCanvas?globalThis.wx.createCanvas():document&&document.createElement?document.createElement("canvas"):null}function _(t){return new Promise(function(e){var o=new XMLHttpRequest;o.open("GET",t,!0),o.responseType="arraybuffer",o.onreadystatechange=function(){4===o.readyState&&e(o.response)},o.onerror=function(t){console.error("xhr error",t),e(null)},o.send(null),setTimeout(function(){e(null)},1e5)})}var y={},v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._url="",e._sprite=null,e._mainCavas=null,e._mainCtx=null,e._tmpCavas=null,e._tmpCtx=null,e.initUrl="",e._status="init",e._needsDisposal=!1,e._frameIndex=0,e._frameWidth=0,e._frameHeight=0,e._frameData=null,e}return i(e,t),Object.defineProperty(e.prototype,"url",{get:function(){return this._url},set:function(t){this._url!==t&&(this._url&&this.releaseURL(this._url),this._url=t,this._renderImage())},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this._url=this._url||this.initUrl,this._sprite=this.node.getComponent(cc.Sprite),this._mainCavas=d(),this._tmpCavas=d(),this._mainCavas?(this._mainCtx=this._mainCavas.getContext("2d"),this._tmpCtx=this._tmpCavas.getContext("2d")):console.error("[GifRender] init canvas error")},e.prototype.onEnable=function(){this._renderImage()},e.prototype.onDisable=function(){this.unscheduleAllCallbacks()},e.prototype.onDestroy=function(){this.releaseURL(this._url)},e.prototype._prepareCacheData=function(){return c(this,void 0,Promise,function(){var t,e;return a(this,function(o){switch(o.label){case 0:return y[this._url]?[2]:[4,(n=this._url,n?/^https?:\/\//i.test(n)||/^\//.test(n)?_(n):new Promise(function(t){cc.resources.load(n.replace(/\.gif$/i,""),function(e,o){if(e)return t(null);_(o.nativeUrl).then(t)})}):Promise.resolve(null))];case 1:if(t=o.sent(),s.Macro.log.logModel(t),!t)return[2];e=[];try{e=l.decompressFrames(l.parseGIF(t),!0)}catch(i){return console.error("[GifRender] read gif frame error",i),[2]}return 0===e.length?[2]:(y[this._url]={refs:[],frames:e},[2])}var n})})},e.prototype._renderImage=function(){return c(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return this._sprite?(this.unscheduleAllCallbacks(),this._url?this._mainCavas?(console.log("[GifRender] render image:",this._url),[4,this._prepareCacheData()]):(this._renderAsNormalImage(),[2]):(this._sprite.spriteFrame=null,[2])):[2];case 1:return e.sent(),(t=y[this._url])?(this._needsDisposal=!0,this._frameIndex=0,this._frameWidth=9999,this._frameHeight=9999,this._frameData=null,this._mainCavas.width=t.frames[0].dims.width,this._mainCavas.height=t.frames[0].dims.height,t.refs.indexOf(this.uuid)<0&&t.refs.push(this.uuid),this._draw(),[2]):(this._renderAsNormalImage(),[2])}})})},e.prototype.releaseURL=function(t){var e=y[t];if(e){var o=e.refs.indexOf(t);o>=0&&e.refs.splice(o,1),0===e.refs.length&&delete y[t]}},e.prototype._draw=function(){return c(this,void 0,void 0,function(){var t,e,o,n,i,r,c=this;return a(this,function(a){switch(a.label){case 0:return t=y[this._url],e=t.frames[this._frameIndex],o=Date.now(),this._needsDisposal&&(this._mainCtx.clearRect(0,0,this._frameWidth,this._frameHeight),this._needsDisposal=!1),n=e.dims,this._frameData&&n.width===this._frameData.width&&n.height===this._frameData.height||(this._tmpCavas.width=n.width,this._tmpCavas.height=n.height,this._frameData=this._mainCtx.createImageData(n.width,n.height)),this._frameData.data.set(e.patch),this._tmpCtx.putImageData(this._frameData,0,0),this._mainCtx.drawImage(this._tmpCavas,n.left,n.top),this._frameIndex++,this._frameIndex>=t.frames.length&&(this._frameIndex=0),2===e.disposalType&&(this._needsDisposal=!0),[4,this.dataUrl2SpriteFrame(this._mainCavas.toDataURL())];case 1:return i=a.sent(),this._sprite.spriteFrame=i,r=Date.now()-o,this.scheduleOnce(function(){c._draw()},Math.max(0,Math.floor(e.delay-r))/1e3),[2]}})})},e.prototype._renderAsNormalImage=function(){return c(this,void 0,void 0,function(){return a(this,function(){return[2]})})},e.prototype.dataUrl2SpriteFrame=function(t){return c(this,void 0,Promise,function(){return a(this,function(){return[2,new Promise(function(e){var o=new cc.Texture2D,n=new cc.SpriteFrame,i=new Image;i.src=t,i.onload=function(){o.initWithElement(i),n.setTexture(o),e(n)}})]})})},r([h({displayName:"\u56fe\u7247\u8d44\u6e90",tooltip:"\u5982\u679c\u662f\u8fdc\u7a0b\u5730\u5740\uff0c\u5219\u9700\u8981 http:// \u6216\u8005 https:// \u5f00\u5934\n\u5426\u5219\u4ece\u672c\u5730 assets/resources \u4e2d\u5bfb\u627e"})],e.prototype,"initUrl",void 0),r([p,f(cc.Sprite)],e)}(cc.Component);o.GifRender=v,cc._RF.pop()},{"../../Global/Macro":"Macro","./Gif":"Gif"}],Gif:[function(t,e,o){"use strict";function n(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function i(t){var e={exports:{}};return t(e,e.exports),e.exports}cc._RF.push(e,"54924gT5ItPLKAAN+SKi8Fw","Gif"),Object.defineProperty(o,"__esModule",{value:!0}),o.parseGIF=o.decompressFrames=o.decompressFrame=void 0;var r=i(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.loop=e.conditional=e.parse=void 0,e.parse=function t(e,o){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;if(Array.isArray(o))o.forEach(function(o){return t(e,o,n,i)});else if("function"==typeof o)o(e,n,i,t);else{var r=Object.keys(o)[0];Array.isArray(o[r])?(i[r]={},t(e,o[r],n,i[r])):i[r]=o[r](e,n,i,t)}return n},e.conditional=function(t,e){return function(o,n,i,r){e(o,n,i)&&r(o,t,n,i)}},e.loop=function(t,e){return function(o,n,i,r){for(var c=[],a=o.pos;e(o,n,i);){var s={};if(r(o,t,n,s),o.pos===a)break;a=o.pos,c.push(s)}return c}}}),c=i(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.readBits=e.readArray=e.readUnsigned=e.readString=e.peekBytes=e.readBytes=e.peekByte=e.readByte=e.buildStream=void 0,e.buildStream=function(t){return{data:t,pos:0}},e.readByte=function(){return function(t){return t.data[t.pos++]}},e.peekByte=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(e){return e.data[e.pos+t]}};var o=function(t){return function(e){return e.data.subarray(e.pos,e.pos+=t)}};e.readBytes=o,e.peekBytes=function(t){return function(e){return e.data.subarray(e.pos,e.pos+t)}},e.readString=function(t){return function(e){return Array.from(o(t)(e)).map(function(t){return String.fromCharCode(t)}).join("")}},e.readUnsigned=function(t){return function(e){var n=o(2)(e);return t?(n[1]<<8)+n[0]:(n[0]<<8)+n[1]}},e.readArray=function(t,e){return function(n,i,r){for(var c="function"==typeof e?e(n,i,r):e,a=o(t),s=new Array(c),l=0;l<c;l++)s[l]=a(n);return s}},e.readBits=function(t){return function(e){for(var o=function(t){return t.data[t.pos++]}(e),n=new Array(8),i=0;i<8;i++)n[7-i]=!!(o&1<<i);return Object.keys(t).reduce(function(e,o){var i=t[o];return e[o]=i.length?function(t,e,o){for(var n=0,i=0;i<o;i++)n+=t[e+i]&&Math.pow(2,o-i-1);return n}(n,i.index,i.length):n[i.index],e},{})}}}),a=n(i(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={blocks:function(t){for(var e=[],o=t.data.length,n=0,i=(0,c.readByte)()(t);0!==i&&i;i=(0,c.readByte)()(t)){if(t.pos+i>=o){var r=o-t.pos;e.push((0,c.readBytes)(r)(t)),n+=r;break}e.push((0,c.readBytes)(i)(t)),n+=i}for(var a=new Uint8Array(n),s=0,l=0;l<e.length;l++)a.set(e[l],s),s+=e[l].length;return a}},n=(0,r.conditional)({gce:[{codes:(0,c.readBytes)(2)},{byteSize:(0,c.readByte)()},{extras:(0,c.readBits)({future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}})},{delay:(0,c.readUnsigned)(!0)},{transparentColorIndex:(0,c.readByte)()},{terminator:(0,c.readByte)()}]},function(t){var e=(0,c.peekBytes)(2)(t);return 33===e[0]&&249===e[1]}),i=(0,r.conditional)({image:[{code:(0,c.readByte)()},{descriptor:[{left:(0,c.readUnsigned)(!0)},{top:(0,c.readUnsigned)(!0)},{width:(0,c.readUnsigned)(!0)},{height:(0,c.readUnsigned)(!0)},{lct:(0,c.readBits)({exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}})}]},(0,r.conditional)({lct:(0,c.readArray)(3,function(t,e,o){return Math.pow(2,o.descriptor.lct.size+1)})},function(t,e,o){return o.descriptor.lct.exists}),{data:[{minCodeSize:(0,c.readByte)()},o]}]},function(t){return 44===(0,c.peekByte)()(t)}),a=(0,r.conditional)({text:[{codes:(0,c.readBytes)(2)},{blockSize:(0,c.readByte)()},{preData:function(t,e,o){return(0,c.readBytes)(o.text.blockSize)(t)}},o]},function(t){var e=(0,c.peekBytes)(2)(t);return 33===e[0]&&1===e[1]}),s=(0,r.conditional)({application:[{codes:(0,c.readBytes)(2)},{blockSize:(0,c.readByte)()},{id:function(t,e,o){return(0,c.readString)(o.blockSize)(t)}},o]},function(t){var e=(0,c.peekBytes)(2)(t);return 33===e[0]&&255===e[1]}),l=(0,r.conditional)({comment:[{codes:(0,c.readBytes)(2)},o]},function(t){var e=(0,c.peekBytes)(2)(t);return 33===e[0]&&254===e[1]}),u=[{header:[{signature:(0,c.readString)(3)},{version:(0,c.readString)(3)}]},{lsd:[{width:(0,c.readUnsigned)(!0)},{height:(0,c.readUnsigned)(!0)},{gct:(0,c.readBits)({exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}})},{backgroundColorIndex:(0,c.readByte)()},{pixelAspectRatio:(0,c.readByte)()}]},(0,r.conditional)({gct:(0,c.readArray)(3,function(t,e){return Math.pow(2,e.lsd.gct.size+1)})},function(t,e){return e.lsd.gct.exists}),{frames:(0,r.loop)([n,s,l,i,a],function(t){var e=(0,c.peekByte)()(t);return 33===e||44===e})}];e.default=u})),s=function(t,e,o){if(t.image){var n=t.image,i=function(t,e,o){var n,i,r,c,a,s,l,u,p,h,f,d,_,y,v,g,m=4096,b=o,w=new Array(o),S=new Array(m),O=new Array(m),C=new Array(4097);for(a=1+(i=1<<(h=t)),n=i+2,l=-1,r=(1<<(c=h+1))-1,u=0;u<i;u++)S[u]=0,O[u]=u;for(f=d=_=y=v=g=0,p=0;p<b;){if(0===y){if(d<c){f+=e[g]<<d,d+=8,g++;continue}if(u=f&r,f>>=c,d-=c,u>n||u==a)break;if(u==i){r=(1<<(c=h+1))-1,n=i+2,l=-1;continue}if(-1==l){C[y++]=O[u],l=u,_=u;continue}for(s=u,u==n&&(C[y++]=_,u=l);u>i;)C[y++]=O[u],u=S[u];C[y++]=_=255&O[u],n<m&&(S[n]=l,O[n]=_,0==(++n&r)&&n<m&&(c++,r+=n)),l=s}y--,w[v++]=C[y],p++}for(p=v;p<b;p++)w[p]=0;return w}(n.data.minCodeSize,n.data.blocks,n.descriptor.width*n.descriptor.height);n.descriptor.lct.interlaced&&(i=function(t,e){for(var o=new Array(t.length),n=t.length/e,i=function(n,i){var r=t.slice(i*e,(i+1)*e);o.splice.apply(o,[n*e,e].concat(r))},r=[0,4,2,1],c=[8,8,4,2],a=0,s=0;s<4;s++)for(var l=r[s];l<n;l+=c[s])i(l,a),a++;return o}(i,n.descriptor.width));var r={pixels:i,dims:{top:t.image.descriptor.top,left:t.image.descriptor.left,width:t.image.descriptor.width,height:t.image.descriptor.height}};return r.colorTable=n.descriptor.lct&&n.descriptor.lct.exists?n.lct:e,t.gce&&(r.delay=10*(t.gce.delay||10),r.disposalType=t.gce.extras.disposal,t.gce.extras.transparentColorGiven&&(r.transparentIndex=t.gce.transparentColorIndex)),o&&(r.patch=function(t){for(var e=t.pixels.length,o=new Uint8ClampedArray(4*e),n=0;n<e;n++){var i=4*n,r=t.pixels[n],c=t.colorTable[r]||[0,0,0];o[i]=c[0],o[i+1]=c[1],o[i+2]=c[2],o[i+3]=r!==t.transparentIndex?255:0}return o}(r)),r}console.warn("gif frame does not have associated image.")};o.parseGIF=function(t){var e=new Uint8Array(t);return r.parse(c.buildStream(e),a)},o.decompressFrame=s,o.decompressFrames=function(t,e){return t.frames.filter(function(t){return t.image}).map(function(o){return s(o,t.gct,e)})},cc._RF.pop()},{}],Global:[function(t,e,o){"use strict";cc._RF.push(e,"00f1dvnkuZGyJL0O8SgGuI0","Global"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameContext=o.GlobalDef=o.PlatformType=void 0;var n=function(){function t(){}return t.PC="PC",t.WX="WX",t}();o.PlatformType=n;var i=function(){function t(){}return t.platform=n.PC,t}();o.GlobalDef=i;var r=function(){function t(){}return t.use_log=!1,t.use_test=!1,t.TEACH_CONFIG=8,t.LEVEL_CONFIG=40,t.MAX_CONFIG=48,t.MAX_ENERGY=10,t}();o.GameContext=r;var c=function(){function t(){}return t.RANKING_NORMAL="RANKING_NORMAL",t.RANKING_T_NORMAL="RANKING_T_NORMAL",t.RANKING_T_HARD="RANKING_T_HARD",t.LOAD_LEVEL_JSON="LOAD_LEVEL_JSON",t.UN_DISPLAY="undisplay",t}();o.default=c,cc._RF.pop()},{}],GoogolUtils:[function(t,e,o){"use strict";cc._RF.push(e,"f47a74qkf5FfKSRXHGH5mnb","GoogolUtils"),Object.defineProperty(o,"__esModule",{value:!0}),o.GoogolUtils=void 0;var n=function(){function t(){}return Object.defineProperty(t,"TempGoogol",{get:function(){return t.__tempGoogol__.num=0,t.__tempGoogol__.unit="",t.__tempGoogol__.unitIdx=0,t.__tempGoogol__},enumerable:!1,configurable:!0}),t.Add=function(t,e){if(e.num<=0)return t;this.FormatUnit(t),this.FormatUnit(e);var o=t.unitIdx-e.unitIdx;return o>=2?t:o<=-2?(t.num=e.num,t.unit=e.unit,t.unitIdx=e.unitIdx,t):(t.num+=e.num/Math.pow(1e3,o),this.FormatUnit(t))},t.Subtract=function(t,e){if(e.num<=0)return t;this.FormatUnit(t),this.FormatUnit(e);var o=t.unitIdx-e.unitIdx;return o>=2?t:o<=-2?(t.num=e.num,t.unit=e.unit,t.unitIdx=e.unitIdx,t):(t.num-=e.num/Math.pow(1e3,o),this.FormatUnit(t))},t.Multiply=function(t,e){return t.num*=e,this.FormatUnit(t)},t.prototype.Divide=function(){},t.FormatUnit=function(t){var e=Math.abs;if(e(t.num)>1e3)for(;e(t.num)>1e3;)t.unitIdx++,t.num/=1e3,t.unit=this._units[t.unitIdx];else if(e(t.num)<1&&e(t.num)>0)for(;e(t.num)<1&&e(t.num)>0;)t.unitIdx--,t.num*=1e3,t.unit=this._units[t.unitIdx];return t},t.CompareSize=function(e,o){return t.FormatUnit(e),t.FormatUnit(o),e.unitIdx==o.unitIdx?e.num>=o.num:e.unitIdx>o.unitIdx},t.IsEqual=function(e,o){return t.FormatUnit(e),t.FormatUnit(o),e.unitIdx==o.unitIdx&&e.num==o.num},t.GetGoogolModel=function(t){var e={unit:"",unitIdx:0,num:t};return this.FormatUnit(e)},t.GetStringByGoogol=function(t){var e=""==t.unit?0:1;return""+t.num.toFixed(e)+t.unit},t._units=["","K","M","G","T","A","B","C","d","e","f","g","h","i","j","k","l","m","n","o","p","q"],t.__tempGoogol__=t.GetGoogolModel(0),t}();o.GoogolUtils=n,cc._RF.pop()},{}],Handler:[function(t,e,o){"use strict";cc._RF.push(e,"473d4P7heBL84CzizRjDsF7","Handler"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(t,e,o,n){this.once=!1,this._id=0,this.setTo(t,e,o,n)}return t.prototype.setTo=function(e,o,n,i){return this._id=t._gid++,this.caller=e,this.method=o,this.args=n,this.once=i,this},t.prototype.run=function(){if(null==this.method)return null;var t=this._id,e=this.method.apply(this.caller,this.args);return this._id===t&&this.once&&this.recover(),e},t.prototype.runWith=function(t){if(null==this.method)return null;var e=this._id;if(null==t)var o=this.method.apply(this.caller,this.args);else o=this.args||t.unshift?this.args?this.method.apply(this.caller,this.args.concat(t)):this.method.apply(this.caller,t):this.method.call(this.caller,t);return this._id===e&&this.once&&this.recover(),o},t.prototype.clear=function(){return this.caller=null,this.method=null,this.args=null,this},t.prototype.recover=function(){this._id>0&&(this._id=0,t._pool.push(this.clear()))},t.create=function(e,o,n,i){return t._pool.length?t._pool.pop().setTo(e,o,n,i):new t(e,o,n,i)},t._pool=[],t._gid=1,t}();o.default=n,cc._RF.pop()},{}],Heightfield:[function(t,e,o){"use strict";cc._RF.push(e,"a4166H/0+1G7qRCaGvYXAJw","Heightfield");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.Heightfield=void 0;var c=t("../P2Enum"),a=t("./Body"),s=t("./Shape"),l=cc._decorator,u=l.ccclass,p=l.property,h=l.menu,f=l.executeInEditMode,d=l.requireComponent,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=c.EP2Shape.Heightfield,e.heights=[],e.minValue=0,e.maxValue=1,e.elementWidth=.1,e.shape=null,e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),[].slice(0),this.options.heights=this.heights,this.options.minValue=this.minValue,this.options.maxValue=this.maxValue,this.options.elementWidth=this.elementWidth,this.shape=new p2.Heightfield(this.options)},r([p({tooltip:"\u9ad8\u5ea6",type:[cc.Float]})],e.prototype,"heights",void 0),r([p({tooltip:"\u6700\u5c0f\u503c",type:cc.Float})],e.prototype,"minValue",void 0),r([p({tooltip:"\u6700\u5927\u503c",type:cc.Float})],e.prototype,"maxValue",void 0),r([p({tooltip:"\u5bbd\u5ea6",type:cc.Float})],e.prototype,"elementWidth",void 0),r([u,d(a.Body),h("P2\u7269\u7406/Shape/Heightfield"),f],e)}(s.Shape);o.Heightfield=_,cc._RF.pop()},{"../P2Enum":"P2Enum","./Body":"Body","./Shape":"Shape"}],HttpRequest:[function(t,e,o){"use strict";cc._RF.push(e,"7979aduxQVDfbpUYK8D4Yse","HttpRequest"),Object.defineProperty(o,"__esModule",{value:!0}),o.HttpRequest=o.HttpEvent=void 0;var n,i=t("../../Global/Macro"),r={},c={};(function(t){t.NO_NETWORK="http_request_no_network",t.UNKNOWN_ERROR="http_request_unknown_error",t.TIMEOUT="http_request_timout"})(n=o.HttpEvent||(o.HttpEvent={}));var a=function(){function t(){this.server="http://127.0.0.1/",this.timeout=1e4}return t.prototype.get=function(t,e,o){this.sendRequest(t,null,!1,e,o)},t.prototype.getWithParams=function(t,e,o,n){this.sendRequest(t,e,!1,o,n)},t.prototype.getByArraybuffer=function(t,e,o){this.sendRequest(t,null,!1,e,o,"arraybuffer",!1)},t.prototype.getWithParamsByArraybuffer=function(t,e,o,n){this.sendRequest(t,e,!1,o,n,"arraybuffer",!1)},t.prototype.post=function(t,e,o,n){this.sendRequest(t,e,!0,o,n)},t.prototype.abort=function(t){var e=r[this.server+t];e&&e.abort()},t.prototype.getParamString=function(t){var e="";for(var o in t){var n=t[o];if(n instanceof Object)for(var i in n)e+=i+"="+n[i]+"&";else e+=o+"="+n+"&"}return e.substr(0,e.length-1)},t.prototype.sendRequest=function(t,e,o,a,s,l,u,p){var h,f,d,_=this;if(void 0===u&&(u=!0),void 0===p&&(p=this.timeout),null!=t&&""!=t)if(h=0==t.toLocaleLowerCase().indexOf("http")?t:this.server+t,e?(d=this.getParamString(e),f=h.indexOf("?")>-1?h+"&"+d:h+"?"+d):f=h,null==r[f]||c[f]!=d){var y=new XMLHttpRequest;r[f]=y,c[f]=d,o?y.open("POST",h):y.open("GET",f),y.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var v={};v.url=h,v.params=e,u&&(y.timeout=p,y.ontimeout=function(){_.deleteCache(f),v.event=n.TIMEOUT,s&&s(v)}),y.onloadend=function(){if(500==y.status){if(_.deleteCache(f),null==s)return;v.event=n.NO_NETWORK,s&&s(v)}},y.onerror=function(){_.deleteCache(f),null!=s&&(0==y.readyState||1==y.readyState||0==y.status?v.event=n.NO_NETWORK:v.event=n.UNKNOWN_ERROR,s&&s(v))},y.onreadystatechange=function(){if(4==y.readyState&&(_.deleteCache(f),200==y.status&&a))if("arraybuffer"==l)y.responseType=l,a&&a(y.response);else{var t=JSON.parse(y.response);null!=t.code?0==t.code?a&&a(t.data):s&&s(t):a&&a(t)}},null==e||""==e?y.send():y.send(d)}else i.Macro.log.logNet("\u5730\u5740\u3010"+h+"\u3011\u5df2\u6b63\u5728\u8bf7\u6c42\u4e2d\uff0c\u4e0d\u80fd\u91cd\u590d\u8bf7\u6c42");else i.Macro.log.logNet("\u8bf7\u6c42\u5730\u5740\u4e0d\u80fd\u4e3a\u7a7a")},t.prototype.deleteCache=function(t){delete r[t],delete c[t]},t}();o.HttpRequest=a,cc._RF.pop()},{"../../Global/Macro":"Macro"}],Interfaces:[function(t,e,o){"use strict";cc._RF.push(e,"f3f7bHYdDNIdJj+ixozaeAO","Interfaces"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],JellyTween:[function(t,e,o){"use strict";cc._RF.push(e,"d6160Kmj5hGuZmulQy8ef7z","JellyTween");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,l=c.menu,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.frequency=4,e.decay=2,e.pressScale=.2,e.totalTime=1,e.interval=1,e.playOnLoad=!1,e.originalScale=1,e.tween=null,e}return i(e,t),e.prototype.start=function(){this.originalScale=this.node.scale,this.playOnLoad&&this.play()},e.prototype.play=function(t){var e=this,o=null!=t&&t>0?t:1e9,n=.2*this.totalTime,i=.15*this.totalTime,r=.65*this.totalTime,c=this.pressScale/i;this.tween=cc.tween(this.node).repeat(o,cc.tween().to(n,{scaleX:this.originalScale+this.pressScale,scaleY:this.originalScale-this.pressScale},{easing:"sineOut"}).to(i,{scaleX:this.originalScale,scaleY:this.originalScale}).to(r,{scaleX:{value:this.originalScale,progress:function(t,o,n,i){return o-e.getDifference(c,i)}},scaleY:{value:this.originalScale,progress:function(t,o,n,i){return o+e.getDifference(c,i)}}}).delay(this.interval)).start()},e.prototype.stop=function(){this.tween&&this.tween.stop(),this.node.setScale(this.originalScale)},e.prototype.getDifference=function(t,e){var o=this.frequency*Math.PI*2;return t*(Math.sin(e*o)/Math.exp(this.decay*e)/o)},r([s({tooltip:!1})],e.prototype,"frequency",void 0),r([s({tooltip:!1})],e.prototype,"decay",void 0),r([s({tooltip:!1})],e.prototype,"pressScale",void 0),r([s({tooltip:!1})],e.prototype,"totalTime",void 0),r([s({tooltip:!1})],e.prototype,"interval",void 0),r([s({tooltip:!1})],e.prototype,"playOnLoad",void 0),r([a,l("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/JellyTween")],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],LRUCache:[function(t,e,o){"use strict";cc._RF.push(e,"9a827nZf6dO+pc3/C9Ye87S","LRUCache"),Object.defineProperty(o,"__esModule",{value:!0}),o.LRUCache=void 0;var n=t("../Utils/Pool"),i=function(){function t(t,e){this.value=t,this.next=e}return t.prototype.use=function(t,e){this.value=t,this.next=e},t.prototype.free=function(){this.value="",this.next=null},t}(),r=function(){function t(t){this.nodePool=new n.Pool(function(){return new i("",null)},3),this.maxSize=t,this.head=new i("head",null),this.size=0}return t.prototype.remove=function(t){var e=this.has(t);e&&this.removeNode(e)},t.prototype.put=function(t){if(this.size<=0)return this.last=this.nodePool.alloc(t,null),this.last.prev=this.head,this.head.next=this.last,void(this.size=1);var e=this.has(t);if(!e)return e=this.nodePool.alloc(t,null),void this.addHead(e);this.last==e&&(this.last=e.prev),this.removeNode(e),this.addHead(e)},t.prototype.needDelete=function(){return this.size>this.maxSize},t.prototype.deleteLastNode=function(){var t=this.last.value;return this.removeNode(this.last),this.nodePool.free(this.last),this.last=this.last.prev,t},t.prototype.removeNode=function(t){t.prev.next=t.next,t.next&&(t.next.prev=t.prev),this.size--},t.prototype.addHead=function(t){t.next=this.head.next,t.next&&(t.next.prev=t),this.head.next=t,t.prev=this.head,this.size++},t.prototype.has=function(t){for(var e=this.head.next;e;){if(e.value==t)return e;e=e.next}return null},t.prototype.toString=function(){for(var t="",e=this.head.next;e;)t+=e.value+" ",e=e.next;return t},t}();o.LRUCache=r,cc._RF.pop()},{"../Utils/Pool":"Pool"}],LanguageMgr:[function(t,e,o){"use strict";cc._RF.push(e,"3f2476oeP1IsKGN1p4HRBI2","LanguageMgr"),Object.defineProperty(o,"__esModule",{value:!0}),o.LanguageMgr=void 0;var n=t("../Global/EnumDefine").EnumDefine.ELanguageID;o.LanguageMgr=function(){switch(cc.sys.language){case cc.sys.LANGUAGE_CHINESE:case cc.sys.LANGUAGE_ENGLISH:this.languageID=n.EN;break;case cc.sys.LANGUAGE_PORTUGUESE:this.languageID=n.PT;break;case"id":this.languageID=n.ID;break;default:this.languageID=n.EN}},cc._RF.pop()},{"../Global/EnumDefine":"EnumDefine"}],LayaPool:[function(t,e,o){"use strict";cc._RF.push(e,"eeaee+FDQdFTKEA9x7kMfOX","LayaPool"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.getPoolBySign=function(e){return t._poolDic[e]||(t._poolDic[e]=[])},t.clearBySign=function(e){t._poolDic[e]&&(t._poolDic[e].length=0)},t.recover=function(e,o){o[t.POOLSIGN]||(o[t.POOLSIGN]=!0,t.getPoolBySign(e).push(o))},t.recoverByClass=function(e){if(e){var o=e.__className||e.constructor._$gid;o&&t.recover(o,e)}},t._getClassSign=function(e){var o=e.__className||e._$gid;return o||(e._$gid=o=t._CLSID+"",t._CLSID++),o},t.createByClass=function(e){return t.getItemByClass(t._getClassSign(e),e)},t.getItemByClass=function(e,o){if(!t._poolDic[e])return new o;var n=t.getPoolBySign(e);if(n.length){var i=n.pop();i[t.POOLSIGN]=!1}else i=new o;return i},t.getItemByCreateFun=function(e,o,n){var i=t.getPoolBySign(e),r=i.length?i.pop():o.call(n);return r[t.POOLSIGN]=!1,r},t.getItem=function(e){var o=t.getPoolBySign(e),n=o.length?o.pop():null;return n&&(n[t.POOLSIGN]=!1),n},t._CLSID=0,t.POOLSIGN="__InPool",t._poolDic={},t}();o.default=n,cc._RF.pop()},{}],LevelState:[function(t,e,o){"use strict";cc._RF.push(e,"29d4fMeSCVJtacrThP1pYpA","LevelState");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.LevelState=o.ELevelState=void 0;var r=t("../../../Utils/Fsm/BaseState");(function(t){t[t.None=0]="None",t[t.Load=1]="Load",t[t.SwitchLevel=2]="SwitchLevel",t[t.Fight=3]="Fight",t[t.Pause=4]="Pause",t[t.Reborn=5]="Reborn",t[t.Win=6]="Win",t[t.Lose=7]="Lose",t[t.Exit=8]="Exit"})(o.ELevelState||(o.ELevelState={}));var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(r.default);o.LevelState=c,cc._RF.pop()},{"../../../Utils/Fsm/BaseState":"BaseState"}],Level:[function(t,e,o){"use strict";cc._RF.push(e,"19d66p9x1ZF+ptmQPeb9Is5","Level");var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../Utils/Fsm/StateMachine"),c=t("./LevelState/ExitState"),a=t("./LevelState/FightState"),s=t("./LevelState/LevelState"),l=t("./LevelState/LoadState"),u=t("./LevelState/LoseState"),p=t("./LevelState/PauseState"),h=t("./LevelState/RebornState"),f=t("./LevelState/SwitchLevelState"),d=t("./LevelState/WinState"),_=t("./StateStep"),y=function(){function t(){this._fsm=null,this.lvInfo=null,this._slots=null,this.linkedStepList=null,this._initFsm(),this._initEvent()}return Object.defineProperty(t.prototype,"fsm",{get:function(){return this._fsm},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"slots",{get:function(){return this._slots},set:function(t){this._slots=t},enumerable:!1,configurable:!0}),t.prototype._initFsm=function(){this._fsm=new r.default,this._fsm.Add(new l.LoadState(this)),this._fsm.Add(new f.SwitchLevelState(this)),this._fsm.Add(new a.FightState(this)),this._fsm.Add(new p.PauseState(this)),this._fsm.Add(new h.RebornState(this)),this._fsm.Add(new d.WinState(this)),this._fsm.Add(new u.LoseState(this)),this._fsm.Add(new c.ExitState(this))},t.prototype._initEvent=function(){},t.prototype.enterLevel=function(t){return n(this,void 0,void 0,function(){return i(this,function(){return this.lvInfo=t,this._fsm.ChangeState(s.ELevelState.Load),[2]})})},t.prototype.switchLevel=function(){},t.prototype.exitLevel=function(){this._fsm.ChangeState(s.ELevelState.Exit)},t.prototype.saveStateStep=function(){var t=new _.StateStep(this);return t.saveState(),this.linkedStepList.add(t),!0},t.prototype.clearStateStep=function(){return!0},t.prototype.backStep=function(){return n(this,void 0,void 0,function(){return i(this,function(){return[2]})})},t.prototype.LogicUpData=function(t){this._fsm.LogicUpdate(t)},t.prototype.LateLogicUpdate=function(){},t}();o.default=y,cc._RF.pop()},{"../../Utils/Fsm/StateMachine":"StateMachine","./LevelState/ExitState":"ExitState","./LevelState/FightState":"FightState","./LevelState/LevelState":"LevelState","./LevelState/LoadState":"LoadState","./LevelState/LoseState":"LoseState","./LevelState/PauseState":"PauseState","./LevelState/RebornState":"RebornState","./LevelState/SwitchLevelState":"SwitchLevelState","./LevelState/WinState":"WinState","./StateStep":"StateStep"}],Line:[function(t,e,o){"use strict";cc._RF.push(e,"1c2752MKJ9B3LT/sqK98Nnt","Line");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.Line=void 0;var c=t("../P2Enum"),a=t("./Body"),s=t("./Shape"),l=cc._decorator,u=l.ccclass,p=l.property,h=l.menu,f=l.executeInEditMode,d=l.requireComponent,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=c.EP2Shape.Line,e.length=1,e.shape=null,e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.options.length=this.length,this.shape=new p2.Line(this.options)},r([p({tooltip:"\u957f\u5ea6",type:cc.Float})],e.prototype,"length",void 0),r([u,d(a.Body),h("P2\u7269\u7406/Shape/Line"),f],e)}(s.Shape);o.Line=_,cc._RF.pop()},{"../P2Enum":"P2Enum","./Body":"Body","./Shape":"Shape"}],LinkedDictionary:[function(t,e,o){"use strict";cc._RF.push(e,"bc521l50wxAcZtxeaFKc4OU","LinkedDictionary"),Object.defineProperty(o,"__esModule",{value:!0}),o.Node=o.LinkedDictionary=void 0;var n=function(){function t(){this._head=new i,this._length=0}return t.prototype.add=function(t,e){var o=this._findPrevNode(t),n=o.next;n&&n.key===t?n.value=e:(n=new i(t,e),o.next=n,this._length++)},t.prototype.remove=function(t){var e=this._findPrevNode(t);e.next&&(e.next=e.next.next,this._length--)},t.prototype.get=function(t){var e=this._findPrevNode(t);if(e.next)return e.next.value},t.prototype.forEach=function(t){for(var e=this._head.next;e;)t(e.key,e.value),e=e.next},t.prototype.length=function(){return this._length},t.prototype.sort=function(t){var e=this._toArray();e.sort(t),this._fromArray(e)},t.prototype.clear=function(){this._head.next=void 0,this._length=0},t.prototype._findPrevNode=function(t){for(var e=this._head;e.next;){if(e.next.key===t)return e;e=e.next}return e},t.prototype._toArray=function(){for(var t=[],e=this._head.next;e;)t.push({key:e.key,value:e.value}),e=e.next;return t},t.prototype._fromArray=function(t){var e=this._head;t.forEach(function(t){var o=new i(t.key,t.value);e.next=o,e=o})},t}();o.LinkedDictionary=n;var i=function(t,e){this.key=t,this.value=e};o.Node=i,cc._RF.pop()},{}],LinkedStepList:[function(t,e,o){"use strict";cc._RF.push(e,"0d786QLEIFKS4xwkmAm3wHJ","LinkedStepList"),Object.defineProperty(o,"__esModule",{value:!0}),o.LinkedStepList=void 0;var n=function(){function t(){this.head=null,this.tail=null,this.size=0}return t.prototype.add=function(t){if(null===this.head)this.head=t,this.tail=t;else if(null!==this.tail){var e=this.tail;this.tail=t,this.tail.prev=e}this.size++},t.prototype.pop=function(){if(0!==this.size){var t=this.tail;return 1===this.size?(this.head=null,this.tail=null):this.tail=this.tail.prev,this.size--,t}},t.prototype.getLast=function(){return null!==this.tail?this.tail:null},t.prototype.getSize=function(){return this.size},t.prototype.clear=function(){for(var t,e=this.tail;e!==this.head;)e.clearState(),e=this.tail.prev;null===(t=this.head)||void 0===t||t.clearState(),this.head=null,this.tail=null},t}();o.LinkedStepList=n,cc._RF.pop()},{}],ListItem:[function(t,e,o){"use strict";cc._RF.push(e,"8dcf2KhPl9JYpzr6mCtwr5L","ListItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c,a=cc._decorator,s=a.ccclass,l=a.property,u=a.disallowMultiple,p=a.menu,h=a.executionOrder,f=t("./ButtonPlus");(function(t){t[t.NONE=0]="NONE",t[t.TOGGLE=1]="TOGGLE",t[t.SWITCH=2]="SWITCH"})(c||(c={}));var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e.title=null,e.btn=null,e.selectedMode=c.NONE,e.selectedFlag=null,e.selectedSpriteFrame=null,e._unselectedSpriteFrame=null,e.adaptiveSize=!1,e.openTouchDown=!1,e._onTouchDownEvent=null,e.openTouchUp=!1,e._onTouchUpEvent=null,e.openTouchCancel=!1,e._onTouchCancelEvent=null,e.openTouchMove=!1,e._onTouchMoveEvent=null,e._selected=!1,e._eventReg=!1,e}return i(e,t),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(t){if(this._selected=t,this.selectedFlag)switch(this.selectedMode){case c.TOGGLE:this.selectedFlag.active=t;break;case c.SWITCH:var e=this.selectedFlag.getComponent(cc.Sprite);e&&(e.spriteFrame=t?this.selectedSpriteFrame:this._unselectedSpriteFrame)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"btnCom",{get:function(){return this._btnCom||(this._btnCom=this.node.getComponent(cc.Button)),this._btnCom},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){if(this.selectedMode==c.SWITCH){var t=this.selectedFlag.getComponent(cc.Sprite);this._unselectedSpriteFrame=t.spriteFrame}},e.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.SIZE_CHANGED,this._onSizeChange,this),this.openTouchDown&&this.node.off(cc.Node.EventType.TOUCH_END,this._onTouchDown,this),this.openTouchUp&&this.node.off(cc.Node.EventType.TOUCH_END,this._onTouchUp,this),this.openTouchCancel&&this.node.off(cc.Node.EventType.TOUCH_CANCEL,this._onTouchCancel,this),this.openTouchMove&&this.node.off(cc.Node.EventType.TOUCH_MOVE,this._onTouchMove,this)},e.prototype._registerEvent=function(){this._eventReg||(this.btnCom&&this.list.selectedMode>0&&this.btnCom.clickEvents.unshift(this.createEvt(this,"onClickThis")),this.adaptiveSize&&this.node.on(cc.Node.EventType.SIZE_CHANGED,this._onSizeChange,this),this.openTouchDown&&this.node.on(cc.Node.EventType.TOUCH_START,this._onTouchDown,this),this.openTouchUp&&this.node.on(cc.Node.EventType.TOUCH_END,this._onTouchUp,this),this.openTouchCancel&&this.node.on(cc.Node.EventType.TOUCH_CANCEL,this._onTouchCancel,this),this.openTouchMove&&this.node.on(cc.Node.EventType.TOUCH_MOVE,this._onTouchMove,this),this._eventReg=!0)},e.prototype._onSizeChange=function(){this.list._onItemAdaptive(this.node)},e.prototype.createEvt=function(t,e,o){if(void 0===o&&(o=null),t.isValid){t.comName=t.comName||t.name.match(/\<(.*?)\>/g).pop().replace(/\<|>/g,"");var n=new cc.Component.EventHandler;return n.target=o||t.node,n.component=t.comName,n.handler=e,n}},e.prototype.showAni=function(t,e,o){var n,i=this;switch(t){case 0:n=[cc.scaleTo(.2,.7),cc.moveBy(.3,0,2*this.node.height)];break;case 1:n=[cc.scaleTo(.2,.7),cc.moveBy(.3,2*this.node.width,0)];break;case 2:n=[cc.scaleTo(.2,.7),cc.moveBy(.3,0,-2*this.node.height)];break;case 3:n=[cc.scaleTo(.2,.7),cc.moveBy(.3,-2*this.node.width,0)];break;default:n=[cc.scaleTo(.3,.1)]}(e||o)&&n.push(cc.callFunc(function(){if(o){i.list._delSingleItem(i.node);for(var t=i.list.displayData.length-1;t>=0;t--)if(i.list.displayData[t].id==i.listId){i.list.displayData.splice(t,1);break}}e()})),this.node.runAction(cc.sequence(n))},e.prototype.onClickThis=function(){this.list.selectedId=this.listId},e.prototype._onTouchDown=function(t){if(this._onTouchDownEvent){var e=t.target,o=this.list.getSelectedId(this.listId);cc.Component.EventHandler.emitEvents([this._onTouchDownEvent],e,o,t)}},e.prototype._onTouchUp=function(t){if(this._onTouchUpEvent){var e=t.target,o=this.list.getSelectedId(this.listId);cc.Component.EventHandler.emitEvents([this._onTouchUpEvent],e,o,t)}},e.prototype._onTouchCancel=function(t){if(this._onTouchCancelEvent){var e=t.target,o=this.list.getSelectedId(this.listId);cc.Component.EventHandler.emitEvents([this._onTouchCancelEvent],e,o,t)}},e.prototype._onTouchMove=function(t){if(this._onTouchMoveEvent){var e=t.target,o=this.list.getSelectedId(this.listId);cc.Component.EventHandler.emitEvents([this._onTouchMoveEvent],e,o,t)}},r([l({type:cc.Sprite,tooltip:!1})],e.prototype,"icon",void 0),r([l({type:cc.Label,tooltip:!1})],e.prototype,"title",void 0),r([l({type:f.default,tooltip:!1})],e.prototype,"btn",void 0),r([l({type:cc.Enum(c),tooltip:!1})],e.prototype,"selectedMode",void 0),r([l({type:cc.Node,tooltip:!1,visible:function(){return this.selectedMode>c.NONE}})],e.prototype,"selectedFlag",void 0),r([l({type:cc.SpriteFrame,tooltip:!1,visible:function(){return this.selectedMode==c.SWITCH}})],e.prototype,"selectedSpriteFrame",void 0),r([l({tooltip:!1})],e.prototype,"adaptiveSize",void 0),r([l({tooltip:"\u662f\u5426\u5f00\u542ftouchDown\u4e8b\u4ef6"})],e.prototype,"openTouchDown",void 0),r([l({type:cc.Component.EventHandler,tooltip:!1,visible:function(){return this.openTouchDown}})],e.prototype,"_onTouchDownEvent",void 0),r([l({tooltip:"\u662f\u5426\u5f00\u542ftouchUp\u4e8b\u4ef6"})],e.prototype,"openTouchUp",void 0),r([l({type:cc.Component.EventHandler,tooltip:!1,visible:function(){return this.openTouchUp}})],e.prototype,"_onTouchUpEvent",void 0),r([l({tooltip:"\u662f\u5426\u5f00\u542ftouchCancel\u4e8b\u4ef6"})],e.prototype,"openTouchCancel",void 0),r([l({type:cc.Component.EventHandler,tooltip:!1,visible:function(){return this.openTouchCancel}})],e.prototype,"_onTouchCancelEvent",void 0),r([l({tooltip:"\u662f\u5426\u5f00\u542ftouchMove\u4e8b\u4ef6"})],e.prototype,"openTouchMove",void 0),r([l({type:cc.Component.EventHandler,tooltip:!1,visible:function(){return this.openTouchMove}})],e.prototype,"_onTouchMoveEvent",void 0),r([s,u(),p("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/List Item"),h(-5001)],e)}(cc.Component);o.default=d,cc._RF.pop()},{"./ButtonPlus":"ButtonPlus"}],List:[function(t,e,o){"use strict";cc._RF.push(e,"387a1EqaPhOhr2WDMWF6oE0","List");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c,a,s,l=cc._decorator,u=l.ccclass,p=l.property,h=l.disallowMultiple,f=l.menu,d=l.executionOrder,_=l.requireComponent,y=t("./ListItem");(function(t){t[t.NODE=1]="NODE",t[t.PREFAB=2]="PREFAB"})(c||(c={})),function(t){t[t.NORMAL=1]="NORMAL",t[t.ADHERING=2]="ADHERING",t[t.PAGE=3]="PAGE"}(a||(a={})),function(t){t[t.NONE=0]="NONE",t[t.SINGLE=1]="SINGLE",t[t.MULT=2]="MULT"}(s||(s={}));var v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.templateType=c.NODE,e.tmpNode=null,e.tmpPrefab=null,e._slideMode=a.NORMAL,e.pageDistance=.3,e.pageChangeEvent=new cc.Component.EventHandler,e._virtual=!0,e.cyclic=!1,e.lackCenter=!1,e.lackSlide=!1,e._updateRate=0,e.frameByFrameRenderNum=0,e.renderEvent=new cc.Component.EventHandler,e.selectedMode=s.NONE,e.repeatEventSingle=!1,e.selectedEvent=null,e._selectedId=-1,e._forceUpdate=!1,e._updateDone=!0,e._numItems=0,e._inited=!1,e._needUpdateWidget=!1,e._aniDelRuning=!1,e._doneAfterUpdate=!1,e.adhering=!1,e._adheringBarrier=!1,e.curPageNum=0,e}return i(e,t),Object.defineProperty(e.prototype,"slideMode",{get:function(){return this._slideMode},set:function(t){this._slideMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"virtual",{get:function(){return this._virtual},set:function(t){null!=t&&(this._virtual=t),0!=this._numItems&&this._onScrolling()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateRate",{get:function(){return this._updateRate},set:function(t){t>=0&&t<=6&&(this._updateRate=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedId",{get:function(){return this._selectedId},set:function(t){var e,o=this;switch(o.selectedMode){case s.SINGLE:if(!o.repeatEventSingle&&t==o._selectedId)return;e=o.getItemByListId(t);var n=void 0;if(o._selectedId>=0?o._lastSelectedId=o._selectedId:o._lastSelectedId=null,o._selectedId=t,e&&((n=e.getComponent(y.default)).selected=!0),o._lastSelectedId>=0&&o._lastSelectedId!=o._selectedId){var i=o.getItemByListId(o._lastSelectedId);i&&(i.getComponent(y.default).selected=!1)}o.selectedEvent&&cc.Component.EventHandler.emitEvents([o.selectedEvent],e,t%this._actualNumItems,null==o._lastSelectedId?null:o._lastSelectedId%this._actualNumItems);break;case s.MULT:if(!(e=o.getItemByListId(t)))return;n=e.getComponent(y.default),o._selectedId>=0&&(o._lastSelectedId=o._selectedId),o._selectedId=t;var r=!n.selected;n.selected=r;var c=o.multSelected.indexOf(t);r&&c<0?o.multSelected.push(t):!r&&c>=0&&o.multSelected.splice(c,1),o.selectedEvent&&cc.Component.EventHandler.emitEvents([o.selectedEvent],e,t%this._actualNumItems,null==o._lastSelectedId?null:o._lastSelectedId%this._actualNumItems,r)}},enumerable:!1,configurable:!0}),e.prototype.getSelectedId=function(t){return t%this._actualNumItems},Object.defineProperty(e.prototype,"firstListId",{get:function(){return this._firstListId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"numItems",{get:function(){return this._actualNumItems},set:function(t){var e=this;if(e.checkInited(!1))if(null==t||t<0)cc.error("numItems set the wrong::",t);else if(e._actualNumItems=e._numItems=t,e._forceUpdate=!0,e._virtual)e._resizeContent(),e.cyclic&&(e._numItems=e._cyclicNum*e._numItems),e._onScrolling(),e.frameByFrameRenderNum||e.slideMode!=a.PAGE||(e.curPageNum=e.nearestListId);else{var o=e.content.getComponent(cc.Layout);if(o&&(o.enabled=!0),e._delRedundantItem(),e._firstListId=0,e.frameByFrameRenderNum>0){for(var n=e.frameByFrameRenderNum>e._numItems?e._numItems:e.frameByFrameRenderNum,i=0;i<n;i++)e._createOrUpdateItem2(i);e.frameByFrameRenderNum<e._numItems&&(e._updateCounter=e.frameByFrameRenderNum,e._updateDone=!1)}else{for(i=0;i<t;i++)e._createOrUpdateItem2(i);e.displayItemNum=t}}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scrollView",{get:function(){return this._scrollView},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this._init()},e.prototype.onDestroy=function(){var t=this;for(t._itemTmp&&t._itemTmp.isValid&&t._itemTmp.destroy(),t.tmpNode&&t.tmpNode.isValid&&t.tmpNode.destroy();t._pool.size();)t._pool.get().destroy()},e.prototype.onEnable=function(){this._registerEvent(),this._init()},e.prototype.onDisable=function(){this._unregisterEvent()},e.prototype._registerEvent=function(){var t=this;t.node.on(cc.Node.EventType.TOUCH_START,t._onTouchStart,t,!0),t.node.on("touch-up",t._onTouchUp,t),t.node.on(cc.Node.EventType.TOUCH_CANCEL,t._onTouchCancelled,t,!0),t.node.on("scroll-began",t._onScrollBegan,t,!0),t.node.on("scroll-ended",t._onScrollEnded,t,!0),t.node.on("scrolling",t._onScrolling,t,!0),t.node.on(cc.Node.EventType.SIZE_CHANGED,t._onSizeChanged,t)},e.prototype._unregisterEvent=function(){var t=this;t.node.off(cc.Node.EventType.TOUCH_START,t._onTouchStart,t,!0),t.node.off("touch-up",t._onTouchUp,t),t.node.off(cc.Node.EventType.TOUCH_CANCEL,t._onTouchCancelled,t,!0),t.node.off("scroll-began",t._onScrollBegan,t,!0),t.node.off("scroll-ended",t._onScrollEnded,t,!0),t.node.off("scrolling",t._onScrolling,t,!0),t.node.off(cc.Node.EventType.SIZE_CHANGED,t._onSizeChanged,t)},e.prototype._init=function(){var t=this;if(!t._inited)if(t._scrollView=t.node.getComponent(cc.ScrollView),t.content=t._scrollView.content,t.content){switch(t._layout=t.content.getComponent(cc.Layout),t._align=t._layout.type,t._resizeMode=t._layout.resizeMode,t._startAxis=t._layout.startAxis,t._topGap=t._layout.paddingTop,t._rightGap=t._layout.paddingRight,t._bottomGap=t._layout.paddingBottom,t._leftGap=t._layout.paddingLeft,t._columnGap=t._layout.spacingX,t._lineGap=t._layout.spacingY,t._colLineNum,t._verticalDir=t._layout.verticalDirection,t._horizontalDir=t._layout.horizontalDirection,t.setTemplateItem(cc.instantiate(t.templateType==c.PREFAB?t.tmpPrefab:t.tmpNode)),t._slideMode!=a.ADHERING&&t._slideMode!=a.PAGE||(t._scrollView.inertia=!1,t._scrollView._onMouseWheel=function(){}),t.virtual||(t.lackCenter=!1),t._lastDisplayData=[],t.displayData=[],t._pool=new cc.NodePool,t._forceUpdate=!1,t._updateCounter=0,t._updateDone=!0,t.curPageNum=0,t.cyclic&&(t._scrollView._processAutoScrolling=this._processAutoScrolling.bind(t),t._scrollView._startBounceBackIfNeeded=function(){return!1}),t._align){case cc.Layout.Type.HORIZONTAL:switch(t._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:t._alignCalcType=1;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:t._alignCalcType=2}break;case cc.Layout.Type.VERTICAL:switch(t._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:t._alignCalcType=3;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:t._alignCalcType=4}break;case cc.Layout.Type.GRID:switch(t._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:switch(t._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:t._alignCalcType=3;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:t._alignCalcType=4}break;case cc.Layout.AxisDirection.VERTICAL:switch(t._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:t._alignCalcType=1;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:t._alignCalcType=2}}}t.content.removeAllChildren(),t._inited=!0}else cc.error(t.node.name+"'s cc.ScrollView unset content!")},e.prototype._processAutoScrolling=function(t){this._scrollView._autoScrollAccumulatedTime+=1*t;var e=Math.min(1,this._scrollView._autoScrollAccumulatedTime/this._scrollView._autoScrollTotalTime);if(this._scrollView._autoScrollAttenuate){var o=e-1;e=o*o*o*o*o+1}var n=this._scrollView._autoScrollStartPosition.add(this._scrollView._autoScrollTargetDelta.mul(e)),i=this._scrollView.getScrollEndedEventTiming(),r=Math.abs(e-1)<=i;Math.abs(e-1)<=this._scrollView.getScrollEndedEventTiming()&&!this._scrollView._isScrollEndedWithThresholdEventFired&&(this._scrollView._dispatchEvent("scroll-ended-with-threshold"),this._scrollView._isScrollEndedWithThresholdEventFired=!0),r&&(this._scrollView._autoScrolling=!1);var c=n.sub(this._scrollView.getContentPosition());this._scrollView._moveContent(this._scrollView._clampDelta(c),r),this._scrollView._dispatchEvent("scrolling"),this._scrollView._autoScrolling||(this._scrollView._isBouncing=!1,this._scrollView._scrolling=!1,this._scrollView._dispatchEvent("scroll-ended"))},e.prototype.setTemplateItem=function(t){if(t){var e=this;e._itemTmp=t,e._resizeMode==cc.Layout.ResizeMode.CHILDREN?e._itemSize=e._layout.cellSize:e._itemSize=cc.size(t.width,t.height);var o=t.getComponent(cc.Widget);switch(o&&o.enabled&&(e._needUpdateWidget=!0),e.selectedMode==s.MULT&&(e.multSelected=[]),e._align){case cc.Layout.Type.HORIZONTAL:e._colLineNum=1,e._sizeType=!1;break;case cc.Layout.Type.VERTICAL:e._colLineNum=1,e._sizeType=!0;break;case cc.Layout.Type.GRID:switch(e._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:var n=e.content.width-e._leftGap-e._rightGap;e._colLineNum=Math.floor((n+e._columnGap)/(e._itemSize.width+e._columnGap)),e._sizeType=!0;break;case cc.Layout.AxisDirection.VERTICAL:var i=e.content.height-e._topGap-e._bottomGap;e._colLineNum=Math.floor((i+e._lineGap)/(e._itemSize.height+e._lineGap)),e._sizeType=!1}}}},e.prototype.checkInited=function(t){return void 0===t&&(t=!0),!!this._inited||(t&&cc.error("List initialization not completed!"),!1)},e.prototype._resizeContent=function(){var t,e=this;switch(e._align){case cc.Layout.Type.HORIZONTAL:if(e._customSize){var o=e._getFixedSize(null);t=e._leftGap+o.val+e._itemSize.width*(e._numItems-o.count)+e._columnGap*(e._numItems-1)+e._rightGap}else t=e._leftGap+e._itemSize.width*e._numItems+e._columnGap*(e._numItems-1)+e._rightGap;break;case cc.Layout.Type.VERTICAL:e._customSize?(o=e._getFixedSize(null),t=e._topGap+o.val+e._itemSize.height*(e._numItems-o.count)+e._lineGap*(e._numItems-1)+e._bottomGap):t=e._topGap+e._itemSize.height*e._numItems+e._lineGap*(e._numItems-1)+e._bottomGap;break;case cc.Layout.Type.GRID:switch(e.lackCenter&&(e.lackCenter=!1),e._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:var n=Math.ceil(e._numItems/e._colLineNum);t=e._topGap+e._itemSize.height*n+e._lineGap*(n-1)+e._bottomGap;break;case cc.Layout.AxisDirection.VERTICAL:var i=Math.ceil(e._numItems/e._colLineNum);t=e._leftGap+e._itemSize.width*i+e._columnGap*(i-1)+e._rightGap}}var r=e.content.getComponent(cc.Layout);if(r&&(r.enabled=!1),e._allItemSize=t,e._allItemSizeNoEdge=e._allItemSize-(e._sizeType?e._topGap+e._bottomGap:e._leftGap+e._rightGap),e.cyclic){var c=e._sizeType?e.node.height:e.node.width;e._cyclicPos1=0,c-=e._cyclicPos1,e._cyclicNum=Math.ceil(c/e._allItemSizeNoEdge)+1;var a=e._sizeType?e._lineGap:e._columnGap;e._cyclicPos2=e._cyclicPos1+e._allItemSizeNoEdge+a,e._cyclicAllItemSize=e._allItemSize+e._allItemSizeNoEdge*(e._cyclicNum-1)+a*(e._cyclicNum-1),e._cycilcAllItemSizeNoEdge=e._allItemSizeNoEdge*e._cyclicNum,e._cycilcAllItemSizeNoEdge+=a*(e._cyclicNum-1)}e._lack=!e.cyclic&&e._allItemSize<(e._sizeType?e.node.height:e.node.width);var s=e._lack&&e.lackCenter||!e.lackSlide?.1:0,l=e._lack?(e._sizeType?e.node.height:e.node.width)-s:e.cyclic?e._cyclicAllItemSize:e._allItemSize;l<0&&(l=0),e._sizeType?e.content.height=l:e.content.width=l},e.prototype._onScrolling=function(t){if(void 0===t&&(t=null),null==this.frameCount&&(this.frameCount=this._updateRate),!this._forceUpdate&&t&&"scroll-ended"!=t.type&&this.frameCount>0)this.frameCount--;else if(this.frameCount=this._updateRate,!this._aniDelRuning){if(this.cyclic){var e=this.content.getPosition();e=this._sizeType?e.y:e.x;var o=this._allItemSizeNoEdge+(this._sizeType?this._lineGap:this._columnGap),n=this._sizeType?cc.v2(0,o):cc.v2(o,0);switch(this._alignCalcType){case 1:e>-this._cyclicPos1?(this.content.x=-this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(n))):e<-this._cyclicPos2&&(this.content.x=-this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(n)));break;case 2:e<this._cyclicPos1?(this.content.x=this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(n))):e>this._cyclicPos2&&(this.content.x=this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(n)));break;case 3:e<this._cyclicPos1?(this.content.y=this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(n))):e>this._cyclicPos2&&(this.content.y=this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(n)));break;case 4:e>-this._cyclicPos1?(this.content.y=-this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(n))):e<-this._cyclicPos2&&(this.content.y=-this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(n)))}}var i,r,c,a;if(this._calcViewPos(),this._sizeType?(i=this.viewTop,c=this.viewBottom):(r=this.viewRight,a=this.viewLeft),this._virtual){this.displayData=[];var s=void 0,l=0,u=this._numItems-1;if(this._customSize)for(var p=!1;l<=u&&!p;l++)switch(s=this._calcItemPos(l),this._align){case cc.Layout.Type.HORIZONTAL:s.right>=a&&s.left<=r?this.displayData.push(s):0!=l&&this.displayData.length>0&&(p=!0);break;case cc.Layout.Type.VERTICAL:s.bottom<=i&&s.top>=c?this.displayData.push(s):0!=l&&this.displayData.length>0&&(p=!0);break;case cc.Layout.Type.GRID:switch(this._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:s.bottom<=i&&s.top>=c?this.displayData.push(s):0!=l&&this.displayData.length>0&&(p=!0);break;case cc.Layout.AxisDirection.VERTICAL:s.right>=a&&s.left<=r?this.displayData.push(s):0!=l&&this.displayData.length>0&&(p=!0)}}else{var h=this._itemSize.width+this._columnGap,f=this._itemSize.height+this._lineGap;switch(this._alignCalcType){case 1:l=(a+this._leftGap)/h,u=(r+this._rightGap)/h;break;case 2:l=(-r-this._rightGap)/h,u=(-a-this._leftGap)/h;break;case 3:l=(-i-this._topGap)/f,u=(-c-this._bottomGap)/f;break;case 4:l=(c+this._bottomGap)/f,u=(i+this._topGap)/f}for(l=Math.floor(l)*this._colLineNum,u=Math.ceil(u)*this._colLineNum,l<0&&(l=0),--u>=this._numItems&&(u=this._numItems-1);l<=u;l++)this.displayData.push(this._calcItemPos(l))}if(this._delRedundantItem(),this.displayData.length<=0||!this._numItems)return void(this._lastDisplayData=[]);this._firstListId=this.displayData[0].id,this.displayItemNum=this.displayData.length;var d=this._lastDisplayData.length,_=this.displayItemNum!=d;if(_&&(this.frameByFrameRenderNum>0&&this._lastDisplayData.sort(function(t,e){return t-e}),_=this._firstListId!=this._lastDisplayData[0]||this.displayData[this.displayItemNum-1].id!=this._lastDisplayData[d-1]),this._forceUpdate||_)if(this.frameByFrameRenderNum>0)this._numItems>0?(this._updateDone?this._updateCounter=0:this._doneAfterUpdate=!0,this._updateDone=!1):(this._updateCounter=0,this._updateDone=!0);else{this._lastDisplayData=[];for(var y=0;y<this.displayItemNum;y++)this._createOrUpdateItem(this.displayData[y]);this._forceUpdate=!1}this._calcNearestItem()}}},e.prototype._calcViewPos=function(){var t=this.content.getPosition();switch(this._alignCalcType){case 1:this.elasticLeft=t.x>0?t.x:0,this.viewLeft=(t.x<0?-t.x:0)-this.elasticLeft,this.viewRight=this.viewLeft+this.node.width,this.elasticRight=this.viewRight>this.content.width?Math.abs(this.viewRight-this.content.width):0,this.viewRight+=this.elasticRight;break;case 2:this.elasticRight=t.x<0?-t.x:0,this.viewRight=(t.x>0?-t.x:0)+this.elasticRight,this.viewLeft=this.viewRight-this.node.width,this.elasticLeft=this.viewLeft<-this.content.width?Math.abs(this.viewLeft+this.content.width):0,this.viewLeft-=this.elasticLeft;break;case 3:this.elasticTop=t.y<0?Math.abs(t.y):0,this.viewTop=(t.y>0?-t.y:0)+this.elasticTop,this.viewBottom=this.viewTop-this.node.height,this.elasticBottom=this.viewBottom<-this.content.height?Math.abs(this.viewBottom+this.content.height):0,this.viewBottom+=this.elasticBottom;break;case 4:this.elasticBottom=t.y>0?Math.abs(t.y):0,this.viewBottom=(t.y<0?-t.y:0)-this.elasticBottom,this.viewTop=this.viewBottom+this.node.height,this.elasticTop=this.viewTop>this.content.height?Math.abs(this.viewTop-this.content.height):0,this.viewTop-=this.elasticTop}},e.prototype._calcItemPos=function(t){var e,o,n,i,r,c,a,s;switch(this._align){case cc.Layout.Type.HORIZONTAL:switch(this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:if(this._customSize){var l=this._getFixedSize(t);r=this._leftGap+(this._itemSize.width+this._columnGap)*(t-l.count)+(l.val+this._columnGap*l.count),e=(u=this._customSize[t])>0?u:this._itemSize.width}else r=this._leftGap+(this._itemSize.width+this._columnGap)*t,e=this._itemSize.width;return c=r+e,this.lackCenter&&(r+=p=this.content.width/2-this._allItemSizeNoEdge/2,c+=p),{id:t,left:r,right:c,x:r+this._itemTmp.anchorX*e,y:this._itemTmp.y};case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:return this._customSize?(l=this._getFixedSize(t),c=-this._rightGap-(this._itemSize.width+this._columnGap)*(t-l.count)-(l.val+this._columnGap*l.count),e=(u=this._customSize[t])>0?u:this._itemSize.width):(c=-this._rightGap-(this._itemSize.width+this._columnGap)*t,e=this._itemSize.width),r=c-e,this.lackCenter&&(r-=p=this.content.width/2-this._allItemSizeNoEdge/2,c-=p),{id:t,right:c,left:r,x:r+this._itemTmp.anchorX*e,y:this._itemTmp.y}}break;case cc.Layout.Type.VERTICAL:switch(this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:return this._customSize?(l=this._getFixedSize(t),n=-this._topGap-(this._itemSize.height+this._lineGap)*(t-l.count)-(l.val+this._lineGap*l.count),o=(u=this._customSize[t])>0?u:this._itemSize.height):(n=-this._topGap-(this._itemSize.height+this._lineGap)*t,o=this._itemSize.height),i=n-o,this.lackCenter&&(n-=p=this.content.height/2-this._allItemSizeNoEdge/2,i-=p),{id:t,top:n,bottom:i,x:this._itemTmp.x,y:i+this._itemTmp.anchorY*o};case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:var u,p;if(this._customSize)l=this._getFixedSize(t),i=this._bottomGap+(this._itemSize.height+this._lineGap)*(t-l.count)+(l.val+this._lineGap*l.count),o=(u=this._customSize[t])>0?u:this._itemSize.height;else i=this._bottomGap+(this._itemSize.height+this._lineGap)*t,o=this._itemSize.height;return n=i+o,this.lackCenter&&(n+=p=this.content.height/2-this._allItemSizeNoEdge/2,i+=p),{id:t,top:n,bottom:i,x:this._itemTmp.x,y:i+this._itemTmp.anchorY*o}}case cc.Layout.Type.GRID:var h=Math.floor(t/this._colLineNum);switch(this._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:switch(this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:s=(i=(n=-this._topGap-(this._itemSize.height+this._lineGap)*h)-this._itemSize.height)+this._itemTmp.anchorY*this._itemSize.height;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:n=(i=this._bottomGap+(this._itemSize.height+this._lineGap)*h)+this._itemSize.height,s=i+this._itemTmp.anchorY*this._itemSize.height}switch(a=this._leftGap+t%this._colLineNum*(this._itemSize.width+this._columnGap),this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:a+=this._itemTmp.anchorX*this._itemSize.width,a-=this.content.anchorX*this.content.width;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:a+=(1-this._itemTmp.anchorX)*this._itemSize.width,a-=(1-this.content.anchorX)*this.content.width,a*=-1}return{id:t,top:n,bottom:i,x:a,y:s};case cc.Layout.AxisDirection.VERTICAL:switch(this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:c=(r=this._leftGap+(this._itemSize.width+this._columnGap)*h)+this._itemSize.width,a=r+this._itemTmp.anchorX*this._itemSize.width,a-=this.content.anchorX*this.content.width;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:a=(r=(c=-this._rightGap-(this._itemSize.width+this._columnGap)*h)-this._itemSize.width)+this._itemTmp.anchorX*this._itemSize.width,a+=(1-this.content.anchorX)*this.content.width}switch(s=-this._topGap-t%this._colLineNum*(this._itemSize.height+this._lineGap),this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:s-=(1-this._itemTmp.anchorY)*this._itemSize.height,s+=(1-this.content.anchorY)*this.content.height;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:s-=this._itemTmp.anchorY*this._itemSize.height,s+=this.content.anchorY*this.content.height,s*=-1}return{id:t,left:r,right:c,x:a,y:s}}}},e.prototype._calcExistItemPos=function(t){var e=this.getItemByListId(t);if(!e)return null;var o={id:t,x:e.x,y:e.y};return this._sizeType?(o.top=e.y+e.height*(1-e.anchorY),o.bottom=e.y-e.height*e.anchorY):(o.left=e.x-e.width*e.anchorX,o.right=e.x+e.width*(1-e.anchorX)),o},e.prototype.getItemPos=function(t){return this._virtual?this._calcItemPos(t):this.frameByFrameRenderNum?this._calcItemPos(t):this._calcExistItemPos(t)},e.prototype._getFixedSize=function(t){if(!this._customSize)return null;null==t&&(t=this._numItems);var e=0,o=0;for(var n in this._customSize)parseInt(n)<t&&(e+=this._customSize[n],o++);return{val:e,count:o}},e.prototype._onScrollBegan=function(){this._beganPos=this._sizeType?this.viewTop:this.viewLeft},e.prototype._onScrollEnded=function(){var t=this;if(null!=t.scrollToListId){var e=t.getItemByListId(t.scrollToListId);t.scrollToListId=null,e&&e.runAction(cc.sequence(cc.scaleTo(.1,1.06),cc.scaleTo(.1,1)))}t._onScrolling(),t._slideMode!=a.ADHERING||t.adhering?t._slideMode==a.PAGE&&(null!=t._beganPos?this._pageAdhere():t.adhere()):t.adhere()},e.prototype._onTouchStart=function(t,e){if(!this._scrollView.hasNestedViewGroup(t,e)&&(t.eventPhase!==cc.Event.AT_TARGET||t.target!==this.node)){for(var o=t.target;null==o._listId&&o.parent;)o=o.parent;this._scrollItem=null!=o._listId?o:t.target}},e.prototype._onTouchUp=function(){var t=this;t._scrollPos=null,t._slideMode==a.ADHERING?(this.adhering&&(this._adheringBarrier=!0),t.adhere()):t._slideMode==a.PAGE&&(null!=t._beganPos?this._pageAdhere():t.adhere()),this._scrollItem=null},e.prototype._onTouchCancelled=function(t,e){var o=this;o._scrollView.hasNestedViewGroup(t,e)||t.simulate||(o._scrollPos=null,o._slideMode==a.ADHERING?(o.adhering&&(o._adheringBarrier=!0),o.adhere()):o._slideMode==a.PAGE&&(null!=o._beganPos?o._pageAdhere():o.adhere()),this._scrollItem=null)},e.prototype._onSizeChanged=function(){this.checkInited(!1)&&this._onScrolling()},e.prototype._onItemAdaptive=function(t){if(!this._sizeType&&t.width!=this._itemSize.width||this._sizeType&&t.height!=this._itemSize.height){this._customSize||(this._customSize={});var e=this._sizeType?t.height:t.width;this._customSize[t._listId]!=e&&(this._customSize[t._listId]=e,this._resizeContent(),this.updateAll(),null!=this._scrollToListId&&(this._scrollPos=null,this.unschedule(this._scrollToSo),this.scrollTo(this._scrollToListId,Math.max(0,this._scrollToEndTime-(new Date).getTime()/1e3))))}},e.prototype._pageAdhere=function(){var t=this;if(t.cyclic||!(t.elasticTop>0||t.elasticRight>0||t.elasticBottom>0||t.elasticLeft>0)){var e=t._sizeType?t.viewTop:t.viewLeft,o=(t._sizeType?t.node.height:t.node.width)*t.pageDistance;if(Math.abs(t._beganPos-e)>o)switch(t._alignCalcType){case 1:case 4:t._beganPos>e?t.prePage(.5):t.nextPage(.5);break;case 2:case 3:t._beganPos<e?t.prePage(.5):t.nextPage(.5)}else t.elasticTop<=0&&t.elasticRight<=0&&t.elasticBottom<=0&&t.elasticLeft<=0&&t.adhere();t._beganPos=null}},e.prototype.adhere=function(){var t=this;if(t.checkInited()&&!(t.elasticTop>0||t.elasticRight>0||t.elasticBottom>0||t.elasticLeft>0)){t.adhering=!0,t._calcNearestItem();var e=(t._sizeType?t._topGap:t._leftGap)/(t._sizeType?t.node.height:t.node.width);t.scrollTo(t.nearestListId,.7,e)}},e.prototype.update=function(){if(!(this.frameByFrameRenderNum<=0||this._updateDone))if(this._virtual){for(var t=this._updateCounter+this.frameByFrameRenderNum>this.displayItemNum?this.displayItemNum:this._updateCounter+this.frameByFrameRenderNum,e=this._updateCounter;e<t;e++){var o=this.displayData[e];o&&this._createOrUpdateItem(o)}this._updateCounter>=this.displayItemNum-1?this._doneAfterUpdate?(this._updateCounter=0,this._updateDone=!1,this._doneAfterUpdate=!1):(this._updateDone=!0,this._delRedundantItem(),this._forceUpdate=!1,this._calcNearestItem(),this.slideMode==a.PAGE&&(this.curPageNum=this.nearestListId)):this._updateCounter+=this.frameByFrameRenderNum}else if(this._updateCounter<this._numItems){for(t=this._updateCounter+this.frameByFrameRenderNum>this._numItems?this._numItems:this._updateCounter+this.frameByFrameRenderNum,e=this._updateCounter;e<t;e++)this._createOrUpdateItem2(e);this._updateCounter+=this.frameByFrameRenderNum}else this._updateDone=!0,this._calcNearestItem(),this.slideMode==a.PAGE&&(this.curPageNum=this.nearestListId)},e.prototype._createOrUpdateItem=function(t){var e=this.getItemByListId(t.id);if(e)this._forceUpdate&&this.renderEvent&&(e.setPosition(cc.v2(t.x,t.y)),this._resetItemSize(e),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],e,t.id%this._actualNumItems));else{var o=this._pool.size()>0;if((e=o?this._pool.get():cc.instantiate(this._itemTmp))._listId!=t.id&&(e._listId=t.id,e.setContentSize(this._itemSize)),e.setPosition(cc.v2(t.x,t.y)),this._resetItemSize(e),this.content.addChild(e),o&&this._needUpdateWidget){var n=e.getComponent(cc.Widget);n&&n.updateAlignment()}e.setSiblingIndex(this.content.childrenCount-1);var i=e.getComponent(y.default);e.listItem=i,i&&(i.listId=t.id,i.list=this,i._registerEvent()),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],e,t.id%this._actualNumItems)}this._resetItemSize(e),this._updateListItem(e.listItem),this._lastDisplayData.indexOf(t.id)<0&&this._lastDisplayData.push(t.id)},e.prototype._createOrUpdateItem2=function(t){var e,o=this.content.children[t];o?this._forceUpdate&&this.renderEvent&&(o._listId=t,e&&(e.listId=t),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],o,t)):((o=cc.instantiate(this._itemTmp))._listId=t,this.content.addChild(o),e=o.getComponent(y.default),o.listItem=e,e&&(e.listId=t,e.list=this,e._registerEvent()),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],o,t)),this._updateListItem(e),this._lastDisplayData.indexOf(t)<0&&this._lastDisplayData.push(t)},e.prototype._updateListItem=function(t){if(t&&this.selectedMode>s.NONE){var e=t.node;switch(this.selectedMode){case s.SINGLE:t.selected=this.selectedId==e._listId;break;case s.MULT:t.selected=this.multSelected.indexOf(e._listId)>=0}}},e.prototype._resetItemSize=function(){},e.prototype._updateItemPos=function(t){var e=isNaN(t)?t:this.getItemByListId(t),o=this.getItemPos(e._listId);e.setPosition(o.x,o.y)},e.prototype.setMultSelected=function(t,e){var o=this;if(o.checkInited()){if(Array.isArray(t)||(t=[t]),null==e)o.multSelected=t;else{var n=void 0,i=void 0;if(e)for(var r=t.length-1;r>=0;r--)n=t[r],(i=o.multSelected.indexOf(n))<0&&o.multSelected.push(n);else for(r=t.length-1;r>=0;r--)n=t[r],(i=o.multSelected.indexOf(n))>=0&&o.multSelected.splice(i,1)}o._forceUpdate=!0,o._onScrolling()}},e.prototype.updateItem=function(t){if(this.checkInited()){Array.isArray(t)||(t=[t]);for(var e=0,o=t.length;e<o;e++){var n=t[e],i=this.getItemByListId(n);i&&cc.Component.EventHandler.emitEvents([this.renderEvent],i,n%this._actualNumItems)}}},e.prototype.updateAll=function(){this.checkInited()&&(this.numItems=this.numItems)},e.prototype.getItemByListId=function(t){for(var e=this.content.childrenCount-1;e>=0;e--){var o=this.content.children[e];if(o._listId==t)return o}},e.prototype._getOutsideItem=function(){for(var t,e=[],o=this.content.childrenCount-1;o>=0;o--)t=this.content.children[o],this.displayData.find(function(e){return e.id==t._listId})||e.push(t);return e},e.prototype._delRedundantItem=function(){if(this._virtual)for(var t=this._getOutsideItem(),e=t.length-1;e>=0;e--){var o=t[e];if(!this._scrollItem||o._listId!=this._scrollItem._listId){this._pool.put(o);for(var n=this._lastDisplayData.length-1;n>=0;n--)if(this._lastDisplayData[n]==o._listId){this._lastDisplayData.splice(n,1);break}}}else for(;this.content.childrenCount>this._numItems;)this._delSingleItem(this.content.children[this.content.childrenCount-1])},e.prototype._delSingleItem=function(t){t.removeFromParent(),t.destroy&&t.destroy(),t=null},e.prototype.aniDelItem=function(t,e,o){var n=this;if(!n.checkInited()||n.cyclic||!n._virtual)return cc.error("This function is not allowed to be called!");if(n._aniDelRuning)return cc.warn("Please wait for the current deletion to finish!");var i,r=n.getItemByListId(t);if(r){i=r.getComponent(y.default),n._aniDelRuning=!0;var c=n.displayData[n.displayData.length-1].id,a=i.selected;i.showAni(o,function(){var o,i,l;if(c<n._numItems-2&&(o=c+1),null!=o){var u=n._calcItemPos(o);n.displayData.push(u),n._virtual?n._createOrUpdateItem(u):n._createOrUpdateItem2(o)}else n._numItems--;if(n.selectedMode==s.SINGLE)a?n._selectedId=-1:n._selectedId-1>=0&&n._selectedId--;else if(n.selectedMode==s.MULT&&n.multSelected.length){var p=n.multSelected.indexOf(t);p>=0&&n.multSelected.splice(p,1);for(var h=n.multSelected.length-1;h>=0;h--)(_=n.multSelected[h])>=t&&n.multSelected[h]--}if(n._customSize){n._customSize[t]&&delete n._customSize[t];var f={},d=void 0;for(var _ in n._customSize){d=n._customSize[_];var y=parseInt(_);f[y-(y>=t?1:0)]=d}n._customSize=f}for(h=null!=o?o:c;h>=t+1;h--)if(r=n.getItemByListId(h)){var v=n._calcItemPos(h-1);i=[cc.moveTo(.2333,cc.v2(v.x,v.y))],h<=t+1&&(l=!0,i.push(cc.callFunc(function(){n._aniDelRuning=!1,e(t)}))),i.length>1?r.runAction(cc.sequence(i)):r.runAction(i[0])}l||(n._aniDelRuning=!1,e(t))},!0)}else e(t)},e.prototype.scrollTo=function(t,e,o,n){void 0===e&&(e=.5),void 0===o&&(o=null),void 0===n&&(n=!1);var i=this;if(i.checkInited(!1)){null==e?e=.5:e<0&&(e=0),t<0?t=0:t>=i._numItems&&(t=i._numItems-1),!i._virtual&&i._layout&&i._layout.enabled&&i._layout.updateLayout();var r,c,a=i.getItemPos(t);switch(i._alignCalcType){case 1:r=a.left,r-=null!=o?i.node.width*o:i._leftGap,a=cc.v2(r,0);break;case 2:r=a.right-i.node.width,r+=null!=o?i.node.width*o:i._rightGap,a=cc.v2(r+i.content.width,0);break;case 3:c=a.top,c+=null!=o?i.node.height*o:i._topGap,a=cc.v2(0,-c);break;case 4:c=a.bottom+i.node.height,c-=null!=o?i.node.height*o:i._bottomGap,a=cc.v2(0,-c+i.content.height)}var s=i.content.getPosition();s=Math.abs(i._sizeType?s.y:s.x);var l=i._sizeType?a.y:a.x;Math.abs((null!=i._scrollPos?i._scrollPos:s)-l)>.5&&(i._scrollView.scrollToOffset(a,e),i._scrollToListId=t,i._scrollToEndTime=(new Date).getTime()/1e3+e,i._scrollToSo=i.scheduleOnce(function(){if(i._adheringBarrier||(i.adhering=i._adheringBarrier=!1),i._scrollPos=i._scrollToListId=i._scrollToEndTime=i._scrollToSo=null,n){var e=i.getItemByListId(t);e&&e.runAction(cc.sequence(cc.scaleTo(.1,1.05),cc.scaleTo(.1,1)))}},e+.1),e<=0&&i._onScrolling())}},e.prototype._calcNearestItem=function(){var t,e,o,n,i,r,c=this;c.nearestListId=null,c._virtual&&c._calcViewPos(),o=c.viewTop,n=c.viewRight,i=c.viewBottom,r=c.viewLeft;for(var a=!1,s=0;s<c.content.childrenCount&&!a;s+=c._colLineNum)if(t=c._virtual?c.displayData[s]:c._calcExistItemPos(s))switch(e=c._sizeType?(t.top+t.bottom)/2:e=(t.left+t.right)/2,c._alignCalcType){case 1:t.right>=r&&(c.nearestListId=t.id,r>e&&(c.nearestListId+=c._colLineNum),a=!0);break;case 2:t.left<=n&&(c.nearestListId=t.id,n<e&&(c.nearestListId+=c._colLineNum),a=!0);break;case 3:t.bottom<=o&&(c.nearestListId=t.id,o<e&&(c.nearestListId+=c._colLineNum),a=!0);break;case 4:t.top>=i&&(c.nearestListId=t.id,i>e&&(c.nearestListId+=c._colLineNum),a=!0)}if((t=c._virtual?c.displayData[c.displayItemNum-1]:c._calcExistItemPos(c._numItems-1))&&t.id==c._numItems-1)switch(e=c._sizeType?(t.top+t.bottom)/2:e=(t.left+t.right)/2,c._alignCalcType){case 1:n>e&&(c.nearestListId=t.id);break;case 2:r<e&&(c.nearestListId=t.id);break;case 3:i<e&&(c.nearestListId=t.id);break;case 4:o>e&&(c.nearestListId=t.id)}},e.prototype.prePage=function(t){void 0===t&&(t=.5),this.checkInited()&&this.skipPage(this.curPageNum-1,t)},e.prototype.nextPage=function(t){void 0===t&&(t=.5),this.checkInited()&&this.skipPage(this.curPageNum+1,t)},e.prototype.skipPage=function(t,e){var o=this;if(o.checkInited())return o._slideMode!=a.PAGE?cc.error("This function is not allowed to be called, Must SlideMode = PAGE!"):void(t<0||t>=o._numItems||o.curPageNum!=t&&(o.curPageNum=t,o.pageChangeEvent&&cc.Component.EventHandler.emitEvents([o.pageChangeEvent],t),o.scrollTo(t,e),cc.log("\u9875\u9762\uff1a"+t)))},e.prototype.calcCustomSize=function(t){var e=this;if(e.checkInited()){if(!e._itemTmp)return cc.error("Unset template item!");if(!e.renderEvent)return cc.error("Unset Render-Event!");e._customSize={};var o=cc.instantiate(e._itemTmp);e.content.addChild(o);for(var n=0;n<t;n++)cc.Component.EventHandler.emitEvents([e.renderEvent],o,n),o.height==e._itemSize.height&&o.width==e._itemSize.width||(e._customSize[n]=e._sizeType?o.height:o.width);return Object.keys(e._customSize).length||(e._customSize=null),o.removeFromParent(),o.destroy&&o.destroy(),e._customSize}},r([p({type:cc.Enum(c),tooltip:!1})],e.prototype,"templateType",void 0),r([p({type:cc.Node,tooltip:!1,visible:function(){return this.templateType==c.NODE}})],e.prototype,"tmpNode",void 0),r([p({type:cc.Prefab,tooltip:!1,visible:function(){return this.templateType==c.PREFAB}})],e.prototype,"tmpPrefab",void 0),r([p()],e.prototype,"_slideMode",void 0),r([p({type:cc.Enum(a),tooltip:!1})],e.prototype,"slideMode",null),r([p({type:cc.Float,range:[0,1,.1],tooltip:!1,slide:!0,visible:function(){return this._slideMode==a.PAGE}})],e.prototype,"pageDistance",void 0),r([p({type:cc.Component.EventHandler,tooltip:!1,visible:function(){return this._slideMode==a.PAGE}})],e.prototype,"pageChangeEvent",void 0),r([p()],e.prototype,"_virtual",void 0),r([p({type:cc.Boolean,tooltip:!1})],e.prototype,"virtual",null),r([p({tooltip:!1,visible:function(){var t=this.virtual&&this.slideMode==a.NORMAL;return t||(this.cyclic=!1),t}})],e.prototype,"cyclic",void 0),r([p({tooltip:!1,visible:function(){return this.virtual}})],e.prototype,"lackCenter",void 0),r([p({tooltip:!1,visible:function(){var t=this.virtual&&!this.lackCenter;return t||(this.lackSlide=!1),t}})],e.prototype,"lackSlide",void 0),r([p({type:cc.Integer})],e.prototype,"_updateRate",void 0),r([p({type:cc.Integer,range:[0,6,1],tooltip:!1,slide:!0})],e.prototype,"updateRate",null),r([p({type:cc.Integer,range:[0,12,1],tooltip:!1,slide:!0})],e.prototype,"frameByFrameRenderNum",void 0),r([p({type:cc.Component.EventHandler,tooltip:!1})],e.prototype,"renderEvent",void 0),r([p({type:cc.Enum(s),tooltip:!1})],e.prototype,"selectedMode",void 0),r([p({tooltip:!1,visible:function(){return this.selectedMode==s.SINGLE}})],e.prototype,"repeatEventSingle",void 0),r([p({type:cc.Component.EventHandler,tooltip:!1,visible:function(){return this.selectedMode>s.NONE}})],e.prototype,"selectedEvent",void 0),r([p({serializable:!1})],e.prototype,"_numItems",void 0),r([u,h(),f("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/List"),_(cc.ScrollView),d(-5e3)],e)}(cc.Component);o.default=v,cc._RF.pop()},{"./ListItem":"ListItem"}],LoadState:[function(t,e,o){"use strict";cc._RF.push(e,"bae3eWVkL5CpJpa1PgnHVKP","LoadState");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.LoadState=void 0;var a=t("../../../AutoScripts/Ref"),s=t("../../../AutoScripts/UIConfig"),l=t("../../../Global/Macro"),u=t("../../LinkedStepList"),p=t("../../Slot/Slot"),h=t("./LevelState"),f=function(t){function e(e){return t.call(this,e,h.ELevelState.Load)||this}return i(e,t),e.prototype._DoEnter=function(){return r(this,void 0,void 0,function(){var t,e,o,n,i,r;return c(this,function(c){switch(c.label){case 0:return[4,l.Macro.ui.open(s.default.UILoading)];case 1:for(c.sent(),t=a.LevelRef.data[this.owner.lvInfo.levelId],e=[],o=0,n=t.slotIds.length;o<n;o++)i=t.slotIds[o],r=p.default.Create(i),e.push(r);return this.owner.slots=e,l.Macro.log.logModel(1,"\u5f00\u59cb\u52a0\u8f7d\u5173\u5361"+this.owner.lvInfo.levelId),[4,l.Macro.ui.open(s.default.UIFight,e)];case 2:return c.sent(),this.owner.linkedStepList=new u.LinkedStepList,this.isFinished=!0,this.nextState=h.ELevelState.Fight,l.Macro.ui.close(s.default.UILoading.prefabUrl),[2]}})})},e.prototype._DoExit=function(){},e.prototype._DoRunning=function(){},e}(h.LevelState);o.LoadState=f,cc._RF.pop()},{"../../../AutoScripts/Ref":"Ref","../../../AutoScripts/UIConfig":"UIConfig","../../../Global/Macro":"Macro","../../LinkedStepList":"LinkedStepList","../../Slot/Slot":"Slot","./LevelState":"LevelState"}],LocalDataMgr:[function(t,e,o){"use strict";cc._RF.push(e,"c7187FQbg9Mdoyoe+d0WKt/","LocalDataMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../Global/Macro"),i=t("../../Utils/ComTools"),r=t("../../Utils/Storage/StorageMgr"),c=t("../Config/GameConfig"),a=t("./LocalGame"),s=t("./LocalPlayer"),l=function(){function t(){this._localGame=null,this._localPlayer=null,this._readData()}return Object.defineProperty(t.prototype,"game",{get:function(){return this._localGame},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"player",{get:function(){return this._localPlayer},enumerable:!1,configurable:!0}),t.prototype._readData=function(){this._localGame=new a.default;var t=r.default.get(c.GameConfig.GAME_SAVE);if(t)for(var e in t)this._localGame[e]=t[e];if(n.Macro.log.logModel(this._localGame,c.GameConfig.GAME_SAVE),this._localPlayer=new s.default,t=r.default.get(c.GameConfig.PLAYER_SAVE))for(var e in t)this._localPlayer[e]=t[e];n.Macro.log.logModel(this._localPlayer,c.GameConfig.PLAYER_SAVE),this._initData()},t.prototype._initData=function(){if(this._localGame.isNewDay=!1,0==this._localGame.lastOpenTick)this._localGame.isNewDay=!0;else{var t=i.ComTools.getCurrentDayCount(this._localGame.lastOpenTick);i.ComTools.getCurrentDayCount(Date.now())!=t&&(this._localGame.isNewDay=!0)}this._localGame.lastOpenTick=Date.now(),this._localGame.isNewDay&&(this._localGame.isSigned=!1,this._localGame.loginDays++),this.saveGameData()},t.prototype.saveGameData=function(){r.default.set(c.GameConfig.GAME_SAVE,this._localGame)},t.prototype.savePlayerData=function(){r.default.set(c.GameConfig.PLAYER_SAVE,this._localPlayer)},t.prototype.saveBagData=function(){},t}();o.default=l,cc._RF.pop()},{"../../Global/Macro":"Macro","../../Utils/ComTools":"ComTools","../../Utils/Storage/StorageMgr":"StorageMgr","../Config/GameConfig":"GameConfig","./LocalGame":"LocalGame","./LocalPlayer":"LocalPlayer"}],LocalGame:[function(t,e,o){"use strict";cc._RF.push(e,"4c6f9THX2dPzJhkcNyxMZdR","LocalGame"),Object.defineProperty(o,"__esModule",{value:!0});o.default=function(){this.lastOpenTick=0,this.isNewDay=!0,this.isSigned=!1,this.signDays=0,this.loginDays=0,this.isMusicOn=!0,this.isEffectOn=!0,this.volumeMusic=1,this.volumeEffect=1,this.isShakeOn=!0,this.channelId="",this.uid="",this.nickName="",this.avatarUrl="",this.needUserInfo=!1,this.hasShotcut=!1,this.operateType=0},cc._RF.pop()},{}],LocalPlayer:[function(t,e,o){"use strict";cc._RF.push(e,"780a7Stg8lAhaabMg8edn0Z","LocalPlayer"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../Config/GameConfig");o.default=function(){this.coin=0,this.exp=0,this.level=1,this.curLvId=1,this.unlockLvIds=1,this.score=0,this.skinId=n.GameConfig.DEFAULT_SKIN,this.unlockTalentIds=[]},cc._RF.pop()},{"../Config/GameConfig":"GameConfig"}],Logger:[function(t,e,o){"use strict";var n;cc._RF.push(e,"508a6nXyqRG5am+HSOm/eNy","Logger"),Object.defineProperty(o,"__esModule",{value:!0}),o.Logger=o.LogType=void 0,function(t){t[t.Net=1]="Net",t[t.Model=2]="Model",t[t.Business=4]="Business",t[t.View=8]="View",t[t.Config=16]="Config",t[t.Trace=32]="Trace",t[t.Error=64]="Error"}(n=o.LogType||(o.LogType={}));var i={1:"\u7f51\u7edc\u65e5\u5fd7",2:"\u6570\u636e\u65e5\u5fd7",4:"\u4e1a\u52a1\u65e5\u5fd7",8:"\u89c6\u56fe\u65e5\u5fd7",16:"\u914d\u7f6e\u65e5\u5fd7",32:"\u6807\u51c6\u65e5\u5fd7",64:"\u9519\u8bef\u65e5\u5fd7"},r=function(){function t(){}return t.init=function(){this.tags=n.Net|n.Model|n.Business|n.View|n.Config|n.Trace|n.Error},t.setTags=function(t){void 0===t&&(t=null),t&&(this.tags=t)},t.start=function(t){void 0===t&&(t="Time"),console.time(t)},t.end=function(t){void 0===t&&(t="Time"),console.timeEnd(t)},t.table=function(t){this.isOpen(n.Trace)&&console.table(t)},t.trace=function(t){this.isOpen(n.Trace)&&console.log(t)},t.logNet=function(t,e){this.orange(n.Net,t,e)},t.logModel=function(t,e){this.violet(n.Model,t,e)},t.logBusiness=function(t,e){this.blue(n.Business,t,e)},t.logView=function(t,e){this.green(n.View,t,e)},t.logConfig=function(t,e){this.gray(n.Config,t,e)},t.logError=function(t,e){this.red(n.Error,t,e)},t.orange=function(t,e,o){this.print(t,e,"color:#ee7700;",o)},t.violet=function(t,e,o){this.print(t,e,"color:Violet;",o)},t.blue=function(t,e,o){this.print(t,e,"color:#3a5fcd;",o)},t.green=function(t,e,o){this.print(t,e,"color:green;",o)},t.gray=function(t,e,o){this.print(t,e,"color:gray;",o)},t.red=function(t,e,o){this.print(t,e,"color:red;",o)},t.isOpen=function(t){return 0!=(this.tags&t)},t.print=function(t,e,o,n){if(this.isOpen(t)){var r=console.log,c=i[t];n?r.call(null,"%c%s%s%s:%s%o",o,this.getDateString(),"["+c+"]",this.stack(5),n,e):r.call(null,"%c%s%s%s:%o",o,this.getDateString(),"["+c+"]",this.stack(5),e)}},t.stack=function(t){var e=(new Error).stack.split("\n"),o=[];e.forEach(function(t){var e,n=(t=t.substring(7)).split(" ");n.length<2?o.push(n[0]):o.push(((e={})[n[0]]=n[1],e))});var n,i=[],r=[];if(t<o.length-1)for(var c in o[t])if(2==(r=c.split(".")).length)i=r.concat();else{var a=(n=o[t][c]).lastIndexOf("/"),s=n.lastIndexOf(".");if(a>-1&&s>-1){var l=n.substring(a+1,s);i.push(l)}else i.push(n)}return 1==i.length?"["+i[0]+".ts]":2==i.length?"["+i[0]+".ts->"+i[1]+"]":""},t.getDateString=function(){var t=new Date,e=t.getHours().toString(),o="";return o+=(1==e.length?"0"+e:e)+":",o+=(1==(e=t.getMinutes().toString()).length?"0"+e:e)+":",o+=(1==(e=t.getSeconds().toString()).length?"0"+e:e)+":",1==(e=t.getMilliseconds().toString()).length&&(e="00"+e),2==e.length&&(e="0"+e),"["+(o+=e)+"]"},t.tags=0,t}();o.Logger=r,r.init(),cc._RF.pop()},{}],LoseState:[function(t,e,o){"use strict";cc._RF.push(e,"aed5bG39LdACIrCn+PEoe1n","LoseState");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.LoseState=void 0;var r=t("./LevelState"),c=function(t){function e(e){return t.call(this,e,r.ELevelState.Lose)||this}return i(e,t),e.prototype._DoEnter=function(){},e.prototype._DoExit=function(){},e.prototype._DoRunning=function(){},e}(r.LevelState);o.LoseState=c,cc._RF.pop()},{"./LevelState":"LevelState"}],Macro:[function(t,e,o){"use strict";cc._RF.push(e,"a95029/chBCfLsSRnryHYNp","Macro"),Object.defineProperty(o,"__esModule",{value:!0}),o.Macro=void 0;var n=t("../Frame/Event/EventMgr"),i=t("../Frame/Network/HttpRequest"),r=t("../Frame/ResMgr"),c=t("../Utils/Logger"),a=function(){function t(){}return t.log=c.Logger,t.event=n.EventMgr,t.res=new r.default,t.http=new i.HttpRequest,t}();o.Macro=a,cc._RF.pop()},{"../Frame/Event/EventMgr":"EventMgr","../Frame/Network/HttpRequest":"HttpRequest","../Frame/ResMgr":"ResMgr","../Utils/Logger":"Logger"}],MainTest:[function(t,e,o){"use strict";cc._RF.push(e,"ad0a2INtFRAyLs4fFtrD4Qd","MainTest");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../AutoScripts/UIConfig"),a=t("../Global/Macro"),s=cc._decorator,l=s.ccclass,u=s.property,p=s.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labMusic=null,e.labEffect=null,e}return i(e,t),e.prototype.start=function(){this._updataLab(),a.Macro.audio.switchMusic&&a.Macro.audio.playMusic("Sound/bg")},e.prototype.showUIPrize=function(){a.Macro.audio.playEffect("Sound/btn");var t=window.HdAd.getReward();a.Macro.ui.open(c.default.UIPrizes,t)},e.prototype.showUIRewardModel=function(){a.Macro.audio.playEffect("Sound/btn");var t=window.HdAd.getReward();a.Macro.ui.open(c.default.UIRewardModel,t)},e.prototype.showUIRimless=function(){a.Macro.audio.playEffect("Sound/btn");var t=window.HdAd.getReward();t.bingo&&0==t.c.adScene&&a.Macro.ui.open(c.default.UIRimless,t)},e.prototype.showUINoPrizes=function(){a.Macro.audio.playEffect("Sound/btn"),a.Macro.ui.open(c.default.UINoPrizes)},e.prototype.showUIAward=function(){a.Macro.audio.playEffect("Sound/btn"),a.Macro.ui.open(c.default.UIAward)},e.prototype.showUIFullAward=function(){a.Macro.audio.playEffect("Sound/btn"),a.Macro.ui.open(c.default.UIFullAward)},e.prototype.switch=function(){a.Macro.audio.playEffect("Sound/btn"),a.Macro.ui.checkFormShowing(c.default.UIOptions.prefabUrl)?a.Macro.ui.close(c.default.UIOptions.prefabUrl):a.Macro.ui.open(c.default.UIOptions)},e.prototype.musicSwitch=function(){a.Macro.audio.playEffect("Sound/btn"),a.Macro.audio.switchMusic=!a.Macro.audio.switchMusic,a.Macro.audio.switchMusic&&a.Macro.audio.playMusic("Sound/bg"),this._updataLab()},e.prototype.effectSwitch=function(){a.Macro.audio.switchEffect=!a.Macro.audio.switchEffect,a.Macro.audio.playEffect("Sound/btn"),this._updataLab()},e.prototype._updataLab=function(){this.labMusic.string=a.Macro.audio.switchMusic?"\u80cc\u666f\u97f3\u4e50:\u5f00":"\u80cc\u666f\u97f3\u4e50:\u5173",this.labEffect.string=a.Macro.audio.switchEffect?"\u97f3\u6548:\u5f00":"\u97f3\u6548:\u5173"},r([u(cc.Label)],e.prototype,"labMusic",void 0),r([u(cc.Label)],e.prototype,"labEffect",void 0),r([l,p("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/MainTest")],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../AutoScripts/UIConfig":"UIConfig","../Global/Macro":"Macro"}],MaskPlus:[function(t,e,o){"use strict";cc._RF.push(e,"183c3EZFrRBMb23kGBdPM6U","MaskPlus");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.MaskPlusType=void 0;var c,a=t("../Utils/CommonUtils");(function(t){t[t.RECT=0]="RECT",t[t.ELLIPSE=1]="ELLIPSE",t[t.IMAGE_STENCIL=2]="IMAGE_STENCIL",t[t.Polygon=3]="Polygon"})(c=o.MaskPlusType||(o.MaskPlusType={}));var s=new cc.Vec2,l=new cc.Mat4,u=[];function p(t,e,o){u.length=0;for(var n=2*Math.PI/o,i=0;i<o;++i)u.push(cc.v2(e.x*Math.cos(n*i)+t.x,e.y*Math.sin(n*i)+t.y));return u}var h=function(){},f=cc._decorator,d=f.ccclass,_=f.property,y=f.executeInEditMode,v=f.menu,g=f.help,m=f.inspector,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._type=0,e._polygon=[],e.ellipse=new h,e}return i(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(t){if(this._type!==t&&this._resetAssembler(),this._type=t,this._type===c.Polygon&&0===this._polygon.length){var e=this.getNodeRect(),o=e[0],n=e[1],i=e[2],r=e[3];this._polygon.push(cc.v2(o,n),cc.v2(o+i,n),cc.v2(o+i,n+r),cc.v2(o,n+r))}this._type!==c.IMAGE_STENCIL&&(this.spriteFrame=null,this.alphaThreshold=0,this._updateGraphics()),this._activateMaterial()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"polygon",{get:function(){return this._polygon},set:function(t){this._polygon=t,this._updateGraphics()},enumerable:!1,configurable:!0}),e.prototype.setEllipse=function(t,e,o){this.ellipse.center=t,this.ellipse.r=e,this.ellipse.segments=o||this.segements},e.prototype._updateGraphics=function(){this.node;var t=this._graphics;t.clear(!1);var e=this.getNodeRect(),o=e[0],n=e[1],i=e[2],r=e[3];if(this._type===c.RECT)t.rect(o,n,i,r);else if(this._type===c.ELLIPSE){for(var a=p(this.ellipse.center||cc.v2(o+i/2,n+r/2),this.ellipse.r||{x:i/2,y:r/2},this.ellipse.segments||this._segments),s=0;s<a.length;++s){var l=a[s];0===s?t.moveTo(l.x,l.y):t.lineTo(l.x,l.y)}t.close()}else if(this._type===c.Polygon){for(0===this._polygon.length&&this._polygon.push(cc.v2(0,0)),t.moveTo(this._polygon[0].x,this._polygon[0].y),s=1;s<this._polygon.length;s++)t.lineTo(this._polygon[s].x,this._polygon[s].y);t.lineTo(this._polygon[0].x,this._polygon[0].y)}cc.game.renderType===cc.game.RENDER_TYPE_CANVAS?t.stroke():t.fill()},e.prototype._hitTest=function(t){var e=this.node,o=e.getContentSize(),n=o.width,i=o.height,r=s;if(e._updateWorldMatrix(),!cc.Mat4.invert(l,e._worldMatrix))return!1;var u=cc.v2(0,0);cc.Vec2.transformMat4(u,t,l),r.x=u.x+e._anchorPoint.x*n,r.y=u.y+e._anchorPoint.y*i;var p=!1;if(this.type===c.RECT||this.type===c.IMAGE_STENCIL)p=r.x>=0&&r.y>=0&&r.x<=n&&r.y<=i;else if(this.type===c.ELLIPSE){var h=n/2,f=i/2,d=r.x-.5*n,_=r.y-.5*i;p=d*d/(h*h)+_*_/(f*f)<1}else this.type===c.Polygon&&(p=a.CommonUtils.isInPolygon(u,this.polygon));return this.inverted&&(p=!p),p},e.prototype.getNodeRect=function(){var t=this.node._contentSize.width,e=this.node._contentSize.height;return[-t*this.node._anchorPoint.x,-e*this.node._anchorPoint.y,t,e]},e.Type=c,r([_({type:cc.Enum(c),override:!0})],e.prototype,"_type",void 0),r([_({type:cc.Enum(c),override:!0})],e.prototype,"type",null),r([_({type:[cc.Vec2],serializable:!0})],e.prototype,"_polygon",void 0),r([_({type:[cc.Vec2],serializable:!0})],e.prototype,"polygon",null),r([d,v("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/MaskPlus"),y,g("i18n:COMPONENT.help_url.mask"),m("packages://maskplus/inspector.js")],e)}(cc.Mask);o.default=b,cc.MaskPlus=b,cc._RF.pop()},{"../Utils/CommonUtils":"CommonUtils"}],MatchUtils:[function(t,e,o){"use strict";cc._RF.push(e,"3e669mrCvZO7bw3XroABf8Y","MatchUtils"),Object.defineProperty(o,"__esModule",{value:!0}),o.MathUtils=void 0;var n=function(){function t(){}return t.clamp=function(t,e,o){if(t>e){var n=t;t=e,e=n}return o<t?t:o>e?e:o},t.getAngle=function(t){return 180*t/Math.PI},t.getRadian=function(t){return t/180*Math.PI},t.getRadian2=function(t,e,o,n){var i=o-t,r=n-e;return Math.atan2(r,i)},t.getDistance=function(t,e,o,n){var i=o-t,r=n-e,c=i*i+r*r;return Math.sqrt(c)},t.toFixedStr=function(t,e){return t.toFixed(e).replace(/\.?0*$/,"")},t.toPercentStr=function(t,e){return this.toFixedStr(100*t,e)+"%"},t.toFixedWan=function(e){var o=1e4*Math.floor(e/1e4);return e>1e5?t.toFixedStr(o/1e5*10,1)+"\u4e07":e.toString()},t.getFinalValueBasedOnParams=function(t,e,o){if(e.length<5)return 0;var n=e[4]*(e[0]*Math.pow(t,e[3])+e[1]*t+e[2]);return o&&(n=Math.ceil(n)),n},t.limit=function(t,e){t=Math.min(t,e);var o=(e=Math.max(t,e))-t;return t+Math.random()*o},t.limitInteger=function(e,o){return Math.round(t.limit(e,o))},t.randomArray=function(t){return t[Math.floor(Math.random()*t.length)]},t.angleTowards=function(t,e,o){var n=(e%=360)-(t%=360);n>180?e=t-(360-n):n<-180&&(e=t+(360+n));var i=e-t;return o>Math.abs(i)?e:((t+o*Math.sign(i))%360+360)%360},t}();o.MathUtils=n,cc._RF.pop()},{}],Msg:[function(t,e,o){"use strict";cc._RF.push(e,"be56feuhe9FpqlU2zVi2fsN","Msg");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,l=c.menu,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labTips=null,e.msg="",e.callBack=null,e._widget=null,e}return i(e,t),e.prototype.onLoad=function(){var t=this.getComponent(cc.Widget)||this.addComponent(cc.Widget);t.isAlignTop=!0,t.isAbsoluteTop=!1,t.top=.25,t.alignMode=cc.Widget.AlignMode.ALWAYS,this._widget=t},e.prototype.onEnable=function(){this._widget.top=.25,this.labTips.string=this.msg,cc.tween(this._widget).to(.5,{top:.1}).delay(1).call(this.callBack).start()},r([s(cc.Label)],e.prototype,"labTips",void 0),r([a,l("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/Msg")],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],ObstacleChain:[function(t,e,o){"use strict";cc._RF.push(e,"dd7c3SDoG9G3oA1A+aOep2i","ObstacleChain");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ObstacleChain=void 0;var r=t("./ObstacleState"),c=function(t){function e(e){return t.call(this,e,r.EObstacleState.Chain)||this}return i(e,t),e.prototype._DoEnter=function(){},e.prototype._DoExit=function(){},e.prototype._DoRunning=function(){},e}(r.ObstacleState);o.ObstacleChain=c,cc._RF.pop()},{"./ObstacleState":"ObstacleState"}],ObstacleFog:[function(t,e,o){"use strict";cc._RF.push(e,"97ea87dkwZKI6QTV3JsSuGk","ObstacleFog");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ObstacleFog=void 0;var r=t("../../../Global/Macro"),c=t("./ObstacleState"),a=function(t){function e(e){return t.call(this,e,c.EObstacleState.Fog)||this}return i(e,t),e.prototype._DoEnter=function(){r.Macro.log.logBusiness("\u8ff7\u96fe\u52a8\u753b")},e.prototype._DoExit=function(){},e.prototype._DoRunning=function(){},e}(c.ObstacleState);o.ObstacleFog=a,cc._RF.pop()},{"../../../Global/Macro":"Macro","./ObstacleState":"ObstacleState"}],ObstacleIceCake:[function(t,e,o){"use strict";cc._RF.push(e,"a740dGbit9N5YeTbcX3SW9a","ObstacleIceCake");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ObstacleIceCake=void 0;var r=t("../../../Global/Macro"),c=t("./ObstacleState"),a=function(t){function e(e){return t.call(this,e,c.EObstacleState.IceCake)||this}return i(e,t),e.prototype._DoEnter=function(){r.Macro.log.logBusiness("\u51b0\u5757\u52a8\u753b")},e.prototype._DoExit=function(){},e.prototype._DoRunning=function(){},e}(c.ObstacleState);o.ObstacleIceCake=a,cc._RF.pop()},{"../../../Global/Macro":"Macro","./ObstacleState":"ObstacleState"}],ObstacleNone:[function(t,e,o){"use strict";cc._RF.push(e,"8d348DVGBFBl6kL9EzoWc8h","ObstacleNone");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ObstacleNone=void 0;var r=t("./ObstacleState"),c=function(t){function e(e){return t.call(this,e,r.EObstacleState.None)||this}return i(e,t),e.prototype._DoEnter=function(){},e.prototype._DoExit=function(){},e.prototype._DoRunning=function(){},e}(r.ObstacleState);o.ObstacleNone=c,cc._RF.pop()},{"./ObstacleState":"ObstacleState"}],ObstacleState:[function(t,e,o){"use strict";cc._RF.push(e,"abb6bVdQqFIurm38KFfkWwc","ObstacleState");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ObstacleState=o.EObstacleState=void 0;var r=t("../../../Utils/Fsm/BaseState");(function(t){t[t.None=0]="None",t[t.IceCake=1001]="IceCake",t[t.Chain=1002]="Chain",t[t.Vine=1003]="Vine",t[t.Venom=1004]="Venom",t[t.Cloud=1005]="Cloud",t[t.Fog=1006]="Fog"})(o.EObstacleState||(o.EObstacleState={}));var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(r.default);o.ObstacleState=c,cc._RF.pop()},{"../../../Utils/Fsm/BaseState":"BaseState"}],ObstacleVine:[function(t,e,o){"use strict";cc._RF.push(e,"f22a5sH/YhERomM5VoQJ6Xv","ObstacleVine");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ObstacleVine=void 0;var r=t("./ObstacleState"),c=function(t){function e(e){return t.call(this,e,r.EObstacleState.Vine)||this}return i(e,t),e.prototype._DoEnter=function(){},e.prototype._DoExit=function(){},e.prototype._DoRunning=function(){},e}(r.ObstacleState);o.ObstacleVine=c,cc._RF.pop()},{"./ObstacleState":"ObstacleState"}],Obstacle:[function(t,e,o){"use strict";cc._RF.push(e,"09e5fVbQ9ZPZ4vVADEMrkbe","Obstacle");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../AutoScripts/Ref"),a=t("../../Global/Macro"),s=t("../../Utils/Fsm/StateMachine"),l=t("../../Utils/LayaPool"),u=t("./ObstacleState/ObstacleVine"),p=t("./ObstacleState/ObstacleChain"),h=t("./ObstacleState/ObstacleFog"),f=t("./ObstacleState/ObstacleIceCake"),d=t("./ObstacleState/ObstacleNone"),_=cc._decorator,y=_.ccclass,v=(_.property,_.executeInEditMode),g=_.requireComponent,m=_.menu,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._fsm=null,e._obstacleId=0,e}var o;return i(e,t),o=e,Object.defineProperty(e.prototype,"fsm",{get:function(){return this._fsm},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"obstacleId",{get:function(){return this._obstacleId},set:function(t){t!=this._obstacleId&&(this._obstacleId=t)},enumerable:!1,configurable:!0}),e.Create=function(t){var e=c.ObstacleRef.data[t];return l.default.getItemByCreateFun("__obstacle_"+t+"__",function(){var n=cc.instantiate(a.Macro.res.getDynamicRes(e.path,cc.Prefab)).getComponent(o);return n.obstacleId=t,n},this)},e.Recover=function(t){t.node.removeFromParent(!1),l.default.recover("__obstacle_"+t.obstacleId+"__",t)},e.prototype.onLoad=function(){this._initFsm()},e.prototype._initFsm=function(){this._fsm=new s.default,this._fsm.Add(new d.ObstacleNone(this)),this._fsm.Add(new h.ObstacleFog(this)),this._fsm.Add(new f.ObstacleIceCake(this)),this._fsm.Add(new p.ObstacleChain(this)),this._fsm.Add(new u.ObstacleVine(this)),this._fsm.ChangeState(this._obstacleId)},e.prototype.Clear=function(){},o=r([y,g(cc.Sprite),v,m("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/Obstacle")],e)}(cc.Component);o.default=b,cc._RF.pop()},{"../../AutoScripts/Ref":"Ref","../../Global/Macro":"Macro","../../Utils/Fsm/StateMachine":"StateMachine","../../Utils/LayaPool":"LayaPool","./ObstacleState/ObstacleChain":"ObstacleChain","./ObstacleState/ObstacleFog":"ObstacleFog","./ObstacleState/ObstacleIceCake":"ObstacleIceCake","./ObstacleState/ObstacleNone":"ObstacleNone","./ObstacleState/ObstacleVine":"ObstacleVine"}],P2Enum:[function(t,e,o){"use strict";cc._RF.push(e,"0ba76yjEPJOv6BNZxdmcf+Q","P2Enum"),Object.defineProperty(o,"__esModule",{value:!0}),o.EBodyType=o.ESyncType=o.EP2Shape=o.ECollisionGroup=o.EGroupType=void 0,function(t){t[t.Wall=1]="Wall",t[t.Water=2]="Water",t[t.Block=3]="Block",t[t.Tarrel=4]="Tarrel"}(o.EGroupType||(o.EGroupType={})),function(t){t[t.None=Math.pow(2,0)]="None",t[t.Wall=Math.pow(2,1)]="Wall",t[t.Water=Math.pow(2,2)]="Water",t[t.Block=Math.pow(2,3)]="Block",t[t.Tarrel=Math.pow(2,4)]="Tarrel"}(o.ECollisionGroup||(o.ECollisionGroup={})),function(t){t[t.Capsule=0]="Capsule",t[t.Circle=1]="Circle",t[t.Convex=2]="Convex",t[t.Heightfield=3]="Heightfield",t[t.Line=4]="Line",t[t.Particle=5]="Particle",t[t.Plane=6]="Plane",t[t.Box=7]="Box"}(o.EP2Shape||(o.EP2Shape={})),function(t){t[t.SyncFromNode=0]="SyncFromNode",t[t.SyncFromBody=1]="SyncFromBody"}(o.ESyncType||(o.ESyncType={})),function(t){t[t.STATIC=p2.Body.STATIC]="STATIC",t[t.DYNAMIC=p2.Body.DYNAMIC]="DYNAMIC",t[t.KINEMATIC=p2.Body.KINEMATIC]="KINEMATIC"}(o.EBodyType||(o.EBodyType={})),cc._RF.pop()},{}],P2Interface:[function(t,e,o){"use strict";cc._RF.push(e,"8060bFaWeFEQJItvhrQAeuK","P2Interface"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],P2Mgr:[function(t,e,o){"use strict";cc._RF.push(e,"a87619s86dMXIWD5cMn6oKC","P2Mgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){this._gravity=[0,-1e3];var t=new p2.World;this._world=t,this._step=1/60,this._world.gravity=[0,-1e3],this._world.on("beginContact",this._onBeginContact),this._world.on("endContact",this._onEndContact),this.OnStart()}return Object.defineProperty(t,"inst",{get:function(){return this._inst||(this._inst=new t),this._inst},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"world",{get:function(){return this._world},enumerable:!1,configurable:!0}),t.prototype.OnStart=function(){this._world.islandSplit=!1,this._world.applyDamping=!1,this._world.useFrictionGravityOnZeroGravity=!1,this._world.useWorldGravityAsFrictionGravity=!1,this._world.sleepMode=p2.World.NO_SLEEPING;var t=this._world.defaultContactMaterial;t.friction=0,t.restitution=.1;var e=new p2.Material,o=new p2.Material;this._ballMaterial=new p2.ContactMaterial(e,o,{restitution:.1,friction:0}),this._world.addContactMaterial(this._ballMaterial)},t.prototype.OnStop=function(){this._world.clear()},t.prototype.Update=function(){this._world.step(this._step)},t.prototype.AddBody=function(t){t&&this._world.addBody(t)},t.prototype.RemoveBody=function(t){t&&this._world.removeBody(t)},t.prototype.Raycast=function(t,e){return this._world.raycast(t,e)},t.prototype.overlapsInWorld=function(t){for(var e=t.position[0],o=t.position[1],n=this._world.bodies,i=n.length;--i>=0;){var r=n[i],c=r.position[0],a=r.position[1];if(t!=r&&Math.sqrt((c-e)*(c-e)+(a-o)*(a-o))<=1)return!0}return!1},t.prototype._onBeginContact=function(e){t.inst._onCollision(e.bodyA,e.bodyB)},t.prototype._onEndContact=function(){},t.prototype._onCollision=function(t,e){if(t.collisionResponse&&e.collisionResponse){var o=t.__owner__,n=e.__owner__;null==o||o.onTrigger(e.__group__),null==n||n.onTrigger(t.__group__)}},t}();o.default=n,cc._RF.pop()},{}],P2World:[function(t,e,o){"use strict";cc._RF.push(e,"0f82coSf4NCqpONBNt+OHfM","P2World");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.P2World=void 0;var c=cc._decorator,a=c.ccclass,s=(c.property,c.menu),l=c.executeInEditMode,u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._normalizeAngle=function(t){return(t%=2*Math.PI)<0&&(t+=2*Math.PI),t},r([a,s("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/World"),l],e)}(cc.Component);o.P2World=u,cc._RF.pop()},{}],Particle:[function(t,e,o){"use strict";cc._RF.push(e,"82e98qvGX5LRbEeJ4V7LiZo","Particle");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.Particle=void 0;var c=t("../P2Enum"),a=t("./Body"),s=t("./Shape"),l=cc._decorator,u=l.ccclass,p=(l.property,l.menu),h=l.executeInEditMode,f=l.requireComponent,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=c.EP2Shape.Particle,e.shape=null,e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.shape=new p2.Particle(this.options)},r([u,f(a.Body),p("P2\u7269\u7406/Shape/Particle"),h],e)}(s.Shape);o.Particle=d,cc._RF.pop()},{"../P2Enum":"P2Enum","./Body":"Body","./Shape":"Shape"}],PauseState:[function(t,e,o){"use strict";cc._RF.push(e,"8a398sSYwRJzploNqieRIKB","PauseState");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.PauseState=void 0;var r=t("./LevelState"),c=function(t){function e(e){return t.call(this,e,r.ELevelState.Pause)||this}return i(e,t),e.prototype._DoEnter=function(){},e.prototype._DoExit=function(){},e.prototype._DoRunning=function(){},e}(r.LevelState);o.PauseState=c,cc._RF.pop()},{"./LevelState":"LevelState"}],Plane:[function(t,e,o){"use strict";cc._RF.push(e,"db098wmG/dA97hyvrlcBdNZ","Plane");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.Plane=void 0;var c=t("../P2Enum"),a=t("./Body"),s=t("./Shape"),l=cc._decorator,u=l.ccclass,p=(l.property,l.menu),h=l.executeInEditMode,f=l.requireComponent,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=c.EP2Shape.Plane,e.shape=null,e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.shape=new p2.Plane(this.options)},r([u,f(a.Body),p("P2\u7269\u7406/Shape/Plane"),h],e)}(s.Shape);o.Plane=d,cc._RF.pop()},{"../P2Enum":"P2Enum","./Body":"Body","./Shape":"Shape"}],PlayerData:[function(t,e,o){"use strict";cc._RF.push(e,"201abWOMEBALqnjLU4iD0Dw","PlayerData"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../Frame/Event/EventType"),i=t("../../Global/Macro"),r=function(){function t(t){this._playerData=t,this._isSave=!1}return Object.defineProperty(t.prototype,"coin",{get:function(){return this._playerData.coin},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exp",{get:function(){return this._playerData.exp},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this._playerData.level},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"curLvId",{get:function(){return this._playerData.curLvId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"unlockLvIds",{get:function(){return this._playerData.unlockLvIds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"score",{get:function(){return this._playerData.score},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skinId",{get:function(){return this._playerData.skinId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"unlockTalentIds",{get:function(){return this._playerData.unlockTalentIds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playerData",{get:function(){return this._playerData},enumerable:!1,configurable:!0}),t.prototype.costCoin=function(t){return!!this._isInteger(t)&&(this.isEnoughGold(t)?(this._playerData.coin-=t,this._isSave=!0,i.Macro.event.emit(n.EventType.RefreshCurrency),!0):(i.Macro.ui.showMsg("\u8d27\u5e01\u4e0d\u8db3\u3002"),!1))},t.prototype.addCoin=function(t){return!(t<0||!this._isInteger(t)||(this._playerData.coin+=t,this._isSave=!0,i.Macro.event.emit(n.EventType.RefreshCurrency),0))},t.prototype.isEnoughGold=function(t){return t<=this._playerData.coin},t.prototype._isInteger=function(t){return!Number.isNaN(t)&&t===Math.floor(t)},t.prototype.unlockTalent=function(t){return!(t<0||!this._isInteger(t)||this._playerData.unlockTalentIds.indexOf(t)>=0||(this._playerData.unlockTalentIds.push(t),this._isSave=!0,0))},t.prototype.LogicUpdate=function(){this._isSave&&(i.Macro.local.savePlayerData(),this._isSave=!1)},t}();o.default=r,cc._RF.pop()},{"../../Frame/Event/EventType":"EventType","../../Global/Macro":"Macro"}],Pool:[function(t,e,o){"use strict";cc._RF.push(e,"018a6oYn2tOobLUq+1QmW9H","Pool"),Object.defineProperty(o,"__esModule",{value:!0}),o.Pool=void 0;var n=function(){function t(t,e){this._fn=t,this._idx=e-1,this._frees=new Array(e);for(var o=0;o<e;o++)this._frees[o]=t()}return Object.defineProperty(t.prototype,"freeCount",{get:function(){return this._frees.length},enumerable:!1,configurable:!0}),t.prototype.alloc=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._idx<0&&this._expand(Math.round(1.2*this._frees.length)+1);var o=this._frees[this._idx];return this._frees.splice(this._idx),--this._idx,o.use&&o.use.apply(o,t),o},t.prototype.free=function(t){++this._idx,t.free&&t.free(),this._frees[this._idx]=t},t.prototype.clear=function(t){for(var e=0;e<this._idx;e++)t&&t(this._frees[e]);this._frees.splice(0),this._idx=-1},t.prototype._expand=function(t){var e=this._frees;this._frees=new Array(t);for(var o=t-e.length,n=0;n<o;n++)this._frees[n]=this._fn();n=o;for(var i=0;n<t;++n,++i)this._frees[n]=e[i];this._idx+=o},t}();o.Pool=n,cc._RF.pop()},{}],RebornState:[function(t,e,o){"use strict";cc._RF.push(e,"8eeb0DLSS5HR4cvMyHlMoJW","RebornState");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.RebornState=void 0;var r=t("./LevelState"),c=function(t){function e(e){return t.call(this,e,r.ELevelState.Reborn)||this}return i(e,t),e.prototype._DoEnter=function(){},e.prototype._DoExit=function(){},e.prototype._DoRunning=function(){},e}(r.LevelState);o.RebornState=c,cc._RF.pop()},{"./LevelState":"LevelState"}],Ref:[function(t,e,o){"use strict";var n,i,r,c,a,s,l,u;cc._RF.push(e,"00069jfLChCLbM5wv3cDG4p","Ref"),Object.defineProperty(o,"__esModule",{value:!0}),o.REF_NAMES=o.ObstacleRef=o.PropRef=o.GameInfoRef=o.AudioRef=o.CoinRef=o.SlotRef=o.LevelRef=o.LanguageRef=void 0,function(t){t.config=function(){},t.path="Config/LanguageRef",t.isConst=!1}(n=o.LanguageRef||(o.LanguageRef={})),function(t){t.config=function(){},t.path="Config/LevelRef",t.isConst=!1}(i=o.LevelRef||(o.LevelRef={})),function(t){t.config=function(){},t.path="Config/SlotRef",t.isConst=!1}(r=o.SlotRef||(o.SlotRef={})),function(t){t.config=function(){},t.path="Config/CoinRef",t.isConst=!1}(c=o.CoinRef||(o.CoinRef={})),function(t){t.config=function(){},t.path="Config/AudioRef",t.isConst=!1}(a=o.AudioRef||(o.AudioRef={})),function(t){t.config=function(){},t.path="Config/GameInfoRef",t.isConst=!1}(s=o.GameInfoRef||(o.GameInfoRef={})),function(t){t.config=function(){},t.path="Config/PropRef",t.isConst=!1}(l=o.PropRef||(o.PropRef={})),function(t){t.config=function(){},t.path="Config/ObstacleRef",t.isConst=!1}(u=o.ObstacleRef||(o.ObstacleRef={})),o.REF_NAMES=[n,i,r,c,a,s,l,u],cc._RF.pop()},{}],ResMgr:[function(t,e,o){"use strict";cc._RF.push(e,"b98c8nAuzNMxYQF6GUo5uYp","ResMgr");var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.LoadProgress=void 0;var r=t("../Global/Macro"),c=t("../Utils/Dictionary"),a=t("./Config/GameConfig"),s=function(){};o.LoadProgress=s;var l=function(){function t(){this._defaultBundleName="resources",this._protectMap=new c.Dictionary}return t.prototype.preloadRes=function(t,e,o,n,i){var r=null;"string"==typeof e||e instanceof Array?(r=this.parsePreloadResArgs(e,o,n,i)).bundle=t:(r=this.parsePreloadResArgs(t,e,o,n)).bundle=this._defaultBundleName,this.preloadByArgs(r)},t.prototype.preloadResAsync=function(t,e,o,n,i){var r=this;return new Promise(function(c){var a=null;"string"==typeof e||e instanceof Array?(a=r.parsePreloadResArgs(e,o,n,i)).bundle=t:(a=r.parsePreloadResArgs(t,e,o,n)).bundle=r._defaultBundleName,r.preloadByArgs(a,c)})},t.prototype.preloadDir=function(t,e,o,n,i){var r=null;"string"==typeof e?(r=this.parsePreloadResArgs(e,o,n,i)).bundle=t:(r=this.parsePreloadResArgs(t,e,o,n)).bundle=this._defaultBundleName,r.dir=r.paths,this.preloadByArgs(r)},t.prototype.preloadDirAsync=function(t,e,o,n,i){var r=this;return new Promise(function(c){var a=null;"string"==typeof e?(a=r.parsePreloadResArgs(e,o,n,i)).bundle=t:(a=r.parsePreloadResArgs(t,e,o,n)).bundle=r._defaultBundleName,a.dir=a.paths,r.preloadByArgs(a,c)})},t.prototype.loadRes=function(t,e,o,n,i){var r=null;"string"==typeof e||e instanceof Array?(r=this.parseLoadResArgs(e,o,n,i)).bundle=t:(r=this.parseLoadResArgs(t,e,o,n)).bundle=this._defaultBundleName,this.loadByArgs(r)},t.prototype.loadResAsync=function(t,e,o,n,i){var r=this;return new Promise(function(c){var a=null;"string"==typeof e||e instanceof Array?(a=r.parseLoadResArgs(e,o,n,i)).bundle=t:(a=r.parseLoadResArgs(t,e,o,n)).bundle=r._defaultBundleName,r.loadByArgs(a,c)})},t._onProgress=function(e,o,n){t.progress.completedCount=e,t.progress.totalCount=o,t.progress.item=n,t.progress.cb&&t.progress.cb(e,o,n)},t.prototype.getRes=function(t,e,o){return t=t||this._defaultBundleName,cc.assetManager.bundles.has(t)?cc.assetManager.getBundle(t).get(e,o)||null:(r.Macro.log.logError(t,"bundle\u5c1a\u672a\u52a0\u8f7d"),null)},t.prototype.getDynamicRes=function(t,e){return this.getRes(a.GameConfig.DYNAMIC_BUNDLE,t,e)},t.prototype.loadRemoteRes=function(t){return n(this,void 0,Promise,function(){return i(this,function(){return[2,new Promise(function(e,o){cc.assetManager.loadRemote(t,function(t,n){t?o(t):e(n)})})]})})},t.prototype.releasePrefabtDepsRecursively=function(t){var e=cc.assetManager.assets.get(t);cc.assetManager.releaseAsset(e),e instanceof cc.Prefab&&cc.assetManager.dependUtil.getDepsRecursively(t).forEach(function(t){cc.assetManager.assets.get(t).decRef()})},t.prototype.destoryRes=function(t,e){null==e&&(e=this._defaultBundleName);var o=cc.assetManager.getBundle(e);if(o){var n=o.get(t);n&&cc.assetManager.releaseAsset(n)}},t.prototype.parseLoadResArgs=function(t,e,o,n){var i=t,r=e,c=o,a=n;if(void 0===n){var s=cc.js.isChildClassOf(e,cc.Asset);o?(a=o,s&&(c=null)):void 0!==o||s||(a=e,c=null,r=null),void 0===o||s||(c=e,r=null)}return{paths:i,type:r,onProgress:c,onComplete:a}},t.prototype.loadByBundleAndArgs=function(t,e,o){e.dir?t.loadDir(e.paths,e.type,e.onProgress,function(t,n){t&&r.Macro.log.logError(t,"loadByBundleAndArgs"),e.onComplete&&e.onComplete(t,n),o&&o(n)}):(e.paths,t.load(e.paths,e.type,e.onProgress,function(t,n){t&&r.Macro.log.logError(t,"loadByBundleAndArgs"),e.onComplete&&e.onComplete(t,n),o&&o(n)}))},t.prototype.loadByArgs=function(t,e){var o=this;if(t.bundle)if(cc.assetManager.bundles.has(t.bundle)){var n=cc.assetManager.bundles.get(t.bundle);this.loadByBundleAndArgs(n,t,e)}else cc.assetManager.loadBundle(t.bundle,function(n,i){n||o.loadByBundleAndArgs(i,t,e)});else this.loadByBundleAndArgs(cc.resources,t,e)},t.prototype.parsePreloadResArgs=function(t,e,o,n){var i=t,r=e,c=o,a=n;if(void 0===n){var s=cc.js.isChildClassOf(e,cc.Asset);o?(a=o,s&&(c=null)):void 0!==o||s||(a=e,c=null,r=null),void 0===o||s||(c=e,r=null)}return{paths:i,type:r,onProgress:c,onComplete:a}},t.prototype.preloadByBundleAndArgs=function(t,e,o){e.dir?t.preloadDir(e.paths,e.type,e.onProgress,function(t,n){t&&r.Macro.log.logError(t,"preloadByBundleAndArgs"),e.onComplete&&e.onComplete(t,n),o&&o(n)}):(e.paths,t.preload(e.paths,e.type,e.onProgress,function(t,n){t&&r.Macro.log.logError(t,"preloadByBundleAndArgs"),e.onComplete&&e.onComplete(t,n),o&&o(n)}))},t.prototype.preloadByArgs=function(t,e){var o=this;if(t.bundle)if(cc.assetManager.bundles.has(t.bundle)){var n=cc.assetManager.bundles.get(t.bundle);this.preloadByBundleAndArgs(n,t,e)}else cc.assetManager.loadBundle(t.bundle,function(n,i){n||o.preloadByBundleAndArgs(i,t,e)});else this.preloadByBundleAndArgs(cc.resources,t,e)},t.prototype.dump=function(){cc.assetManager.assets.forEach(function(t,e){console.log(cc.assetManager.assets.get(e))}),console.log("\u5f53\u524d\u8d44\u6e90\u603b\u6570:"+cc.assetManager.assets.count)},t.progress=new s,t}();o.default=l,cc._RF.pop()},{"../Global/Macro":"Macro","../Utils/Dictionary":"Dictionary","./Config/GameConfig":"GameConfig"}],Root:[function(t,e,o){"use strict";cc._RF.push(e,"268e3qqHjJJ5rEdmdDadJG4","Root");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./AutoScripts/UIConfig"),l=t("./Frame/Audio/AudioMgr"),u=t("./Frame/ConfigMgr"),p=t("./Frame/Event/EventType"),h=t("./Frame/LocalData/LocalDataMgr"),f=t("./Frame/LanguageMgr"),d=t("./Frame/UIMgr"),_=t("./Global/Macro"),y=t("./Frame/TimerMgr"),v=t("./Logic/Game"),g=t("./Frame/Config/GameConfig"),m=t("./AutoScripts/Ref"),b=cc._decorator,w=b.ccclass,S=b.property,O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uiCamera=null,e.sceneCamera=null,e._inited=!1,e}return i(e,t),e.prototype.onLoad=function(){cc.debug.setDisplayStats(!1),cc.game.setFrameRate(60),_.Macro.uiCamera=this.uiCamera,_.Macro.sceneCamera=this.sceneCamera,this._loading()},e.prototype._loading=function(){return c(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return this._inited=!1,_.Macro.ui=this.addComponent(d.default),[4,_.Macro.ui.open(s.default.UILoading,"\u6b63\u5728\u52a0\u8f7d\u3002\u3002\u3002")];case 1:return t.sent(),[4,u.ConfigMgr.StartLoad()];case 2:return t.sent(),[4,this._preloadRes()];case 3:return t.sent(),this._initMgr(),_.Macro.ui.open(s.default.UIMain),_.Macro.ui.close(s.default.UILoading.prefabUrl),this._inited=!0,[2]}})})},e.prototype._initMgr=function(){_.Macro.root=this.node,_.Macro.timer=new y.default,_.Macro.local=new h.default,_.Macro.audio=this.addComponent(l.AudioMgr),_.Macro.language=new f.LanguageMgr,_.Macro.game=new v.default,_.Macro.game.init(),cc.game.on(cc.game.EVENT_SHOW,this._onGameShow),cc.game.on(cc.game.EVENT_HIDE,this._onGameHide)},e.prototype._onGameShow=function(){_.Macro.log.logView("Game.EVENT_SHOW"),_.Macro.audio.resumeAll(),cc.director.resume(),cc.game.resume(),_.Macro.event.emit(p.EventType.GameShow)},e.prototype._onGameHide=function(){_.Macro.log.logView("Game.EVENT_HIDE"),_.Macro.audio.pauseAll(),cc.director.pause(),cc.game.pause(),_.Macro.event.emit(p.EventType.GameHide)},e.prototype.update=function(t){this._inited&&_.Macro.timer.onUpdate(t)},e.prototype.lateUpdate=function(){this._inited&&_.Macro.timer.onLateUpdate()},e.prototype._preloadRes=function(){return c(this,void 0,void 0,function(){var t,e;return a(this,function(o){switch(o.label){case 0:return t=["Prefab/Slot","Prefab/Coin"],m.ObstacleRef.dataList.map(function(e){t.push(e.path)}),[4,_.Macro.res.loadResAsync(g.GameConfig.DYNAMIC_BUNDLE,t,cc.Prefab)];case 1:return o.sent(),e=[],m.CoinRef.dataList.map(function(t){e.push(t.icon)}),[4,_.Macro.res.loadResAsync(g.GameConfig.DYNAMIC_BUNDLE,e,cc.SpriteFrame)];case 2:return o.sent(),[2]}})})},r([S(cc.Camera)],e.prototype,"uiCamera",void 0),r([S(cc.Camera)],e.prototype,"sceneCamera",void 0),r([w],e)}(cc.Component);o.default=O,cc._RF.pop()},{"./AutoScripts/Ref":"Ref","./AutoScripts/UIConfig":"UIConfig","./Frame/Audio/AudioMgr":"AudioMgr","./Frame/Config/GameConfig":"GameConfig","./Frame/ConfigMgr":"ConfigMgr","./Frame/Event/EventType":"EventType","./Frame/LanguageMgr":"LanguageMgr","./Frame/LocalData/LocalDataMgr":"LocalDataMgr","./Frame/TimerMgr":"TimerMgr","./Frame/UIMgr":"UIMgr","./Global/Macro":"Macro","./Logic/Game":"Game"}],SdkMgr:[function(t,e,o){"use strict";cc._RF.push(e,"706a6DFDahDuruAXjJlyftR","SdkMgr");var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.SdkMgr=void 0;var c=t("../AutoScripts/UIConfig"),a=t("../Components/ButtonPlus"),s=t("../Frame/Config/GameConfig"),l=t("../Global/EnumDefine"),u=t("../Global/Macro"),p=t("../Utils/AsyncUtils"),h=l.EnumDefine.EOption,f=function(){function t(){this.meta=null,this.isFcFu=!1}return t.prototype.initSdk=function(){var t,e,o,a;return i(this,void 0,Promise,function(){var i,l,f;return r(this,function(r){switch(r.label){case 0:return[3,2];case 1:r.sent(),window.HdAd.start=void 0,r.label=2;case 2:return window.HdAd?[3,4]:[4,p.delay(100)];case 3:return r.sent(),[3,2];case 4:return[4,window.HdAd.ready()];case 5:return i=r.sent(),this.meta=n({},i),document.title=i.tmlTitle,this.isFcFu=(null===(t=window.HdAd.meta)||void 0===t?void 0:t.fc)&&(null===(e=window.HdAd.meta)||void 0===e?void 0:e.fu),s.GameConfig.PLAY_COUNT=this.isFcFu?window.HdAd.getTotalTimes()-window.HdAd.getPlayTimes():s.GameConfig.PLAY_COUNT,window.HdSDK.isSdk()?(l=!(null===(o=window.sdk)||void 0===o?void 0:o.ios))?[4,window.HdSDK.getBasicFields()]:[3,7]:[3,10];case 6:l=!r.sent().igp,r.label=7;case 7:return l&&window.ComMgr.init(),(f=null===(a=window.sdk)||void 0===a?void 0:a.ios)?[3,9]:[4,window.HdSDK.compareSdkv("1.4.1")];case 8:f=r.sent()>0,r.label=9;case 9:f&&this._initCloseBtn(),r.label=10;case 10:return u.Macro.ui.open(c.default.UIOptions,[h.Prize,h.Rule,h.Feedback]),[2]}})})},t.prototype._initCloseBtn=function(){var t=this;u.Macro.res.loadRes(s.GameConfig.DYNAMIC_BUNDLE,"Prefab/CloseGame",cc.Prefab,function(e,o){var n=cc.instantiate(o);u.Macro.root.addChild(n);var i=n.getComponent(a.default);n.getComponent(cc.Widget).top=20,n.getComponent(cc.Widget).right=20,window.HdSDK.setCloseVisible(!1),window.HdSDK.addEventListener("wv.resume",function(){window.HdSDK.setCloseVisible(!1)},{once:!0}),i.addClick(t._closeGame,t)})},t.prototype._loadScript=function(t){return i(this,void 0,void 0,function(){return r(this,function(){return[2,new Promise(function(e){var o=document.createElement("script");o.async=!1,o.src=t,o.addEventListener("load",function t(){document.body.removeChild(o),o.removeEventListener("load",t,!1),e(!0)},!1),document.body.appendChild(o)})]})})},t.prototype._closeGame=function(){window.HdSDK.close(),sessionStorage.clear()},t}();o.SdkMgr=f,cc._RF.pop()},{"../AutoScripts/UIConfig":"UIConfig","../Components/ButtonPlus":"ButtonPlus","../Frame/Config/GameConfig":"GameConfig","../Global/EnumDefine":"EnumDefine","../Global/Macro":"Macro","../Utils/AsyncUtils":"AsyncUtils"}],Shape:[function(t,e,o){"use strict";cc._RF.push(e,"cd974jukuJLNaFp8d3PK+Oo","Shape");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.Shape=void 0;var c=t("../P2Enum"),a=t("./Body"),s=cc._decorator,l=s.ccclass,u=s.property,p=(s.menu,s.requireComponent),h=s.executeInEditMode,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.collisionGroup=c.ECollisionGroup.None,e.collisionMasks=[],e.collisionResponse=!0,e.sensor=!1,e.angle=0,e.offset=cc.v2(0,0),e}return i(e,t),e.prototype.onLoad=function(){for(var t=this.collisionMasks.length,e=this.collisionMasks[0];--t>0;)e|=this.collisionMasks[t];this.options={sensor:!1,collisionGroup:this.collisionGroup,collisionMasks:e,collisionResponse:this.collisionResponse,angle:this.angle,position:[this.offset.x,this.offset.y],material:this.material}},r([u({tooltip:"\u78b0\u649e\u7ec4",type:cc.Enum(c.ECollisionGroup)})],e.prototype,"collisionGroup",void 0),r([u({tooltip:"\u9009\u62e9\u53ef\u78b0\u649e\u7ec4 \u78b0\u649e\u906e\u7f69",type:[c.ECollisionGroup]})],e.prototype,"collisionMasks",void 0),r([u({tooltip:"\u4e0e\u5176\u4ed6\u7269\u4f53\u63a5\u89e6\u65f6\u662f\u5426\u4ea7\u751f\u63a5\u89e6\u529b\u3002 \u8bf7\u6ce8\u610f\uff0c\u5c06\u751f\u6210\u8054\u7cfb\u4eba\uff0c\u4f46\u5b83\u4eec\u5c06\u88ab\u7981\u7528\u3002 \u8fd9\u610f\u5473\u7740\u8be5\u5f62\u72b6\u5c06\u7a7f\u8fc7\u5176\u4ed6\u8eab\u4f53\u5f62\u72b6\uff0c\u4f46\u5b83\u4ecd\u7136\u4f1a\u89e6\u53d1\u63a5\u89e6\u4e8b\u4ef6\u7b49"})],e.prototype,"collisionResponse",void 0),r([u({tooltip:"\u5982\u679c\u60a8\u5e0c\u671b\u8be5\u5f62\u72b6\u6210\u4e3a\u4f20\u611f\u5668\uff0c\u8bf7\u8bbe\u7f6e\u4e3a true\u3002 \u4f20\u611f\u5668\u4e0d\u4f1a\u751f\u6210\u63a5\u89e6\uff0c\u4f46\u5b83\u4ecd\u7136\u62a5\u544a\u63a5\u89e6\u4e8b\u4ef6\u3002 \u5982\u679c\u60a8\u60f3\u77e5\u9053\u4e00\u4e2a\u5f62\u72b6\u662f\u5426\u4e0e\u53e6\u4e00\u4e2a\u5f62\u72b6\u91cd\u53e0\u800c\u4e0d\u4ea7\u751f\u63a5\u89e6\uff0c\u8fd9\u975e\u5e38\u6709\u7528"})],e.prototype,"sensor",void 0),r([u({tooltip:"\u65cb\u8f6c\u89d2\u5ea6",type:cc.Float})],e.prototype,"angle",void 0),r([u({tooltip:"\u4f4d\u7f6e\u504f\u79fb\u91cf"})],e.prototype,"offset",void 0),r([l,p(a.Body),h],e)}(cc.Component);o.Shape=f,cc._RF.pop()},{"../P2Enum":"P2Enum","./Body":"Body"}],Slot:[function(t,e,o){"use strict";cc._RF.push(e,"6294dKN0ilH2YJGaNFwyqSU","Slot");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../AutoScripts/Ref"),a=t("../../Global/Macro"),s=t("../../Utils/ComTools"),l=t("../../Utils/LayaPool"),u=t("../Coin/Coin"),p=cc._decorator,h=p.ccclass,f=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._inv=20,e._lock=!1,e._slotId=0,e._coins=[],e._obstacles=[],e}var o;return i(e,t),o=e,Object.defineProperty(e.prototype,"lock",{get:function(){return this._lock},set:function(t){this._lock=t,this.node.getChildByName("suo").active=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"slotId",{get:function(){return this._slotId},set:function(t){this._slotId=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coins",{get:function(){return this._coins},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"obstacles",{get:function(){return this._obstacles},enumerable:!1,configurable:!0}),e.Create=function(t){var e=l.default.getItemByCreateFun("__slot__",function(){return cc.instantiate(a.Macro.res.getDynamicRes("Prefab/Slot",cc.Prefab)).getComponent(o)},this);return e.slotId=t,e},e.Recover=function(t){l.default.recover("__slot__",t)},e.prototype.onDisable=function(){for(var t=this.node.getChildByName("coins"),e=t.children.length;--e>=0;)t.children[e].getComponent(u.default).Clear();o.Recover(this)},e.prototype.onEnable=function(){this._obstacles=[],this._coins=[];for(var t=this.node.getChildByName("coins"),e=c.SlotRef.data[this._slotId],o=0,n=e.coinIds.length;o<n;o++){var i=e.coinIds[o],r=u.default.Create(i);r.node.y=o*this._inv,r.node.parent=t,this._coins[this._coins.length]=r}},e.prototype.addObstacle=function(t){return this._obstacles[this._obstacles.length]=t,t.node.parent=this.node,!0},e.prototype._touchStart=function(){},e.prototype._touchMove=function(){},e.prototype._touchEnd=function(){cc.log("555555555"),this.node.children[0].setPosition(0,0)},e.prototype.onClick=function(){cc.log("777777")},e.prototype.ejectCoins=function(){var t=this.node.getChildByName("coins"),e=t.children,o=[];if(e.length>0){var n=e[e.length-1].getComponent(u.default);o.push(n);for(var i=t.childrenCount-1;--i>=0;){var r=e[i].getComponent(u.default);if(r.coinId!=n.coinId)break;o.push(r)}return o}return null},e.prototype.putCoin=function(t){var e=this.node.getChildByName("coins"),o=s.ComTools.getRelativePosition(t.node,e);t.node.x=o.x,t.node.y=o.y;var n=e.children.length*this._inv;t.node.parent=e,cc.tween().target(t.node).to(.5,{x:0,y:n},{easing:"backOut"}).call(function(){}).start()},e.prototype.moveTo=function(){},o=r([h],e)}(cc.Component));o.default=f,cc._RF.pop()},{"../../AutoScripts/Ref":"Ref","../../Global/Macro":"Macro","../../Utils/ComTools":"ComTools","../../Utils/LayaPool":"LayaPool","../Coin/Coin":"Coin"}],SpriteGif:[function(t,e,o){"use strict";cc._RF.push(e,"fca45a+inFHZI4Xw0UTkIPf","SpriteGif");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.SpriteGif=void 0;var s=t("../../Frame/Config/GameConfig"),l=t("../../Global/EnumDefine"),u=t("../../Global/Macro"),p=t("./Gif"),h=t("./GifMgr"),f=l.EnumDefine.EGifLoadMode;cc.assetManager.downloader.register(".gif",cc.assetManager.downloader._downloaders[".binary"]);var d=cc._decorator,_=d.ccclass,y=d.property,v=d.executeInEditMode,g=d.menu,m=d.requireComponent,b=d.playOnFocus,w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._image=new Image,e._sprite=null,e._texture=null,e.loadGifMode=f.URL,e._asset=null,e._url="",e._isPlay=!0,e}return i(e,t),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"asset",{get:function(){return this._asset},set:function(t){this._asset=t,this.unscheduleAllCallbacks();var e=this._sprite.spriteFrame;if(!t&&e)return e.destroy(),void(this._sprite.spriteFrame=null);e||(this._sprite.spriteFrame=new cc.SpriteFrame(this._texture)),this._initArrayBuffer(this._asset._nativeAsset)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this._url},set:function(t){this._asset&&(this.asset=null),this._url=t,t&&this._getArrayBuffer(t).then(this._initArrayBuffer.bind(this))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPlay",{get:function(){return this._isPlay},set:function(t){this._isPlay=t},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.loadGifMode==f.Asset?this._asset&&this._initArrayBuffer(this._asset._nativeAsset):this._getArrayBuffer(this._url).then(this._initArrayBuffer.bind(this))},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){this.unscheduleAllCallbacks()},e.prototype.onDestroy=function(){},e.prototype._initArrayBuffer=function(t){var e,o=[];try{o=p.decompressFrames(p.parseGIF(t),!0)}catch(r){return void u.Macro.log.logError(r,"[GifRender] read gif frame error")}if(0!==o.length){var n=this.loadGifMode==f.Asset?null===(e=this._asset)||void 0===e?void 0:e.nativeUrl:this._url,i=h.default.inst.getGifCacheSpriteFrame(n,o);i?this._createAnimation(i.spriteframes,i.delay):this._renderAsNormalImage()}},e.prototype._createAnimation=function(t,e){var o=this.node.getComponent(cc.Animation)||this.node.addComponent(cc.Animation),n=cc.AnimationClip.createWithSpriteFrames(t,e);n.wrapMode=cc.WrapMode.Loop,o.defaultClip=n,o.addClip(n,"playAni"),o.play("playAni",0).duration=t.length*e/1e3},e.prototype._onImageLoad=function(){this._texture.initWithElement(this._image)},e.prototype._renderAsNormalImage=function(){return c(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return[4,u.Macro.res.loadRemoteRes(this._url)];case 1:return t=e.sent(),this._sprite.spriteFrame=new cc.SpriteFrame(t),[2]}})})},e.prototype.dataUrl2SpriteFrame=function(t){return c(this,void 0,Promise,function(){return a(this,function(){return[2,new Promise(function(e){var o=new cc.Texture2D,n=new Image;n.src=t,n.onload=function(){o.initWithElement(n),e(o)}})]})})},e.prototype._createCanvas=function(){return globalThis.tt&&globalThis.tt.createCanvas?globalThis.tt.createCanvas():globalThis.wx&&globalThis.wx.createCanvas?globalThis.wx.createCanvas():document&&document.createElement?document.createElement("canvas"):null},e.prototype._getArrayBuffer=function(t){var e=this;return t?/^https?:\/\//i.test(t)||/^\//.test(t)?this._getArrayBufferFromRemote(t):new Promise(function(o){u.Macro.res.loadRes(s.GameConfig.DYNAMIC_BUNDLE,t.replace(/\.gif$/i,""),function(t,n){if(t)return o(null);e._getArrayBufferFromRemote(n[0].nativeUrl).then(o)})}):Promise.resolve(null)},e.prototype._getArrayBufferFromRemote=function(t){return new Promise(function(e){var o=new XMLHttpRequest;o.open("GET",t,!0),o.responseType="arraybuffer",o.onreadystatechange=function(){4===o.readyState&&e(o.response)},o.onerror=function(t){console.error("xhr error",t),e(null)},o.send(null),setTimeout(function(){e(null)},1e5)})},e.prototype._getImageSpirteFrame=function(t){return t?/^https?:\/\//i.test(t)||/^\//.test(t)?new Promise(function(e){cc.assetManager.loadRemote(t,function(t,o){e(t?null:new cc.SpriteFrame(o))})}):new Promise(function(e){cc.resources.load(t.replace(/\.(?:gif|png|jpg|webp|jpeg)$/i,""),cc.Asset,function(t,o){e(t?null:new cc.SpriteFrame(o))})}):Promise.resolve(null)},r([y({type:cc.Enum(f),tooltip:!1})],e.prototype,"loadGifMode",void 0),r([y],e.prototype,"_asset",void 0),r([y({type:cc.Asset,tooltip:"\u6e32\u67d3 Sprite \u4f7f\u7528\u7684GIF \n\u8d44\u6e90",visible:function(){return this.loadGifMode==f.Asset}})],e.prototype,"asset",null),r([y],e.prototype,"_url",void 0),r([y({type:cc.String,tooltip:"\u6e32\u67d3 Sprite \u7684GIF\u8def\u5f84",visible:function(){return this.loadGifMode==f.URL}})],e.prototype,"url",null),r([y],e.prototype,"_isPlay",void 0),r([y],e.prototype,"isPlay",null),r([_,m(cc.Sprite),g("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/SpriteGif"),v,b],e)}(cc.Component);o.SpriteGif=w,cc._RF.pop()},{"../../Frame/Config/GameConfig":"GameConfig","../../Global/EnumDefine":"EnumDefine","../../Global/Macro":"Macro","./Gif":"Gif","./GifMgr":"GifMgr"}],SpriteGray:[function(t,e,o){"use strict";cc._RF.push(e,"f7126zER+JA3Jxk8/HGrkHa","SpriteGray");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,l=c.executeInEditMode,u=c.menu,p=c.requireComponent,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._isGray=!0,e}return i(e,t),Object.defineProperty(e.prototype,"isGray",{get:function(){return this._isGray},set:function(t){if(t!=this._isGray){var e=t?cc.Material.getBuiltinMaterial("2d-gray-sprite"):cc.Material.getBuiltinMaterial("2d-sprite");this.node.getComponent(cc.Sprite).setMaterial(0,e),this._isGray=t}},enumerable:!1,configurable:!0}),r([s],e.prototype,"_isGray",void 0),r([s()],e.prototype,"isGray",null),r([a,p(cc.Sprite),u("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/SpriteGray"),l],e)}(cc.Component);o.default=h,cc._RF.pop()},{}],StateMachine:[function(t,e,o){"use strict";cc._RF.push(e,"76108XOX8FHFJg89S7MYHxl","StateMachine"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){this._forceChangeState=0,this._states=new Map}return Object.defineProperty(t.prototype,"count",{get:function(){return this._states.size},enumerable:!1,configurable:!0}),t.prototype.Add=function(t){return!this._states.has(t.id)&&(this._states.set(t.id,t),!0)},t.prototype.Remove=function(t){return this._states.delete(t)},t.prototype.RemoveAll=function(){this._states.clear(),this.currState=null},t.prototype.ExitCurrState=function(t){void 0===t&&(t=null),null!=this.currState&&(this.currState.OnExit(null,t),this.currState=null)},t.prototype.ChangeState=function(t,e){void 0===e&&(e=null);var o=this.Find(t);return null!=o?(null!=this.currState&&this.currState.OnExit(o,e),this.lastState=this.currState,this.currState=o,o.OnEnter(this.lastState,e),!0):(console.error("[\u72b6\u6001\u673a] \u4e0d\u5b58\u5728\u7684\u72b6\u6001ID:"+t),!1)},t.prototype.SetForceChangeState=function(t,e){void 0===e&&(e=null),this._forceChangeState=t,this._forceChangeParam=e},t.prototype.LogicUpdate=function(t){if(null!=this.currState){if(0!=this._forceChangeState)return this.ChangeState(this._forceChangeState,this._forceChangeParam),this._forceChangeState=0,this._forceChangeParam=null,void this.OnRunning(null,t);var e=this.currState.GetNextState();0!=e&&this.ChangeState(e),this.OnRunning(null,t)}else 0!=this._forceChangeState&&(this.ChangeState(this._forceChangeState,this._forceChangeParam),this._forceChangeState=0,this._forceChangeParam=null,this.OnRunning(null,t))},t.prototype.OnRunning=function(t,e){null!=this.currState&&this.currState.OnRunning(t,e)},t.prototype.Find=function(t){return this._states.get(t)},t}();o.default=n,cc._RF.pop()},{}],StateStep:[function(t,e,o){"use strict";cc._RF.push(e,"c59b3/HrO1PkJX+lmC3Mnmz","StateStep"),Object.defineProperty(o,"__esModule",{value:!0}),o.StateStep=void 0;var n=function(){function t(t){this._level=t,this.slotLocks=[],this.coinIdArys=[],this.prev=null}return t.prototype.saveState=function(){for(var t=this._level.slots,e=0,o=t.length;e<o;e++){var n=t[e];this.slotLocks[e]=n.lock,this.coinIdArys[e]=[];for(var i=n.coins,r=0,c=i.length;r<c;r++)this.coinIdArys[e][r]=i[r].coinId}return!0},t.prototype.clearState=function(){return this.slotLocks=null,this.coinIdArys=null,this._level=null,!0},t}();o.StateStep=n,cc._RF.pop()},{}],StorageMgr:[function(t,e,o){"use strict";cc._RF.push(e,"97aafuqASVFzZVw+o4kSo9O","StorageMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Base64"),i=function(){function t(){}return t.set=function(t,e,o){void 0===o&&(o=!0);var i;i=o?JSON.stringify(e):e,cc.sys.localStorage.setItem(n.default.encode(t),n.default.encode(i))},t.get=function(t,e){void 0===e&&(e=!0);var o=cc.sys.localStorage.getItem(n.default.encode(t));if(o){if(e)try{return JSON.parse(n.default.decode(o))}catch(i){return n.default.decode(o)}return n.default.decode(o)}return null},t.remove=function(t){cc.sys.localStorage.removeItem(n.default.encode(t))},t}();o.default=i,cc._RF.pop()},{"./Base64":"Base64"}],StringEx:[function(t,e,o){"use strict";cc._RF.push(e,"8b5890z1n9JSYKUzGetcAgb","StringEx"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.splitToIntArray=function(t,e){for(var o=t.split(e),n=[],i=0;i<o.length;++i){var r=parseInt(o[i]);isNaN(r)&&(r=0),n.push(r)}return n},t.intArrToStr=function(t){for(var e="",o=0;o<t.length;++o)e+=t[o].toFixed(0),o<t.length-1&&(e+=",");return e},t.isNullOrEmpty=function(t){return null==t||""==t},t}();o.default=n,cc._RF.pop()},{}],Struct:[function(t,e){"use strict";cc._RF.push(e,"ff9f0j0Ri1BO5gNXgYJ8IRs","Struct"),cc._RF.pop()},{}],SwitchIcon:[function(t,e,o){"use strict";cc._RF.push(e,"857d6Q00EFDz5fc4OIWfauj","SwitchIcon");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,l=c.executeInEditMode,u=c.requireComponent,p=c.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._stateSpriteFrames=[],e._defaultState=0,e._sprite=null,e._state=-1,e}return i(e,t),Object.defineProperty(e.prototype,"stateSpriteFrames",{get:function(){return this._stateSpriteFrames},set:function(t){this._stateSpriteFrames=t,this.state=this._defaultState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultState",{get:function(){return this._defaultState},set:function(t){this._defaultState=t,this.state=this._defaultState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(t){t!=this._state&&(t>=this.stateSpriteFrames.length||t<0||(this._state=t,this._sprite.spriteFrame=this.stateSpriteFrames[t]))},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this._sprite=this.getComponent(cc.Sprite)||this.addComponent(cc.Sprite),this.state=this._defaultState},r([s],e.prototype,"_stateSpriteFrames",void 0),r([s([cc.SpriteFrame])],e.prototype,"stateSpriteFrames",null),r([s],e.prototype,"_defaultState",void 0),r([s({tooltip:!1,type:cc.Integer,min:0})],e.prototype,"defaultState",null),r([a,u(cc.Sprite),l,p("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/SwitchIcon")],e)}(cc.Component);o.default=h,cc._RF.pop()},{}],SwitchLevelState:[function(t,e,o){"use strict";cc._RF.push(e,"d55f6mpHXNHwa1Tqqr7g091","SwitchLevelState");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.SwitchLevelState=void 0;var r=t("./LevelState"),c=function(t){function e(e){return t.call(this,e,r.ELevelState.SwitchLevel)||this}return i(e,t),e.prototype._DoEnter=function(){},e.prototype._DoExit=function(){},e.prototype._DoRunning=function(){},e}(r.LevelState);o.SwitchLevelState=c,cc._RF.pop()},{"./LevelState":"LevelState"}],TimerMgr:[function(t,e,o){"use strict";cc._RF.push(e,"c0cebqcRPZDEoWfu2l3Kfk4","TimerMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../Global/EnumDefine"),i=t("../Global/Macro"),r=t("../Utils/Handler"),c=t("../Utils/GameTimer"),a=n.EnumDefine.EActionType,s=function(){function t(){this._updateActions=[],this._lateUpdateActions=[],this._delayUpdateActions=[],this.deltaTime=1/60}return t.prototype._getActionList=function(t){switch(t){case a.Update:return this._updateActions;case a.LateUpdate:return this._lateUpdateActions;case a.DelayUpdate:return this._delayUpdateActions;default:return i.Macro.log.logError("\u672a\u5904\u7406\u7684actionType\u7c7b\u578b",t),null}},t.prototype.AddAction=function(t,e,o,n,s,l,u){void 0===s&&(s=-1),void 0===l&&(l=0);var p=this._getActionList(t);if(null!=p){for(var h=0;h<p.length;++h){var f=p[h].handler;if(f.caller==e&&f.method==o)return void i.Macro.log.logError("\u5df2\u5b58\u5728\u91cd\u590d\u6ce8\u518c\u4e8b\u4ef6,\u53d6\u6d88\u6ce8\u518c")}var d={handler:r.default.create(e,o,u,!1),endHandler:r.default.create(e,n,u,!0),repeat:s};if(t==a.DelayUpdate){var _=new c.GameTimer(l);Object.defineProperty(d,"timer",{get:function(){return _}})}p.push(d)}},t.prototype.RemoveAction=function(t,e,o){var n=this._getActionList(t);if(null!=n)for(var i=0;i<n.length;++i){var r=n[i].handler;if(r.caller==e&&r.method==o)return void(n=n.splice(i,1))}},t.prototype.onUpdate=function(t){this.deltaTime=t>.05?.05:t;for(var e=this._updateActions,o=0,n=e.length;o<n;++o){var i=e[o];i.handler.runWith(this.deltaTime),i.repeat>0&&i.repeat--}this._onDelayUpdate(t)},t.prototype.onLateUpdate=function(){for(var t=this._lateUpdateActions,e=0,o=t.length;e<o;++e){var n=t[e];n.handler.runWith(this.deltaTime),n.repeat>0&&n.repeat--}this._checkActions()},t.prototype._onDelayUpdate=function(t){for(var e=this._delayUpdateActions,o=0,n=e.length;o<n;++o){var i=e[o],r=i.timer;r.gameTick(t),r.tryFinishPeriod()&&(i.handler.runWith(this.deltaTime),i.repeat>0&&i.repeat--)}},t.prototype._checkActions=function(){for(var t,e,o,n=this._updateActions,i=n.length;--i>=0;)0==(s=n[i]).repeat&&(this.RemoveAction(a.Update,s.handler.caller,s.handler.method),null===(t=s.endHandler)||void 0===t||t.run());var r=this._delayUpdateActions;for(i=r.length;--i>=0;)0==(s=r[i]).repeat&&(this.RemoveAction(a.DelayUpdate,s.handler.caller,s.handler.method),null===(e=s.endHandler)||void 0===e||e.run());var c=this._lateUpdateActions;for(i=c.length;--i>=0;){var s;0==(s=c[i]).repeat&&(this.RemoveAction(a.LateUpdate,s.handler.caller,s.handler.method),null===(o=s.endHandler)||void 0===o||o.run())}},t}();o.default=s,cc._RF.pop()},{"../Global/EnumDefine":"EnumDefine","../Global/Macro":"Macro","../Utils/GameTimer":"GameTimer","../Utils/Handler":"Handler"}],UIAward_Auto:[function(t,e,o){"use strict";cc._RF.push(e,"6263aIZgClDrbtv6G1+EvRr","UIAward_Auto");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./../../Components/List"),a=cc._decorator,s=a.ccclass,l=a.property,u=a.menu,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.list=null,e}return i(e,t),r([l(c.default)],e.prototype,"list",void 0),r([s,u("AUTO_UI/UIAward_Auto")],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./../../Components/List":"List"}],UIAward:[function(t,e,o){"use strict";cc._RF.push(e,"37383RzyupFLaezTSwAtQl5","UIAward");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../Components/Gif/SpriteGif"),l=t("../Components/ListItem"),u=t("../Frame/Config/GameConfig"),p=t("../Frame/Event/EventType"),h=t("../Frame/UIForms/UIWindow"),f=t("../Global/Macro"),d=t("../Utils/ComTools"),_=cc._decorator,y=_.ccclass,v=(_.property,_.menu),g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onEnable=function(){this._rewards=window.HdAd.getMyRewards(),this.ui.list.numItems=this._rewards.length},e.prototype.onClose=function(){this.hide()},e.prototype.onHide=function(){},e.prototype.onListRender=function(t,e){return c(this,void 0,void 0,function(){var o,n,i,r,h,_=this;return a(this,function(){return o=this._rewards[e],(n=t.getComponent(l.default)).title.string=o.name,i=JSON.parse(localStorage.getItem("installList"))||[],r=i.indexOf(o.appId)>=0,n.btn.interactable=!r,r||n.btn.addClick(function(){return c(_,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return this.hide(),window.HdAd.clickReward(o),[4,window.HdAd.checkResult()];case 1:return e.sent(),f.Macro.sdk.isFcFu?(u.GameConfig.PLAY_COUNT=window.HdAd.getTotalTimes()-window.HdAd.getPlayTimes(),t=window.HdAd.getTotalTimes()-f.Macro.sdk.meta.fc,f.Macro.sdk.meta.fc=window.HdAd.getTotalTimes(),t&&f.Macro.event.emit(p.EventType.GetMore)):(u.GameConfig.PLAY_COUNT+=u.GameConfig.ADD_PLAY_COUNT,f.Macro.event.emit(p.EventType.GetMore)),[2]}})})},this),h=n.icon.getComponent(s.SpriteGif)||n.icon.addComponent(s.SpriteGif),d.ComTools.setRemoteTexture(h,o.img),[2]})})},e.prototype.onListSelected=function(){},r([y,v("CREATE_UI/UIAward")],e)}(h.default);o.default=g,cc._RF.pop()},{"../Components/Gif/SpriteGif":"SpriteGif","../Components/ListItem":"ListItem","../Frame/Config/GameConfig":"GameConfig","../Frame/Event/EventType":"EventType","../Frame/UIForms/UIWindow":"UIWindow","../Global/Macro":"Macro","../Utils/ComTools":"ComTools"}],UIBase:[function(t,e,o){"use strict";cc._RF.push(e,"c16780YpVFA/6wE8g1U+Hcr","UIBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../Global/EnumDefine"),l=t("../Global/Macro"),u=t("../Utils/Handler"),p=t("./Config/GameConfig"),h=t("./Event/EventType"),f=t("./ResMgr"),d=s.EnumDefine.ECloseType,_=s.EnumDefine.EZIndex,y=cc._decorator,v=y.ccclass,g=y.property,m=(y.menu,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.zIndex=_.Low,e._openParam=null,e.fid="",e._inited=!1,e._hideHandler=null,e._uiConfig=null,e._progress=null,e._preLoadUrls=null,e.closeType=d.CloseAndDestory,e}return i(e,t),e.prototype._baseOnInit=function(t,e){return c(this,void 0,void 0,function(){return a(this,function(o){switch(o.label){case 0:return this._openParam=e,this._inited?[2]:(this._inited=!0,this.fid=t,this._progress=new f.LoadProgress,this._ui=this.getComponent(this.node.name+"_Auto"),this._preLoadUrls=[],this.onPreLoad(),this._preLoadUrls.length>0?[4,l.Macro.res.loadResAsync(p.GameConfig.DYNAMIC_BUNDLE,this._preLoadUrls,cc.Asset,this._onProgress.bind(this))]:[3,2]);case 1:o.sent(),o.label=2;case 2:return l.Macro.event.on(h.EventType.ChangeCanvasSize,this.onChangeCanvasSize,this),this.onInit(),[2]}})})},e.prototype._baseOnShow=function(){return c(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return this.node.active=!0,this.onShow(),[4,this.showEffect()];case 1:return t.sent(),this.onAfterShow(),[2]}})})},e.prototype._baseOnHide=function(t){var e;return c(this,void 0,void 0,function(){return a(this,function(o){switch(o.label){case 0:return this._openParam=t,this.onHide(),[4,this.hideEffect()];case 1:return o.sent(),this.onAfterHide(),this.node.active=!1,this._openParam=null,null===(e=this._hideHandler)||void 0===e||e.run(),[2]}})})},e.prototype._baseOnDestroy=function(){for(var t=this._preLoadUrls.length;--t>=0;)l.Macro.res.destoryRes(this._preLoadUrls[t],p.GameConfig.DYNAMIC_BUNDLE);this._preLoadUrls=null,l.Macro.event.off(h.EventType.ChangeCanvasSize,this.onChangeCanvasSize,this)},e.prototype._onProgress=function(t,e,o){this._progress.completedCount=t,this._progress.totalCount=e,this._progress.item=o,this._progress.cb&&this._progress.cb(t,e,o)},e.prototype.onChangeCanvasSize=function(){},e.prototype.onPreLoad=function(){},e.prototype.onInit=function(){},e.prototype.onShow=function(){},e.prototype.showEffect=function(){return c(this,void 0,void 0,function(){return a(this,function(){return[2]})})},e.prototype.onAfterShow=function(){},e.prototype.onHide=function(){},e.prototype.hideEffect=function(){return c(this,void 0,void 0,function(){return a(this,function(){return[2]})})},e.prototype.onAfterHide=function(){},e.prototype.hide=function(){return c(this,void 0,Promise,function(){return a(this,function(t){switch(t.label){case 0:return[4,l.Macro.ui.close(this.fid)];case 1:return[2,t.sent()]}})})},e.prototype.waitClose=function(){return c(this,void 0,void 0,function(){var t;return a(this,function(){return t=this,[2,new Promise(function(e){t._hideHandler=u.default.create(t,function(t){e(t)})})]})})},r([g({tooltip:"\u5173\u95ed\u7c7b\u578b",type:cc.Enum(d)})],e.prototype,"closeType",void 0),r([v],e)}(cc.Component));o.default=m,cc.UIBase=m,cc._RF.pop()},{"../Global/EnumDefine":"EnumDefine","../Global/Macro":"Macro","../Utils/Handler":"Handler","./Config/GameConfig":"GameConfig","./Event/EventType":"EventType","./ResMgr":"ResMgr"}],UIConfig:[function(t,e,o){"use strict";cc._RF.push(e,"f519eiYNvlNdZFyTYKrOevW","UIConfig"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.UIFullAward={prefabUrl:"Fixed/UIFullAward",type:"UIFixed",bundlePath:"UI"},t.UIOptions={prefabUrl:"Fixed/UIOptions",type:"UIFixed",bundlePath:"UI"},t.UIFight={prefabUrl:"Screen/UIFight",type:"UIScreen",bundlePath:"UI"},t.UIMain={prefabUrl:"Screen/UIMain",type:"UIScreen",bundlePath:"UI"},t.UILoading={prefabUrl:"Tips/UILoading",type:"UITips",bundlePath:"UI"},t.UIAward={prefabUrl:"Windows/UIAward",type:"UIWindow",bundlePath:"UI"},t.UINoPrizes={prefabUrl:"Windows/UINoPrizes",type:"UIWindow",bundlePath:"UI"},t.UIPrizes={prefabUrl:"Windows/UIPrizes",type:"UIWindow",bundlePath:"UI"},t.UIRimless={prefabUrl:"Windows/UIRimless",type:"UIWindow",bundlePath:"UI"},t.UIDownView={prefabUrl:"Forms/Fixed/UIDownView",type:"UITips",bundlePath:"Commons"},t.UIFeedback={prefabUrl:"Forms/Windows/UIFeedback",type:"UIWindow",bundlePath:"Commons"},t.UIRewardModel={prefabUrl:"Forms/Windows/UIRewardModel",type:"UIWindow",bundlePath:"Commons"},t.UIRule={prefabUrl:"Forms/Windows/UIRule",type:"UIWindow",bundlePath:"Commons"},t}();o.default=n,cc._RF.pop()},{}],UIData:[function(t,e,o){"use strict";cc._RF.push(e,"1a51dNospFBIZlb7DYcrpdk","UIData"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../Global/EnumDefine");o.default=function(){this.needFitScreen=!1,this.closeType=n.EnumDefine.ECloseType.CloseAndHide},cc._RF.pop()},{"../Global/EnumDefine":"EnumDefine"}],UIFight_Auto:[function(t,e,o){"use strict";cc._RF.push(e,"f0149w5pTlCQ7+4PywbXbZo","UIFight_Auto");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./../../Components/List"),a=cc._decorator,s=a.ccclass,l=a.property,u=a.menu,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scoreList=null,e.game=null,e.slots=null,e.propList=null,e}return i(e,t),r([l(c.default)],e.prototype,"scoreList",void 0),r([l(cc.Node)],e.prototype,"game",void 0),r([l(cc.Node)],e.prototype,"slots",void 0),r([l(c.default)],e.prototype,"propList",void 0),r([s,u("AUTO_UI/UIFight_Auto")],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./../../Components/List":"List"}],UIFight:[function(t,e,o){"use strict";cc._RF.push(e,"ebb1e24IkdGR5rAy8Si58RI","UIFight");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../AutoScripts/Ref"),l=t("../Components/ButtonPlus"),u=t("../Frame/UIForms/UIScreen"),p=t("../Global/Macro"),h=t("../Logic/Slot/Slot"),f=t("../Utils/AsyncUtils"),d=cc._decorator,_=d.ccclass,y=(d.property,d.menu),v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._curSlot=null,e._conditions=null,e}return i(e,t),e.prototype.onInit=function(){},e.prototype.onPreLoad=function(){},e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.onEnable=function(){this._conditions=p.Macro.game.level.lvInfo.conditions,this.ui.scoreList.numItems=this._conditions.length,this.ui.propList.numItems=s.PropRef.dataList.length;for(var t=this._openParam,e=0,o=t.length;e<o;e++){var n=t[e];n.getComponent(l.default).addClick(this.onClick,this),n.node.parent=this.ui.slots}},e.prototype.showEffect=function(){return c(this,void 0,void 0,function(){return a(this,function(){return[2]})})},e.prototype.onAfterShow=function(){},e.prototype.hideEffect=function(){return c(this,void 0,void 0,function(){return a(this,function(){return[2]})})},e.prototype.onAfterHide=function(){},e.prototype.onHide=function(){this.ui.slots.removeAllChildren()},e.prototype.toMain=function(){p.Macro.game.exitLevel()},e.prototype.onClick=function(t){return c(this,void 0,void 0,function(){var e,o,n,i;return a(this,function(r){switch(r.label){case 0:return(e=t.target.getComponent(h.default)).lock?[2]:this._curSlot?e!=this._curSlot?[3,1]:(e.node.getChildByName("selected").active=!1,[3,7]):[3,8];case 1:if(!(o=this._curSlot.ejectCoins()))return[2];if(e.coins.length>=10&&p.Macro.ui.showMsg("\u8d85\u8fc710\u4e2a\u4e0d\u80fd\u79fb\u52a8"),(!(n=e.ejectCoins())||n[0].coinId!=o[0].coinId)&&n)return[3,6];i=0,r.label=2;case 2:return i<o.length?[4,f.delay(150*i)]:[3,5];case 3:r.sent(),e.putCoin(o[i]),r.label=4;case 4:return i++,[3,2];case 5:return this._curSlot.node.getChildByName("selected").active=!1,p.Macro.game.level.saveStateStep(),[3,7];case 6:return p.Macro.ui.showMsg("\u53ea\u80fd\u79fb\u52a8\u76f8\u540c\u989c\u8272\u7684"),[2];case 7:return this._curSlot=null,[3,9];case 8:e.node.getChildByName("selected").active=!0,this._curSlot=e,r.label=9;case 9:return[2]}})})},e.prototype.onListRender=function(t,e){var o=this._conditions[e];t.getComponentInChildren(cc.Sprite).spriteFrame=new cc.SpriteFrame(p.Macro.res.getDynamicRes(s.CoinRef.data[o.id].icon,cc.Texture2D)),t.getComponentInChildren(cc.Label).string=""+o.count},e.prototype.onListSelected=function(){},e.prototype.onPropListRender=function(t,e){var o=s.PropRef.dataList[e];t.getChildByName("name").getComponent(cc.Label).string=o.name,t.getComponent(l.default).addClick(function(){p.Macro.game.level.backStep(),cc.log(o.name)},this)},r([_,y("CREATE_UI/UIFight")],e)}(u.default);o.default=v,cc._RF.pop()},{"../AutoScripts/Ref":"Ref","../Components/ButtonPlus":"ButtonPlus","../Frame/UIForms/UIScreen":"UIScreen","../Global/Macro":"Macro","../Logic/Slot/Slot":"Slot","../Utils/AsyncUtils":"AsyncUtils"}],UIFixed:[function(t,e,o){"use strict";cc._RF.push(e,"bf7dfscnLNJ4qcNStaDON1l","UIFixed");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../UIBase"),a=t("../../Global/EnumDefine").EnumDefine.EUIType,s=cc._decorator,l=s.ccclass,u=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uiType=a.Fixed,e}return i(e,t),Object.defineProperty(e.prototype,"ui",{get:function(){return this._ui},enumerable:!1,configurable:!0}),r([l],e)}(c.default));o.default=u,cc.UIFixed=u,cc._RF.pop()},{"../../Global/EnumDefine":"EnumDefine","../UIBase":"UIBase"}],UIForm:[function(t,e){"use strict";cc._RF.push(e,"55099eZnxRP1aUsCLCn7pkN","UIForm"),cc._RF.pop()},{}],UIFullAward_Auto:[function(t,e,o){"use strict";cc._RF.push(e,"beb5cNG6iNIxo7B8N5blBOQ","UIFullAward_Auto");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./../../Components/ButtonPlus"),a=t("./../../Components/List"),s=cc._decorator,l=s.ccclass,u=s.property,p=s.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.back=null,e.list=null,e}return i(e,t),r([u(c.default)],e.prototype,"back",void 0),r([u(a.default)],e.prototype,"list",void 0),r([l,p("AUTO_UI/UIFullAward_Auto")],e)}(cc.Component);o.default=h,cc._RF.pop()},{"./../../Components/ButtonPlus":"ButtonPlus","./../../Components/List":"List"}],UIFullAward:[function(t,e,o){"use strict";cc._RF.push(e,"3d5886CD9BOqa7sorIYATUR","UIFullAward");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Components/Gif/SpriteGif"),a=t("../Components/ListItem"),s=t("../Frame/AdapterMgr"),l=t("../Frame/UIForms/UIFixed"),u=t("../Utils/ComTools"),p=cc._decorator,h=p.ccclass,f=(p.property,p.menu),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._isAddStep=!1,e}return i(e,t),e.prototype.start=function(){s.default.inst.adapteByType(s.EAdapterType.StretchWidth|s.EAdapterType.StretchHeight,this.node),this._rewards=window.HdAd.getMyRewards(),this.ui.list.numItems=this._rewards.length},e.prototype.onShow=function(){this._isAddStep=!1},e.prototype.onClose=function(){this.hide()},e.prototype.onHide=function(){},e.prototype.onListRender=function(t,e){var o=this._rewards[e],n=t.getComponent(a.default);n.title.string=o.name;var i=(JSON.parse(localStorage.getItem("installList"))||[]).indexOf(o.appId)>=0;n.btn.interactable=!i;var r=n.icon.getComponent(c.SpriteGif)||n.icon.addComponent(c.SpriteGif);u.ComTools.setRemoteTexture(r,o.img)},e.prototype.onListSelected=function(){},e.prototype.onTouchUp=function(){},r([h,f("CREATE_UI/UIMyAward")],e)}(l.default);o.default=d,cc._RF.pop()},{"../Components/Gif/SpriteGif":"SpriteGif","../Components/ListItem":"ListItem","../Frame/AdapterMgr":"AdapterMgr","../Frame/UIForms/UIFixed":"UIFixed","../Utils/ComTools":"ComTools"}],UILoading_Auto:[function(t,e,o){"use strict";cc._RF.push(e,"7e6dbcz91VOUZowWndrVWdR","UILoading_Auto");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,l=c.menu,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labShow=null,e}return i(e,t),r([s(cc.Label)],e.prototype,"labShow",void 0),r([a,l("AUTO_UI/UILoading_Auto")],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],UILoading:[function(t,e,o){"use strict";cc._RF.push(e,"00f53uvMHtFOJR7xi3h7QBZ","UILoading");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../Frame/AdapterMgr"),l=t("../Frame/UIForms/UITips"),u=t("../Global/Macro"),p=cc._decorator,h=p.ccclass,f=(p.property,p.menu),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onInit=function(){},e.prototype.onPreLoad=function(){},e.prototype.onLoad=function(){this.ui.labShow.string=""+this._openParam,s.default.inst.adapteByType(s.EAdapterType.StretchWidth|s.EAdapterType.StretchHeight,this.node)},e.prototype.start=function(){},e.prototype.onEnable=function(){},e.prototype.onShow=function(){u.Macro.ui.setInputBlock(!0)},e.prototype.showEffect=function(){return c(this,void 0,void 0,function(){return a(this,function(){return[2]})})},e.prototype.onAfterShow=function(){},e.prototype.hideEffect=function(){return c(this,void 0,void 0,function(){return a(this,function(){return[2]})})},e.prototype.onAfterHide=function(){},e.prototype.onHide=function(){u.Macro.ui.setInputBlock(!1)},r([h,f("CREATE_UI/UILoading")],e)}(l.default);o.default=d,cc._RF.pop()},{"../Frame/AdapterMgr":"AdapterMgr","../Frame/UIForms/UITips":"UITips","../Global/Macro":"Macro"}],UIMain_Auto:[function(t,e,o){"use strict";cc._RF.push(e,"137c2W34k1OMqQJO8GJ8gQb","UIMain_Auto");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,l=c.menu,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pro=null,e}return i(e,t),r([s(cc.Node)],e.prototype,"pro",void 0),r([a,l("AUTO_UI/UIMain_Auto")],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],UIMain:[function(t,e,o){"use strict";cc._RF.push(e,"d81121MUPlJRbNTQq6VrNBm","UIMain");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../Frame/UIForms/UIScreen"),l=t("../Global/Macro"),u=cc._decorator,p=u.ccclass,h=(u.property,u.menu),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onInit=function(){},e.prototype.onPreLoad=function(){},e.prototype.onLoad=function(){},e.prototype.onShow=function(){return c(this,void 0,void 0,function(){return a(this,function(){return[2]})})},e.prototype.start=function(){},e.prototype.onEnable=function(){var t=this,e=function(){t.flip(t.ui.pro,2,null,e)};e()},e.prototype.showEffect=function(){return c(this,void 0,void 0,function(){return a(this,function(){return[2]})})},e.prototype.onAfterShow=function(){},e.prototype.hideEffect=function(){return c(this,void 0,void 0,function(){return a(this,function(){return[2]})})},e.prototype.onAfterHide=function(){},e.prototype.onHide=function(){},e.prototype.toFight=function(){l.Macro.game.enterLevel()},e.prototype.flip=function(t,e,o,n){return new Promise(function(i){var r=cc.tween,c=e/2,a=t.scale,s=a>0?20:-20;r(t).parallel(r().to(c,{scaleX:0},{easing:"quadIn"}),r().to(c,{skewY:-s},{easing:"quadOut"})).call(function(){o&&o()}).parallel(r().to(c,{scaleX:-a},{easing:"quadOut"}),r().to(c,{skewY:0},{easing:"quadIn"})).call(function(){n&&n(),i()}).start()})},r([p,h("CREATE_UI/UIMain")],e)}(s.default);o.default=f,cc._RF.pop()},{"../Frame/UIForms/UIScreen":"UIScreen","../Global/Macro":"Macro"}],UIMask:[function(t,e,o){"use strict";cc._RF.push(e,"b3fc5w7ortKLp6t4fN5j4Sx","UIMask");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../Components/ButtonPlus"),l=t("../Global/EnumDefine"),u=t("../Global/Macro"),p=l.EnumDefine.EMaskOpacity,h=t("./Config/GameConfig"),f=cc._decorator,d=f.ccclass,_=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._texture=null,e.fid="",e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.node.addComponent(s.default).addClick(this._clickMaskWindow,this);var e=this.node.addComponent(cc.Sprite);u.Macro.res.loadRes(h.GameConfig.DYNAMIC_BUNDLE,"Texture/Com/bai",function(o,n){e.spriteFrame=new cc.SpriteFrame(n),t.node.color=cc.Color.BLACK;var i=cc.view.getVisibleSize();t.node.height=i.height,t.node.width=i.width})},e.prototype._clickMaskWindow=function(){return c(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return(t=u.Macro.ui.getForm(this.fid))&&t.clickMaskClose?[4,u.Macro.ui.close(this.fid)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},e.prototype._getSingleTexture=function(){if(this._texture)return this._texture;for(var t=new Uint8Array(16),e=0;e<2;e++)for(var o=0;o<2;o++)t[8*e+4*o+0]=255,t[8*e+4*o+1]=255,t[8*e+4*o+2]=255,t[8*e+4*o+3]=255;var n=new cc.Texture2D;return n.name="single color",n.initWithData(t,cc.Texture2D.PixelFormat.RGBA8888,2,2),n.handleLoadedTexture(),this._texture=n,n.addRef(),this._texture},e.prototype.showModal=function(t){var e=0;switch(t){case p.None:this.node.active=!1;break;case p.OpacityZero:e=0;break;case p.OpacityLow:e=63;break;case p.OpacityHalf:e=126;break;case p.OpacityHigh:e=189;break;case p.OpacityFull:e=255}this.node.active&&(this.node.opacity=e)},r([d],e)}(cc.Component));o.default=_,cc._RF.pop()},{"../Components/ButtonPlus":"ButtonPlus","../Global/EnumDefine":"EnumDefine","../Global/Macro":"Macro","./Config/GameConfig":"GameConfig"}],UIMgr:[function(t,e,o){"use strict";cc._RF.push(e,"96a116i+glOMKlEOMEhnvXh","UIMgr");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Components/Msg"),s=t("../Global/EnumDefine"),l=t("../Global/Macro"),u=t("../Utils/Dictionary"),p=t("./AdapterMgr"),h=t("./Config/Const"),f=t("./Config/GameConfig"),d=t("./Event/EventType"),_=t("./LRUCache"),y=t("./UIBase"),v=t("./UIMask"),g=s.EnumDefine.EUIType,m=s.EnumDefine.ECloseType,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._ndScreen=null,e._ndFixed=null,e._ndPopUp=null,e._ndTips=null,e._LRUCache=new _.LRUCache(f.GameConfig.LRU_CACHE_MAX_SIZE),e._allUIDic=new u.Dictionary,e._showingUIDic=new u.Dictionary,e._windows=[],e._loadingDic=new u.Dictionary,e._maskUI=null,e._msgPrefab=null,e._msgPool=null,e._block=0,e._ndBlock=null,e}return i(e,t),e.prototype.onLoad=function(){var t=this,e=this.node;e.addChild(this._ndScreen=new cc.Node(h.Const.SYS_SCREEN_NODE)),e.addChild(this._ndFixed=new cc.Node(h.Const.SYS_FIXED_NODE)),e.addChild(this._ndPopUp=new cc.Node(h.Const.SYS_POPUP_NODE)),e.addChild(this._ndTips=new cc.Node(h.Const.SYS_TOPTIPS_NODE)),this._maskUI=new cc.Node("uimask").addComponent(v.default),this._msgPool=new cc.NodePool,l.Macro.res.loadRes(f.GameConfig.DYNAMIC_BUNDLE,f.GameConfig.DEFAULT_MSG,function(e,o){t._msgPrefab=o}),this._ndBlock=new cc.Node("block"),this._ndBlock.addComponent(cc.BlockInputEvents),this._ndBlock.active=!1,e.addChild(this._ndBlock,cc.macro.MAX_ZINDEX),this._ndBlock.width=e.width,this._ndBlock.height=e.height,cc.view.setResizeCallback(this._changeCanvasSize.bind(this))},e.prototype.open=function(t,e){return r(this,void 0,Promise,function(){var o,n;return c(this,function(i){switch(i.label){case 0:return(o=this._allUIDic.getValue(t.prefabUrl))?[3,2]:this._loadingDic.getValue(t.prefabUrl)?(l.Macro.log.logError(""+t.prefabUrl,"\u6b63\u5728\u52a0\u8f7d\u4e2d:"),[2,null]):(this._loadingDic.setValue(t.prefabUrl,t),[4,this._loadUI(t)]);case 1:if(o=i.sent(),this._loadingDic.remove(t.prefabUrl),!o)return l.Macro.log.logError(""+t.prefabUrl,"\u52a0\u8f7d\u5931\u8d25:"),[2,null];(n=o.node).active=!1,this._adaptUI(t.type,n),i.label=2;case 2:return o.node.active?(l.Macro.log.logError(""+t.prefabUrl,"\u7a97\u4f53\u6b63\u5728\u663e\u793a\u4e2d:"),[2]):[4,o._baseOnInit(t.prefabUrl,e)];case 3:return i.sent(),[4,this._enterUI(o)];case 4:return i.sent(),[2,o]}})})},e.prototype._adaptUI=function(t,e){switch(t){case g.Screen:this._ndScreen.addChild(e),p.default.inst.adapteByType(p.EAdapterType.StretchHeight|p.EAdapterType.StretchWidth,e);break;case g.Fixed:e.addComponent(cc.BlockInputEvents),this._ndFixed.addChild(e);break;case g.Window:this._ndPopUp.addChild(e);break;case g.Tips:this._ndTips.addChild(e)}},e.prototype._enterUI=function(t){return r(this,void 0,void 0,function(){var e,o;return c(this,function(n){switch(n.label){case 0:switch(t.uiType){case g.Screen:return[3,1];case g.Fixed:return[3,3];case g.Window:return[3,4];case g.Tips:return[3,5]}return[3,6];case 1:return e=[],this._showingUIDic.forEach(function(t,o){e.push(o.hide())}),[4,Promise.all(e)];case 2:return n.sent(),this._showingUIDic.clear(),this._showingUIDic.setValue(t.fid,t),[3,6];case 3:return this._showingUIDic.setValue(t.fid,t),[3,6];case 4:for(this._windows.push(t),o=0;o<this._windows.length;o++)this._windows[o].node.zIndex=o+1;return this._checkUIMask(),this._showingUIDic.setValue(t.fid,t),[3,6];case 5:return[3,6];case 6:return[4,t._baseOnShow()];case 7:return n.sent(),[2]}})})},e.prototype.close=function(t,e){return r(this,void 0,void 0,function(){var o,n;return c(this,function(i){switch(i.label){case 0:return(o=this._allUIDic.getValue(t))?[4,o._baseOnHide(e)]:[2,!1];case 1:switch(i.sent(),o.uiType){case g.Screen:case g.Fixed:break;case g.Window:for(n=this._windows.length-1;n>=0;n--)this._windows[n].fid===t&&this._windows.splice(n,1);this._checkUIMask();break;case g.Tips:}switch(o.closeType){case m.CloseAndDestory:if(!o.node.isValid)return[2];this._allUIDic.remove(t),o._baseOnDestroy(),o.node.destroy(),l.Macro.res.destoryRes(t,f.GameConfig.UI_BUNDLE);break;case m.CloseAndHide:break;case m.LRU:this._putLRUCache(o)}return[2]}})})},e.prototype._loadUI=function(t){return r(this,void 0,Promise,function(){var e,o;return c(this,function(n){switch(n.label){case 0:return(e=l.Macro.res.getRes(f.GameConfig.UI_BUNDLE,t.prefabUrl,cc.Prefab))?[3,2]:[4,l.Macro.res.loadResAsync(f.GameConfig.UI_BUNDLE,t.prefabUrl)];case 1:e=n.sent(),n.label=2;case 2:return(o=cc.instantiate(e).getComponent(y.default))?(this._allUIDic.setValue(t.prefabUrl,o),[2,o]):(l.Macro.log.logError(t.bundlePath+"/"+t.prefabUrl+" \u7ed3\u70b9\u6ca1\u6709\u7ed1\u5b9aUIBase"),[2,null])}})})},e.prototype.checkFormShowing=function(t){var e=this._allUIDic.getValue(t);return!!e&&e.node.active},e.prototype.getForm=function(t){return this._allUIDic.getValue(t)},e.prototype._checkUIMask=function(){var t=this._windows;if(this._windows.length<=0)this._maskUI.node.active=!1;else{this._maskUI.node.active=!0,this._maskUI.node.parent&&this._maskUI.node.removeFromParent();for(var e=t.length-1;e>=0;e--)if(t[e].maskOpacity>0){var o=t[e];this._maskUI.fid=o.fid,this._ndPopUp.addChild(this._maskUI.node,Math.max(t[e].node.zIndex-1,0)),this._maskUI.showModal(o.maskOpacity);break}}},e.prototype._putLRUCache=function(t){if(this._LRUCache.put(t.fid),this._LRUCache.needDelete()){var e=this._LRUCache.deleteLastNode();if(e){l.Macro.log.logBusiness("close form id:"+e,this._LRUCache.toString());var o=this.getForm(e);if(!o||!o.node)return;o&&(this._allUIDic.remove(o.fid),o._baseOnDestroy(),o.node.destroy(),l.Macro.res.destoryRes(o.fid,f.GameConfig.UI_BUNDLE))}}},e.prototype.showMsg=function(t){var e=this,o=this._msgPool.get()||cc.instantiate(this._msgPrefab),n=o.getComponent(a.default);n.callBack=function(){e._msgPool.put(o)},n.msg=t,l.Macro.root.addChild(o)},e.prototype.setInputBlock=function(t){this._ndBlock?(t?++this._block:--this._block,this._ndBlock.active=this._block>0):cc.warn("\u672a\u542f\u7528 block input")},e.prototype._changeCanvasSize=function(){var t=cc.view.getVisibleSize();this._ndBlock.width=t.width,this._ndBlock.height=t.height,this._maskUI.node.width=t.width,this._maskUI.node.height=t.height;for(var e=this._ndScreen.children,o=e.length;--o>=0;)p.default.inst.adapteByType(p.EAdapterType.StretchHeight|p.EAdapterType.StretchWidth,e[o]);l.Macro.event.emit(d.EventType.ChangeCanvasSize)},e}(cc.Component);o.default=b,cc._RF.pop()},{"../Components/Msg":"Msg","../Global/EnumDefine":"EnumDefine","../Global/Macro":"Macro","../Utils/Dictionary":"Dictionary","./AdapterMgr":"AdapterMgr","./Config/Const":"Const","./Config/GameConfig":"GameConfig","./Event/EventType":"EventType","./LRUCache":"LRUCache","./UIBase":"UIBase","./UIMask":"UIMask"}],UINoPrizes_Auto:[function(t,e,o){"use strict";cc._RF.push(e,"79721h5H6tP2JbRGFHyKwVU","UINoPrizes_Auto");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=(c.property,c.menu),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),r([a,s("AUTO_UI/UINoPrizes_Auto")],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],UINoPrizes:[function(t,e,o){"use strict";cc._RF.push(e,"84fa04gjj9NSrM+/gno671t","UINoPrizes");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Frame/UIForms/UIWindow"),a=cc._decorator,s=a.ccclass,l=(a.property,a.menu),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onHide=function(){},r([s,l("CREATE_UI/UINoPrizes")],e)}(c.default);o.default=u,cc._RF.pop()},{"../Frame/UIForms/UIWindow":"UIWindow"}],UIOptions_Auto:[function(t,e,o){"use strict";cc._RF.push(e,"06aeajYqaNPrKLadTYoo1dx","UIOptions_Auto");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../Components/ButtonPlus"),a=cc._decorator,s=a.ccclass,l=a.property,u=a.menu,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.myPrizes=null,e.rule=null,e.kefu=null,e}return i(e,t),r([l(c.default)],e.prototype,"myPrizes",void 0),r([l(c.default)],e.prototype,"rule",void 0),r([l(c.default)],e.prototype,"kefu",void 0),r([s,u("AUTO_UI/UIOptions_Auto")],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../Components/ButtonPlus":"ButtonPlus"}],UIOptions:[function(t,e,o){"use strict";cc._RF.push(e,"c7a57kQKIhObKwVwnoZY8DM","UIOptions");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../AutoScripts/UIConfig"),a=t("../Frame/AdapterMgr"),s=t("../Frame/UIForms/UIFixed"),l=t("../Global/EnumDefine"),u=t("../Global/Macro"),p=l.EnumDefine.EOption,h=cc._decorator,f=h.ccclass,d=(h.property,h.menu),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){a.default.inst.adapteByType(a.EAdapterType.Left,this.node,10),a.default.inst.adapteByType(a.EAdapterType.Top,this.node,50)},e.prototype.onShow=function(){var t,e=this._openParam;if((null==e?void 0:e.length)>0){var o=e.indexOf(p.Prize)>=0,n=e.indexOf(p.Rule)>=0,i=1==(null===(t=u.Macro.sdk.meta)||void 0===t?void 0:t.fb)&&e.indexOf(p.Feedback)>=0;this.ui.node.children[p.Prize].active=o,this.ui.node.children[p.Rule].active=n,this.ui.node.children[p.Feedback].active=i}},e.prototype.onFeedback=function(){u.Macro.ui.open(c.default.UIFeedback)},e.prototype.showUIRule=function(){u.Macro.ui.open(c.default.UIRule)},e.prototype.showUIMyAward=function(){u.Macro.ui.open(c.default.UIFullAward)},r([f,d("CREATE_UI/UIOptions")],e)}(s.default);o.default=_,cc._RF.pop()},{"../AutoScripts/UIConfig":"UIConfig","../Frame/AdapterMgr":"AdapterMgr","../Frame/UIForms/UIFixed":"UIFixed","../Global/EnumDefine":"EnumDefine","../Global/Macro":"Macro"}],UIPrizes_Auto:[function(t,e,o){"use strict";cc._RF.push(e,"c88bb94AsxN6qLwpC5rf/1Y","UIPrizes_Auto");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,l=c.menu,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prize=null,e.ad=null,e.area=null,e.mask=null,e.scratch=null,e}return i(e,t),r([s(cc.Node)],e.prototype,"prize",void 0),r([s(cc.Sprite)],e.prototype,"ad",void 0),r([s(cc.Node)],e.prototype,"area",void 0),r([s(cc.Mask)],e.prototype,"mask",void 0),r([s(cc.Node)],e.prototype,"scratch",void 0),r([a,l("AUTO_UI/UIPrizes_Auto")],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],UIPrizes:[function(t,e,o){"use strict";cc._RF.push(e,"19e88HjfUxOs5D+qXVmX81C","UIPrizes");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../Components/Gif/SpriteGif"),l=t("../Frame/UIForms/UIWindow"),u=t("../Global/Macro"),p=t("../Utils/ComTools"),h=cc._decorator,f=h.ccclass,d=(h.property,h.menu),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._tempDrawPoints=[],e._polygonPointsList=[],e._calcDebugger=!1,e}return i(e,t),e.prototype.onEnable=function(){this._reset()},e.prototype.onShow=function(){var t;return c(this,void 0,void 0,function(){var e,o;return a(this,function(){return e=this._openParam,this._prize=e,window.HdAd.showReward(e.c),o=this.ui.prize.getComponent(s.SpriteGif)||this.ui.prize.addComponent(s.SpriteGif),p.ComTools.setRemoteTexture(o,e.c.img),this.ui.ad.node.active=1==(null===(t=u.Macro.sdk.meta)||void 0===t?void 0:t.admark),this.ui.area.on(cc.Node.EventType.TOUCH_START,this._touchStartEvent,this),this.ui.area.on(cc.Node.EventType.TOUCH_MOVE,this._touchMoveEvent,this),this.ui.area.on(cc.Node.EventType.TOUCH_END,this._touchEndEvent,this),this.ui.area.on(cc.Node.EventType.TOUCH_CANCEL,this._touchEndEvent,this),[2]})})},e.prototype.onHide=function(){var t;this.ui.area.targetOff(this),null===(t=this._hideHandler)||void 0===t||t.runWith(!0)},e.prototype._reset=function(){this.ui.mask.node.active=!0,this.ui.mask._graphics.clear(),this._tempDrawPoints=[],this._polygonPointsList=[],this.ui.area.getComponent(cc.Graphics).clear();for(var t=0;t<this.ui.area.width;t+=100)for(var e=0;e<this.ui.area.height;e+=100)this._polygonPointsList.push({rect:cc.rect(t-this.ui.area.width/2,e-this.ui.area.height/2,100,100),isHit:!1})},e.prototype._touchStartEvent=function(t){var e=this.ui.area.convertToNodeSpaceAR(t.getLocation());this._clearMask(e)},e.prototype._touchMoveEvent=function(t){var e=this.ui.area.convertToNodeSpaceAR(t.getLocation());this._clearMask(e)},e.prototype._touchEndEvent=function(){this._tempDrawPoints=[],this._calcProgress()},e.prototype._calcProgress=function(){var t=this,e=0,o=this.ui.area.getComponent(cc.Graphics);this._polygonPointsList.forEach(function(n){n.isHit&&(e+=1,t._calcDebugger&&(o.rect(n.rect.x,n.rect.y,n.rect.width,n.rect.height),o.fillColor=cc.color(216,18,18,255),o.fill()))}),e/this._polygonPointsList.length>.1&&(this.ui.mask.node.active=!1,this.ui.area.targetOff(this),this._scratchCompleted())},e.prototype._clearMask=function(t){var e=this.ui.mask._graphics,o=this._tempDrawPoints.length;if(this._tempDrawPoints.push(t),o<=1)e.circle(t.x,t.y,50),e.fill(),this._polygonPointsList.forEach(function(e){if(!e.isHit){var o=t.x>e.rect.x&&t.x<e.rect.x+e.rect.width,n=t.y>e.rect.y&&t.y<e.rect.y+e.rect.height;o&&n&&(e.isHit=!0)}});else{var n=this._tempDrawPoints[o-2],i=this._tempDrawPoints[o-1];e.moveTo(n.x,n.y),e.lineTo(i.x,i.y),e.lineWidth=100,e.lineCap=cc.Graphics.LineCap.ROUND,e.lineJoin=cc.Graphics.LineJoin.ROUND,e.strokeColor=cc.color(255,255,255,255),e.stroke(),this._polygonPointsList.forEach(function(t){t.isHit=t.isHit||cc.Intersection.lineRect(n,i,t.rect)})}},e.prototype._scratchCompleted=function(){var t=this;setTimeout(function(){window.HdAd.clickReward(t._prize.c),t.hide()},1e3)},e.prototype.close=function(){this.hide()},r([f,d("CREATE_UI/UIPrizes")],e)}(l.default);o.default=_,cc._RF.pop()},{"../Components/Gif/SpriteGif":"SpriteGif","../Frame/UIForms/UIWindow":"UIWindow","../Global/Macro":"Macro","../Utils/ComTools":"ComTools"}],UIRimless_Auto:[function(t,e,o){"use strict";cc._RF.push(e,"82a11o4Mk9Bnpg0ARqmZsbQ","UIRimless_Auto");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,l=c.menu,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.img=null,e.ad=null,e.close=null,e}return i(e,t),r([s(cc.Sprite)],e.prototype,"img",void 0),r([s(cc.Node)],e.prototype,"ad",void 0),r([s(cc.Node)],e.prototype,"close",void 0),r([a,l("AUTO_UI/UIRimless_Auto")],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],UIRimless:[function(t,e,o){"use strict";cc._RF.push(e,"73854X2r4pJB6WDnpgyQ93D","UIRimless");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../Components/Gif/SpriteGif"),l=t("../Frame/UIForms/UIWindow"),u=t("../Utils/AsyncUtils"),p=t("../Utils/ComTools"),h=cc._decorator,f=h.ccclass,d=(h.property,h.menu),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._imgRimless=null,e._imgAd=null,e._imgClose=null,e}return i(e,t),e.prototype.onEnable=function(){return c(this,void 0,void 0,function(){var t,e,o;return a(this,function(n){switch(n.label){case 0:t=this._openParam,this._award=t,window.HdAd.showReward(t.c),this.ui.ad.active=!1,e=this.ui.img.getComponent(s.SpriteGif)||this.ui.img.addComponent(s.SpriteGif),p.ComTools.setRemoteTexture(e,t.c.img),n.label=1;case 1:return 0!=this.ui.img.node.width?[3,3]:[4,u.delay(100)];case 2:return n.sent(),[3,1];case 3:return this.ui.ad.active=!0,o=this.ui.img.node.height/this.ui.img.node.width,this.ui.img.node.width=750,this.ui.img.node.height=750*o,this.ui.img.sizeMode=cc.Sprite.SizeMode.CUSTOM,this.ui.ad.getComponent(cc.Widget).updateAlignment(),this.ui.close.getComponent(cc.Widget).updateAlignment(),[2]}})})},e.prototype._initCreate=function(t){var e=new Image;e.src=t.img,e.style.position="absolute",e.style.left="50%",e.style.top="50%",e.style.transform="translate(-50%, -50%)",e.style.width="100%",document.body.appendChild(e),e.onclick=this.onClick.bind(this);var o=new Image;o.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAADuVJREFUeF7tXAmQHFUZ/v/XPdlsdrp7spvEIAIeiagJohgRUQoCQpRLQIkEkUPksIQEoUAOgeJSFBESBQVEAobTAwREA0KkLCzByB0s3CAYFZJsdna6eza7m+1+v/WtPetLZ46d2dksqeJVTe0x3e/973v/+99/Pqat1FauXJmZMWPGjlrrnZVSH2bmKUSEz1Tjp5eQ4xNRFxFtKP0UkQ1a62eUUi+vXr16zZw5cwa3Buk8loOIiDUwMLBTX1/frpZl7S4i+zLzriJiExHGLn2qkSFENPRh5khEnmPmx+I4fqq1tfW5lpaWfzJzPFbzGBOAgiCYIiL7i8h+zDxbRGYxc7aZkxCRIjOvEpEXmflRZn7EdV1wXFNb0wASEQ6CYDIRHSwixzHzh4kIf2+N1iMizzDzrUT0oOu6PcwMrht1awpAYRhOjeN4b2Y+kYj2JCK3BmUiIhuZuV9E+pm5r/Q73mPmiSKCT2vpd2aelGzJal0HRPQnEbnZsqzHHceBHBtVGxVAIpItFAqfUkqdQERziQjbqFKfWNE3iGgVEb0gIn8nom7LsrAtNiilusMwxATJcRxXa90B4R3HMQR5BzO/l4h2IaJZRLRdjXGKRLRCa31LLpf7PTPj74ZawwBt3Lhx+8HBwXOJaAEmUG70RKj+i4iewspqrZ+zLGtVo7ICsi2O41lKqV0TTt2dmXdIhH45ErqJ6M5MJnPlpEmT/tMIQg0B1N3dPcu27e8Q0f5ENCE9MDMPaK07lVLLmPkBrfVaz/PyjRBY6R3f99uVUtNF5BCt9TFKqZki0lLm+U1E9EgURd/o6OgA99bV6gYon89/wrKsq4loDhFZ5mjMDN2kU0TuIaLbOzs7/znW+gr0q5kzZ+5ERF9k5vlEBKAyKRSgBqyM4/is9vb2J+pBqC6AgiDAal3NzDPLDPKa1nqZbdt3Z7PZVc06RUY6GZyixWJxVhRFX1BKHUNE70y/KyLg6rNc131gpP2OGCDf949h5u+KCASk2SB8nyOi81zXfZiZ9UgHH4vnREQFQXAAEX2biCCrNpsjM78hIud4nrdsJOPXBAgr4/v+vkqp20Tk7WnWZebHwbq5XA4ablN0j5EQXu0Z0FwoFKC9Xy0ie5cRBa9rrY/1PO+xWjTXBCgMw9la65uJaPcUUYMi8utMJrOora3t9dFOaize7+3tffvg4OBiZv4sEaXl0lNKqRMdx3mx2thVAcrn8zvatr1ERA5NsWpIREuZ+dJGj+yxAKRcn4nZcxERHQ8Vy3gGtt39URQtbG9vX1OJnooAJR0vJqIvmCwKrZeIlvT3918+bdq0hhWwrQUQxlm/fn124sSJ3ySihdDOjbFxut3NzIsqLXRZgNauXds2ceLEi/FiSs8ZZOalURSd3d7eDpfENtPy+bxn2/ZVIgJOMrfbJhFZ3N/ff8n06dN70xPaAqBEwB2qlILcMTVkLSL3W5Z1cjNsnPFANrEZb2RmiAxl0NCttT4xl8vdnxbaWwAUBEGHiNxCRIekJvHkpk2bjps6derL4zG5Zo3Z1dW184QJE2D1fyzV5wPMfILrujBPhttmAEGH8H3/c0R0MzMPCzQReY2IToLh1yxCx7MfGNhEdBMzDyuTIoKD50TP835p6nKbAQT7BiYCEX3amEAEpevpp5++dO7cufh9m28rVqywd9ttN5xs5xERvJul9juYLKbdmAboWBG5zvT+MfNLURQd1d7e/sI2j4wxgXw+v4tt23eJyAdK/068lF/zPO+20v+GAQrDcJrW+g4i2s/oB8bn5a7rXlZL49zWwEs8oBcSEY5/81R7VCl1tOM46zGnYYB8318gIj9i5lJkAZ6950Xk857ndW5rAIyEXt/3ZzLzL0TkgwYX+cz8Vc/z7hwGCO6BIAhuJKLjDNBiZv6m4zhXNSNqAGVtzZo1A81wfyTujAwzbxwJEJWeQdQlDMOzReRyQxmGPXmr67onw30zxEFBEOwsIncR0YcMJNdYlnWg4zh1O5lMgjo7O1umTJmyB+weZn7Rtu3bG/Xuod8NGza8L5PJHCki21uWBdfKn+CgaxSoMAxnxXH8EDPvaPTxLDMf5bruy0MAFQqFI5n5p4lPeeg5EblPKfWVtF5QDyHY5/l8fp5t2xB6U8CJWmuoCqflcrlX6ukLz+bz+U8qpXCIzE44vaCUOsJxnD/U21fpeeh9WuufMPNhRh9FEflyLpf7OSN6EAQBfCdnpAY5c/ny5Uvmz5/fcFCuq6vLyWQytzAzdKtSg0a+nJkXep63eqQTC4JgT6319Qg8Gu8gkHiN53nfaPQQueeee6x58+YtJKLvp2i51nXd87i/v3/GwMAAXKSIY5XaehFZkMvlHhvpBMo9l4Sbv87M30r5ZAD6wzAea4EELuzp6dkz4RwTHAzZy8ynu64Lzb/hVigUEPGFUJ5mdPJMS0vLfDjDDmLmX4nIsPNdRB4fHBxcMHXqVIRpRtW6u7t3sG37BiKCl8/0YYOTHmHm06qBFATBJ4joehFByMfU2+C5/L1lWcdms9l1oyGyq6tru0wmcyczw7k21JgZRuwR8LxdAL+OYbzh9Frsuu5ZoxnUfNf3/RkisoSZ56WMRIAETiorkyBzbNu+zjyGk34BzmNRFC3q6Oh4qRl0BkEA7yO8F6VFBG0XgYOuAasbhPeKCFyoWPWmtUKh8B4i+iEzg5NMS7qsTKogc0DPEDhKqUWO4zQFHHRaKBROYWZEa9qMRVgCgH4G+8Ng324ROTWXy/2iaegkHSWcBJAQTzNB2kwmIbRUQeYAnBXwAjaLc0pzLBQKn2fmHxsuHuhDtwMgGGhg/aEmIv+xLOuY0Ryd1YAFSPBIlpNJRPQbpdS1CC2ViUiA01ZYlnW64zh/a/bihWG4TxzHCHRub/S9HACtJKKPGP98RSl1WC1n9mgIrCSTEsH4byJ6VxmB3FSZk6Y/CU7cR0QQBaX2VwhpJCANa5HQdi3LOqCtrW3UJ1g1EKvIpPRrYyJz0oP09vZuF8fxwyICJbS0m9aAgwpENGygIkTb19e3Tzn/7Gi4pty7yXa7BjKpSlwdAvnMsdhWJk3ww7e2tkIjR0i91PxxBQhUFIvF/eI4xolpsnZpBV9L9KTfNHtx0v1VBGi8thgIhBIoIj8kIrgbzFOtRD8E80uWZS3KZrMrGjUnRgJutS221YV0Ak4526rsXJCHONYgVRTSW/uYr2FbIZz9enJopCMuSNiE7TYmnFTtmN9qimJpW1WyrWB2MDMUyW8ntleao14SkdPHAqRqiuJWMTUw01q2lVJqIU6rMAz3jeMYSQfDR24JKaT+wlXSbJlU0dQoZ6wS0WLP85pmrNaQOVvoOUky1FwYuMixTrPRWMgk3/ehvW9prObz+YNs297M3QE3QuLZH3UaLYKRPT09H6/XtkrykuYy8w+IaDg0Y4DVNJmEkHQS0UFAcahBq4+i6Ahet27du1tbW+8QETMUC0EJn+wfR3JEVnsmDMMPiAj6x1G+mT+nlm1lgATbbQtOIqJniejIWk63WnMIgmCvxCc/nCDGzE/29fUdDZfrhDAML0NamtERLNkzXNeFwGw4pQ59B0GACOb5jdpWpe1WQSb1E9G5ruvC19RQdluSsncaEV1r0oh0Q8dxLhxa0Z6ensOVUnBbDpscIvJzIjoll8v11FqBSt+LyCTf969l5pOMZ+q2rSrJJGTnE9FFjuN8r1GACoUCyiVuYOYjDRp9rfUJkydPvrcU1Xg3MyPs81HjoVeVUgePxilVym9kZiQpIXse+UVPRFF0Rr3+HGO7QZgi694WkXVKqQWu69aV2msuKESA1vrBxINQ+uovInJULpf7xxBACKD5vo+8GSQXlVT+pgQOsc2KxeLH4zg+iIhezWQy9zXqKUhAwmKiL9SZPeG6LhIxkSxed6sQOIR5s9TzPAQOYzP0fBQR/YiIcoYkb1roGZNrdBuUm3kz+isXeob3lYgQesaO+v+p8lbywvAylE9ewNe+77+V/sJcPv0lAahiApXrupc0I4mhbkExBi9A9gRBcHHdCVTVUvCQEuK6LkLGDekbYzDPhrpM8oLmJak+9aXgYcQqSZzPWpZ1fDabRV3GNtuKxeKucRwvNTNZksnUTuJMjnwOw/BQlDWWKZR7dNOmTV9qRkh6PBBGiHnChAlw75hZdCClG+WkjuPUTgPG00h2amlpQcbHKan0NOhG9xLRqaNJixkPcLAziOjHInJ4KkcAaYY3DAwMnFeucqBiKUJScolI44Epf3HVDsdj8rXGrLLgMHseymQyp1ZK6qpVzDLbsqybiGiPFBEBhJyIXDl58mQoVm/a1tPTk2Pmc3HIlKnG/nMcxye1t7dXrPipWQ6FyIPWGpU9CBmbDSXdP7Ms64I3a2lCUnpwBTN/iYgmmsSLyGql1PG17LiaACXugM8QEax92D9mg/GJmBVcDm+qEgXkXRLRlSICuy1dKwZHIMoOflvLnVMToBIaKMkkoiuIyEx2HDr4iOhJEbkwqeBr2H/UjH2a6HLIGLssqcdIzxG1YRc0rSTTJBo1Dkk6HcKz6YFRz7FMKTWuRb1aa9S3lSvqxUKuFJHz66k5GTEHlYBC2qyIfEtEcLqZdQ7w475Zy8IjZkaq7/n1pjXXDdCQVvW/vMPvMPPhyJJNb43UxQIPwrHlOA6UsaaYKTAXwjDEdRVvE5GDq10skNwJcm9ysQBugairNQQQRkDJJhGdg3ziSldTEBEyx/4tIk8z8x9F5AXbtl/MZrNr66IyebhYLE6Pomg2M+8iInsx825E9I50VbPRNxYF+d/fbbS2tmGAhqSzSFuhUNh/hJeb4BWkF69SSj2jta7rchOl1Hu11ri5CtENM103jTW41LzcBJm0W5RajnSBRgWQIZfeuh6nFuJvXbBUCyHj+6SkHOm+yGb9oIi8n5nNcuw6eiv/qIjgUiYkcz6P212Y+eFG5Uw1YpqyxSoNgHt9uru7Z9i2vQsz75Fc8oYwMpK1MXbpU43G4UveIPSRUIVL3kTkz1EUvdDR0bEa9xSNGvEKHYwpQOaYyEEMw3AnEcH1NR9q5JpAZkaZUqfjOEg8bbgEqh4w/wuGQV5n0MfLqQAAAABJRU5ErkJggg==",o.style.position="absolute",o.style.right="0",document.body.appendChild(o),o.onclick=this.onClose.bind(this),o.style.visibility="hidden",window.HdAd.setTimeout(function(){o.style.visibility="visible"},2e3);var n=new Image;n.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHMAAAAaCAMAAACzZpNGAAABQVBMVEX///8AAAAKCgoEBAQKrs38/Pze3t4XFxfp6ekREREjIyOJiYliYmL5+flpzd/19fU5OTl1dXUHBwdZWVkbGxsnJycwMDCRkZHV1dXf9Pjj4+Pv7+9vb299fX2Ghoa3t7fAwMDMzMwFrMsgICBISEhWVlZpaWmNjY2dnZ2ioqKsrKza8/jn5+fx8fH29vY9PT1NTU29vb3S0tIBrMsPsM4Uss4Ys88zMzNBQUFeyt5eXl560+Oq4+3Z2dn0+/0VFRUYGBgrKysuutQyMjJAwNdERERsbGx00uKG1+anp6fExMTj9vnp9/nr6+souNNTU1NYyd2U3OmWlpa0tLSxsbHd3d3y8vL///8zvdVcyt1paWmh3+v6/v////////9SUlK+6vK86PLE7PPO8PX///////////////8Aq8oAAAABq8mJzXxPAAAAaHRSTlOyAPv++7O59rf48M/bs9m06dX83vTv7My8ubi219PQw8C+/fLj39nOysjFure1s+fiwbz++ff16ubc3NTGu7X39e7t6+bl19XQx8C4t7bv397My8TEurVk693YybOQC+DBwb+8m28sFiZCm0sAAANPSURBVEjHxdXndtowGAbgN3KMsWM3HkApmwINezQtKwnZu2ma2b2X1fu/gH4CDm6AnpMfDX1/gCTbPJb0HYG52ee/mLPP3ZrHz2Zu7i/Pvy7N2Hzquu6T/dJMzXnXnSd1pfc3M+KDF1+0P3SRL5aH3bH45FuZOw9WaLLNs+lmNcSWRqNr/XZinXOuWMCJFsPNRNTzW5n3gAedX677fHWaeSlJ2dFomC8AMd4uPk62eRx+5RFuJtpN3tKkfNqifd35Omnm1h07PWgu9s2w3ZLFr4cUvzAjw9Us+6qjhw1fGSJyJDL4LvsWJ82DFZw1aWc7pTEzyrJJngClEFS1JTJjvAGRZCzsV3ST2dpjui2rSmpMRmSzCOQVm9WugFSQ2UG6uWwycXHMPJ53j9E7oG19+qJ0wzzn+evQJjXSkllIMDJrrIJh/IrkpJMb25DNjXx6geXgk+7jkOfSxUCNNj97dNS2U2hnLtP3pfyUeVIevH5IJbz6p2lmorA4zaQWIMoiM6TAM0MyUF83ilzU1qntE2YwSINx6UQXT4TpRQJZGlgqjpudzqD31qUF7nnmYymbSp3bezDUOnVTZLYU2TN1+tTVxZgk9us+T5JpSDn0o4UWKKqJOg/FU8ZE3T50ByfgPpnNd55p8X4y136mD+u2zgaFcVg7ohoamA4DpcCLZJb5G/SjME3kFJX4NuOBxnRz9TmRWyWMTDkQ9FMsfnG9vivqhswlXoBIW10bmRY/6b9gWsyTO2KB8tWgOTg2qlTZciOgTTF7n3eW3V9bb726FcYeKFeSg9ZGGdDJrAbUMEB0DiPzUrIAeVszyMR2oAo4zHDYGrCmWv5AHEA9M2mevVoeHQsjs2tfDSqJyWkpmOiqZCKlsPqjXd6qeqaxy/RE1i5AmA1mJk5ZHNGNTDyeyVTQZfqCbluTJonNg3fwzG+AvDe8seD4cGFqH4+chlg3Z1MzLQOo7B1SN//GQCUW0nYLwEk3JXZaMxNi93PBTScMRPSQ1kpg0nSf3Du+cfa9xHi8s0T2mlOHFoelbRjD78FFz2yu7HzpPBmeBZ75A3cVMikv0APGzLmxif7j/+xXNMdJ88N73FH2l7eoWKeZcx9eYqYhk/Lz+3vMLnO/AZrghUYRBtUlAAAAAElFTkSuQmCC",n.style.position="absolute",n.style.right="0",document.body.appendChild(n),e.onload=function(){o.style.top=e.offsetTop-o.offsetHeight-e.offsetHeight/2+"px",n.style.top=e.offsetTop-e.offsetHeight/2+"px"},this._imgRimless=e,this._imgClose=o,this._imgAd=n},e.prototype.onClose=function(){this.hide()},e.prototype.onClick=function(){window.HdAd.clickReward(this._award.c),this.hide()},e.prototype.onHide=function(){var t,e,o;null===(t=this._imgRimless)||void 0===t||t.remove(),null===(e=this._imgClose)||void 0===e||e.remove(),null===(o=this._imgAd)||void 0===o||o.remove(),this.ui.img.node.width=0,this.ui.img.node.height=0,this.ui.img.sizeMode=cc.Sprite.SizeMode.TRIMMED},e.prototype.showEffect=function(){return c(this,void 0,void 0,function(){return a(this,function(){return[2]})})},e.prototype.onAfterShow=function(){},e.prototype.hideEffect=function(){return c(this,void 0,void 0,function(){return a(this,function(){return[2]})})},e.prototype.onAfterHide=function(){},r([f,d("CREATE_UI/UIRimless")],e)}(l.default);o.default=_,cc._RF.pop()},{"../Components/Gif/SpriteGif":"SpriteGif","../Frame/UIForms/UIWindow":"UIWindow","../Utils/AsyncUtils":"AsyncUtils","../Utils/ComTools":"ComTools"}],UIScreen:[function(t,e,o){"use strict";cc._RF.push(e,"eb43dpXrHlLw7ySViYcwkvk","UIScreen");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../UIBase"),a=t("../../Global/EnumDefine"),s=a.EnumDefine.EUIType,l=cc._decorator,u=l.ccclass,p=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uiType=s.Screen,e}return i(e,t),Object.defineProperty(e.prototype,"ui",{get:function(){return a.EnumDefine,this._ui},enumerable:!1,configurable:!0}),r([u],e)}(c.default));o.default=p,cc.UIScreen=p,cc._RF.pop()},{"../../Global/EnumDefine":"EnumDefine","../UIBase":"UIBase"}],UITips:[function(t,e,o){"use strict";cc._RF.push(e,"e1918dGoyhFU5urjUuev+2+","UITips");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../UIBase"),a=t("../../Global/EnumDefine").EnumDefine.EUIType,s=cc._decorator,l=s.ccclass,u=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uiType=a.Tips,e}return i(e,t),Object.defineProperty(e.prototype,"ui",{get:function(){return this._ui},enumerable:!1,configurable:!0}),r([l],e)}(c.default));o.default=u,cc.UITips=u,cc._RF.pop()},{"../../Global/EnumDefine":"EnumDefine","../UIBase":"UIBase"}],UIWindow:[function(t,e,o){"use strict";cc._RF.push(e,"3dc6dMc26pBU5x15stgt3Ey","UIWindow");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../UIBase"),l=t("../../Global/EnumDefine"),u=l.EnumDefine.EUIType,p=l.EnumDefine.EMaskOpacity,h=cc._decorator,f=h.ccclass,d=h.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uiType=u.Window,e.maskOpacity=p.OpacityHalf,e.clickMaskClose=!0,e}return i(e,t),Object.defineProperty(e.prototype,"ui",{get:function(){return this._ui},enumerable:!1,configurable:!0}),e.prototype.showEffect=function(){return c(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return this.node.scale=0,t=this,[4,new Promise(function(e){cc.tween().target(t.node).to(.3,{scale:1},{easing:"backOut"}).call(function(){e(!0)}).start()})];case 1:return e.sent(),[2]}})})},r([d({tooltip:"\u900f\u660e\u5ea6\u53ca\u662f\u5426\u53ef\u7a7f\u900f",type:cc.Enum(p)})],e.prototype,"maskOpacity",void 0),r([d({tooltip:"\u662f\u5426\u70b9\u51fb\u9634\u5f71\u5173\u95ed\u754c\u9762",visible:function(){return this.maskOpacity>p.None}})],e.prototype,"clickMaskClose",void 0),r([f],e)}(s.default);o.default=_,cc.UIWindow=_,cc._RF.pop()},{"../../Global/EnumDefine":"EnumDefine","../UIBase":"UIBase"}],Util:[function(t,e,o){"use strict";cc._RF.push(e,"4121bocITNCQ6EUj6n+KChm","Util"),Object.defineProperty(o,"__esModule",{value:!0}),o.compareToEquals=o.reverseCompareFunction=o.isString=o.isUndefined=o.isFunction=o.makeString=o.defaultToString=o.defaultEquals=o.defaultCompare=o.has=void 0;var n=Object.prototype.hasOwnProperty;function i(t){return"function"==typeof t}function r(t){return void 0===t}function c(t){return"[object String]"===Object.prototype.toString.call(t)}o.has=function(t,e){return n.call(t,e)},o.defaultCompare=function(t,e){return t<e?-1:t===e?0:1},o.defaultEquals=function(t,e){return t===e},o.defaultToString=function(t){return null===t?"COLLECTION_NULL":r(t)?"COLLECTION_UNDEFINED":c(t)?"$s"+t:"$s"+t.toString()},o.makeString=function(t,e){if(void 0===e&&(e=","),null===t)return"COLLECTION_NULL";if(r(t))return"COLLECTION_UNDEFINED";if(c(t))return t.toString();var n="{",i=!0;for(var a in t)o.has(t,a)&&(i?i=!1:n+=e,n=n+a+":"+t[a]);return n+"}"},o.isFunction=i,o.isUndefined=r,o.isString=c,o.reverseCompareFunction=function(t){return i(t)?function(e,o){return-1*t(e,o)}:function(t,e){return t<e?1:t===e?0:-1}},o.compareToEquals=function(t){return function(e,o){return 0===t(e,o)}},cc._RF.pop()},{}],WinState:[function(t,e,o){"use strict";cc._RF.push(e,"f3670P6mN9IsLkYD7oBePU0","WinState");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.WinState=void 0;var r=t("./LevelState"),c=function(t){function e(e){return t.call(this,e,r.ELevelState.Win)||this}return i(e,t),e.prototype._DoEnter=function(){},e.prototype._DoExit=function(){},e.prototype._DoRunning=function(){},e}(r.LevelState);o.WinState=c,cc._RF.pop()},{"./LevelState":"LevelState"}],WorldOptions:[function(t,e){"use strict";cc._RF.push(e,"ec08edT6ntNoKD+xvlkI0R4","WorldOptions"),cc._RF.pop()},{}]},{},["Ref","UIConfig","UIAward_Auto","UIFight_Auto","UIFullAward_Auto","UILoading_Auto","UIMain_Auto","UINoPrizes_Auto","UIOptions_Auto","UIPrizes_Auto","UIRimless_Auto","ArcProgressBar","AwardItem","AwardScroll","Barrage","ButtonPlus","ColorAssembler2D","DelayShow","Gif","GifMgr","GifRender","SpriteGif","JellyTween","List","ListItem","MainTest","MaskPlus","Msg","Body","Box","Capsule","Circle","Convex","Heightfield","Line","Particle","Plane","Shape","ContactMaterialOptions","WorldOptions","P2Enum","P2Interface","P2World","SpriteGray","SwitchIcon","AdapterMgr","AudioEffect","AudioMgr","AudioMusic","ConfigMgr","Const","GameConfig","EventMgr","EventType","LRUCache","LanguageMgr","DataProxy","LocalDataMgr","LocalGame","LocalPlayer","HttpRequest","P2Mgr","ResMgr","Struct","TimerMgr","UIBase","UIData","UIForm","UIFixed","UIScreen","UITips","UIWindow","UIMask","UIMgr","EnumDefine","Global","Interfaces","Macro","Coin","CoinIdle","CoinMove","CoinNone","CoinRecover","CoinState","PlayerData","Game","Level","ExitState","FightState","LevelState","LoadState","LoseState","PauseState","RebornState","SwitchLevelState","WinState","StateStep","LinkedStepList","Obstacle","ObstacleChain","ObstacleFog","ObstacleIceCake","ObstacleNone","ObstacleState","ObstacleVine","Slot","Root","SdkMgr","UIAward","UIFight","UIFullAward","UILoading","UIMain","UINoPrizes","UIOptions","UIPrizes","UIRimless","AStar","AStarGrid","AStarNode","AStarTemp","Demo","AsyncUtils","BigNumUtils","ComTools","CommonUtils","DebugUtil","Dictionary","BaseState","StateMachine","GameTimer","GoogolUtils","Handler","LayaPool","LinkedDictionary","Logger","MatchUtils","Pool","Base64","StorageMgr","StringEx","Util"]);